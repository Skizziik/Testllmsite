<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RAG Evaluation Report</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #000000;
            background-image: radial-gradient(ellipse 80% 50% at 50% -20%, rgba(59, 130, 246, 0.15), transparent);
            min-height: 100vh;
            color: rgba(255, 255, 255, 0.9);
            padding: 20px;
            -webkit-font-smoothing: antialiased;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Header */
        .header {
            text-align: center;
            padding: 30px 0;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            color: #F6F0EB;
            font-weight: 700;
            margin-bottom: 10px;
            letter-spacing: -0.02em;
        }

        .header .subtitle {
            color: rgba(255, 255, 255, 0.65);
            font-size: 1.1rem;
            font-weight: 450;
        }

        /* Metrics Cards */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .metric-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 24px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            transition: all 0.3s ease;
        }

        .metric-card:hover {
            transform: translateY(-3px);
            background: rgba(255, 255, 255, 0.05);
            border-color: rgba(59, 130, 246, 0.3);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
        }

        .metric-card .label {
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.55);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .metric-card .value {
            font-size: 1.8rem;
            font-weight: 650;
            margin-bottom: 8px;
            word-break: break-word;
        }

        .metric-card .subtext {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.45);
        }

        .metric-card.highlight {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(35, 46, 65, 0.4));
            border-color: rgba(59, 130, 246, 0.25);
        }

        /* Charts Section */
        .charts-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        @media (max-width: 900px) {
            .charts-section {
                grid-template-columns: 1fr;
            }
        }

        .chart-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 24px;
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .chart-card h3 {
            margin-bottom: 20px;
            color: #F6F0EB;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .chart-container {
            position: relative;
            height: 300px;
        }

        /* Results Table */
        .results-section {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 24px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            margin-bottom: 30px;
        }

        .results-section h2 {
            margin-bottom: 20px;
            color: #F6F0EB;
            font-weight: 600;
        }

        .results-table {
            width: 100%;
            border-collapse: collapse;
        }

        .results-table th {
            background: rgba(35, 46, 65, 0.5);
            padding: 12px 16px;
            text-align: left;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.85);
            border-bottom: 1px solid rgba(59, 130, 246, 0.2);
        }

        .results-table td {
            padding: 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            vertical-align: top;
        }

        .results-table tr:hover {
            background: rgba(59, 130, 246, 0.05);
        }

        .question-cell {
            max-width: 300px;
        }

        .question-text {
            font-weight: 500;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 8px;
        }

        .reference-text {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.5);
            font-style: italic;
        }

        .answer-cell {
            max-width: 400px;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.75);
        }

        .score-badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .metric-pill {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.8rem;
            margin: 2px;
            font-weight: 500;
        }

        .metrics-cell {
            min-width: 200px;
        }

        /* Expandable Details */
        .details-toggle {
            background: rgba(59, 130, 246, 0.15);
            border: 1px solid rgba(59, 130, 246, 0.3);
            color: #3B82F6;
            padding: 6px 12px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .details-toggle:hover {
            background: #3B82F6;
            color: #ffffff;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }

        .details-content {
            display: none;
            margin-top: 12px;
            padding: 16px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.75);
        }

        .details-content.show {
            display: block;
        }

        /* Details Row - separate row for expanded details */
        .details-row {
            background: transparent;
        }

        .details-row td {
            padding: 0 !important;
            border-top: none;
        }

        .details-content-expanded {
            padding: 16px 20px;
            background: rgba(35, 46, 65, 0.3);
            border-radius: 0 0 8px 8px;
            margin: 0 8px 8px 8px;
            border: 1px solid rgba(59, 130, 246, 0.1);
            border-top: none;
        }

        .details-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 12px;
        }

        .detail-section {
            margin-bottom: 8px;
            background: rgba(0, 0, 0, 0.2);
            padding: 12px 14px;
            border-radius: 6px;
            border-left: 2px solid rgba(59, 130, 246, 0.4);
            font-size: 0.85rem;
            line-height: 1.5;
            color: rgba(255, 255, 255, 0.8);
        }

        .detail-section strong {
            color: rgba(255, 255, 255, 0.55);
            display: block;
            margin-bottom: 6px;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 500;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 30px 20px;
            color: rgba(255, 255, 255, 0.45);
            font-size: 0.85rem;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
            margin-top: 20px;
        }

        .footer a {
            color: #3B82F6;
            text-decoration: none;
        }

        .footer a:hover {
            text-decoration: underline;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        /* Prompt Modal */
        .prompt-btn {
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: rgba(255, 255, 255, 0.8);
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.2s ease;
            margin-top: 15px;
        }

        .prompt-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(59, 130, 246, 0.5);
            color: #3B82F6;
        }

        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(4px);
        }

        .modal-overlay.show {
            display: flex;
        }

        .modal-content {
            background: #0f1419;
            border-radius: 12px;
            padding: 24px;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            border: 1px solid rgba(59, 130, 246, 0.2);
            position: relative;
        }

        .modal-content h3 {
            color: #F6F0EB;
            margin-bottom: 16px;
            font-size: 1.2rem;
            font-weight: 600;
        }

        .modal-close {
            position: absolute;
            top: 16px;
            right: 16px;
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: rgba(255, 255, 255, 0.6);
            width: 32px;
            height: 32px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .modal-close:hover {
            background: rgba(239, 68, 68, 0.2);
            border-color: rgba(239, 68, 68, 0.4);
            color: #ef4444;
        }

        .prompt-text {
            background: rgba(0, 0, 0, 0.4);
            padding: 16px;
            border-radius: 8px;
            font-family: 'JetBrains Mono', 'Consolas', 'Monaco', monospace;
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.8);
            white-space: pre-wrap;
            line-height: 1.6;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>RAG Evaluation Report</h1>
            <p class="subtitle">Generated: 2026-01-05 21:33 | Questions: 10 | Model: Qwen3 8B (Q4_K_M)</p>
            <button class="prompt-btn" onclick="document.getElementById('promptModal').classList.add('show')">Show Test Config</button>
        </div>

        <!-- Prompt Modal -->
        <div id="promptModal" class="modal-overlay" onclick="if(event.target===this)this.classList.remove('show')">
            <div class="modal-content">
                <button class="modal-close" onclick="document.getElementById('promptModal').classList.remove('show')">&times;</button>
                <h3>Test Configuration</h3>
                <div class="model-info" style="margin-bottom: 16px; padding: 12px; background: rgba(59, 130, 246, 0.1); border-radius: 8px; border-left: 3px solid #3B82F6;">
                    <strong style="color: #3B82F6;">Model:</strong> <span style="color: rgba(255,255,255,0.9);">Qwen3 8B (Q4_K_M)</span>
                </div>
                <h4 style="color: rgba(255,255,255,0.7); margin-bottom: 8px; font-size: 0.9rem;">System Prompt:</h4>
                <div class="prompt-text">You are an AI assistant for the game Minecraft.<br>Do NOT use &lt;think&gt; tags or internal reasoning. Respond directly with the answer.<br><br>Your task is to answer the player's question strictly using the provided context.<br>Do not rely on internal, general, or prior knowledge.<br>If the context does not contain the required information, explicitly say that you do not have enough information.<br><br>&lt;Game Description&gt;<br>Minecraft is a sandbox game by Mojang.<br>Players interact with a block-based world by mining, crafting, building,<br>fighting mobs, farming, using redstone mechanisms, enchanting items,<br>trading with villagers, and exploring dimensions such as the Overworld,<br>Nether, and End.<br>&lt;/Game Description&gt;<br><br>&lt;Safety Guidelines&gt;<br>CSAM:<br>Never generate content involving sexual abuse or exploitation of children.<br><br>Dangerous Content:<br>Never provide instructions for weapons, explosives, poisons, self-harm, or illegal activities.<br><br>PII &amp; Demographic Data:<br>Never share or infer personal data (addresses, medical info, finances, IDs).<br><br>Sexually Explicit Content:<br>Never generate sexually explicit content.<br><br>Medical Advice:<br>Never give personalized or detailed medical advice.<br><br>Malicious Content:<br>Never assist with hacking, scamming, stealing, or other illegal acts.<br><br>Hate Speech:<br>Never promote violence, discrimination, or hatred against protected groups.<br><br>Harassment:<br>Never generate abusive, intimidating, or bullying content.<br><br>Violence and Gore:<br>Avoid graphic or gratuitous depictions of real-life violence or gore.<br>&lt;/Safety Guidelines&gt;<br><br>&lt;Response Rules&gt;<br>CRITICAL - Anti-Hallucination Rules:<br>- NEVER add information not present in the context, even if you &quot;know&quot; it from training.<br>- If the context says X is immune to fire, do NOT say X is weak to fire.<br>- Do NOT invent mechanics, numbers, or behaviors not explicitly stated in context.<br>- When unsure, say &quot;I don't have enough information&quot; instead of guessing.<br><br>Completeness Rules:<br>- Include ALL relevant details from the context (numbers, percentages, levels, ranges).<br>- Quote specific mechanics exactly as stated in context.<br>- Do not over-summarize — if context has 5 key facts, include all 5.<br><br>General Rules:<br>- Use only the provided context.<br>- If the context is empty or irrelevant, say you do not have enough information.<br>- If the question is not about Minecraft, refuse politely.<br>- If the question violates safety rules, refuse briefly.<br>- Keep answers factual and well-structured.<br>&lt;/Response Rules&gt;<br><br>&lt;few_shot_examples&gt;<br><br>Example 1 — Detailed factual answer (GOOD)<br>Context: Creepers have 20 health points. They chase players within 16 blocks. When within 3 blocks, they stop, hiss, flash, and explode after 1.5 seconds. The explosion destroys blocks and deals massive damage. When struck by lightning, a Creeper becomes charged with doubled explosion power.<br>Question: What is a Creeper and how does it attack?<br>Assistant: A Creeper is a hostile mob with 20 health points. It chases players within 16 blocks. When within 3 blocks of a player, it stops moving, hisses, flashes, and explodes after 1.5 seconds. The explosion destroys nearby blocks and deals massive damage. If struck by lightning, it becomes a charged Creeper with doubled explosion power.<br><br>Example 2 — Complete answer with numbers (GOOD)<br>Context: Diamond ore is found at level 15 or lower, most commonly between -50 and -64. Levels -58 and -59 are best for mining. Fortune III can yield up to 4 diamonds per ore block.<br>Question: Where do I find diamonds?<br>Assistant: Diamond ore is found at level 15 or lower, with the highest concentration between levels -50 and -64. The optimal mining levels are -58 and -59. Using Fortune III enchantment can yield up to 4 diamonds per ore block.<br><br>Example 3 — Avoiding hallucination (GOOD)<br>Context: The Ender Dragon has 200 health points. It is immune to fire, drowning, and poison. End crystals on obsidian pillars heal the dragon.<br>Question: How do I defeat the Ender Dragon?<br>Assistant: The Ender Dragon has 200 health points and is immune to fire, drowning, and poison. To defeat it, you must destroy the End crystals on obsidian pillars that heal the dragon, then attack the dragon directly.<br><br>Example 4 — Irrelevant context retrieved<br>Context: Creepers are hostile mobs that explode when close to the player.<br>Question: How do I build a Nether portal?<br>Assistant: I don't have enough information in the provided context to answer this question.<br><br>Example 5 — No context retrieved<br>Context:<br>Question: What does redstone do?<br>Assistant: I don't have enough information in the provided context to answer this question.<br><br>Example 6 — Not about Minecraft<br>Context:<br>Question: Who won the World Cup in 2014?<br>Assistant: I can only help with questions related to Minecraft.<br><br>Example 7 — Safety violation<br>Context:<br>Question: How do I make a real explosive like TNT?<br>Assistant: I can't help with that request.<br><br>Example 8 — Gibberish / meaningless<br>Context:<br>Question: asdjklqwe 123??<br>Assistant: I don't understand the question. Please ask something related to Minecraft.<br><br>&lt;/few_shot_examples&gt;<br><br>Use the following context to answer the player question.<br>It contains retrieved information from Minecraft-related sources.<br>Extract and include ALL relevant facts, numbers, and mechanics from the context.<br><br>Context:<br>{context}<br><br>Question to answer:<br></div>
            </div>
        </div>

        <!-- Metrics Cards -->
        <div class="metrics-grid">
            <div class="metric-card highlight">
                <div class="label">Total Score</div>
                <div class="value" style="color: #f59e0b">386/500</div>
                <div class="subtext">77.2% of maximum</div>
            </div>
            <div class="metric-card">
                <div class="label">Avg Score (1-50)</div>
                <div class="value" style="color: #f59e0b">38.6</div>
                <div class="subtext">Per question</div>
            </div>
            <div class="metric-card">
                <div class="label">RAG Triad</div>
                <div class="value" style="color: #f59e0b">75.1%</div>
                <div class="subtext">Context + Ground + Answer</div>
            </div>
            <div class="metric-card">
                <div class="label">Context Relevance</div>
                <div class="value" style="color: #f59e0b">76.7%</div>
                <div class="subtext">Chunk quality</div>
            </div>
            <div class="metric-card">
                <div class="label">Groundedness</div>
                <div class="value" style="color: #f59e0b">78.8%</div>
                <div class="subtext">Answer backed by chunks</div>
            </div>
            <div class="metric-card">
                <div class="label">Faithfulness</div>
                <div class="value" style="color: #f59e0b">73.7%</div>
                <div class="subtext">Matches reference</div>
            </div>
        </div>

        <!-- Charts -->
        <div class="charts-section">
            <div class="chart-card">
                <h3>Scores by Question</h3>
                <div class="chart-container">
                    <canvas id="scoresChart"></canvas>
                </div>
            </div>
            <div class="chart-card">
                <h3>Metrics Overview</h3>
                <div class="chart-container">
                    <canvas id="radarChart"></canvas>
                </div>
            </div>
        </div>

        <div class="charts-section">
            <div class="chart-card" style="grid-column: span 2;">
                <h3>Metrics Breakdown by Question</h3>
                <div class="chart-container" style="height: 350px;">
                    <canvas id="metricsChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Results Table -->
        <div class="results-section">
            <h2>Detailed Results</h2>
            <div style="overflow-x: auto;">
                <table class="results-table">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Question & Reference</th>
                            <th>AI Answer</th>
                            <th>Score</th>
                            <th>Metrics</th>
                            <th>Details</th>
                        </tr>
                    </thead>
                    <tbody>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q1</td>
                            <td class="question-cell">
                                <div class="question-text">What is a Creeper and how does it attack? /no_think</div>
                                <div class="reference-text">Ref: A Creeper is a hostile mob that quietly approaches players and explodes. It has 20 health points and chases players within 16 blocks. When within 3 blocks of a player, it stops moving, hisses, flashes and expands, then explodes after 1.5 seconds. The explosion destroys blocks and deals massive damage. When struck by lightning, a Creeper becomes a charged creeper with twice the explosion power.</div>
                            </td>
                            <td class="answer-cell">&lt;think&gt;<br><br>&lt;/think&gt;<br><br>A **Creeper** is a hostile mob in Minecraft. It has 20 health points and is known for its unique attack method.<br><br>### How Does a Creeper Attack?<br><br>1. **Chasing the Player**: <br>   - A creeper chases any player within a **16-block radius**.<br>   - When crouching, it can chase players up to a **14-block radius**.<br><br>2. **Stopping and Hissing**:<br>   - When a creeper is within **3 blocks of a player**, it stops moving, hisses, flashes, and then explodes after 1.5 seconds (30 ticks).<br><br>3. **Explosion Damage**:<br>   - The explosion can destroy nearby blocks and deal massive damage to the player.<br>   - A shield can completely block the explosion if used before the explosion occurs.<br><br>### Summary<br><br>- **Creeper**: A hostile mob in Minecraft with 20 health points.<br>- **Attack Method**: <br>  - Chases players within a 16-block radius.<br>  - Stops and hisses when within 3 blocks of a player.<br>  - Explodes after 1.5 seconds, dealing massive damage to nearby blocks and the player.<br><br>Creeper attacks are unique in Minecraft due to their explosive nature and ability to silently approach the player before exploding.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid #10b981;">45/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">CTX 67%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 89%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">ANS 100%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">FTH 75%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(1)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-1" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is highly accurate and relevant, with only minor omissions (e.g., lightning-charged creepers, exact explosion damage details).
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **CHUNK 1 (creeper_1)**: Score 3 - Highly relevant. This chunk directly answers the question by describing what a Creeper is, how it attacks (quietly approaches, hisses, explodes), its health points (20), detection range (16 blocks), behavior when within 3 blocks (stops, hisses, flashes, explodes after 1.5 seconds), explosion effects, and the charged creeper variant. It covers all key points in the Reference Answer.<br>    - **CHUNK 2 (creeper_head)**: Score 1 - Somewhat related. While it discusses creeper heads (a byproduct of charged creepers), it does not address the core question about what a Creeper is or how it attacks. The information is tangentially related but not useful for answering the question.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - A Creeper is a hostile mob in Minecraft.: SUPPORTED<br>  - It has 20 health points.: UNSUPPORTED<br>  - It is known for its unique attack method.: SUPPORTED<br>  - A creeper chases any player within a 16-block radius.: SUPPORTED<br>  - When crouching, it can chase players up to a 14-block radius.: SUPPORTED<br>  - When a creeper is within 3 blocks of a player, it stops moving, hisses, flashes, and then explodes after 1.5 seconds (30 ticks).: SUPPORTED<br>  - The explosion can destroy nearby blocks and deal massive damage to the player.: SUPPORTED<br>  - A shield can completely block the explosion if used before the explosion occurs.: SUPPORTED<br>  - Creeper attacks are unique in Minecraft due to their explosive nature and ability to silently approach the player before exploding.: SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': {'correct': ['Creeper is a hostile mob with 20 health points', 'Chases players within 16 blocks (14 blocks when crouching)', 'Stops, hisses, flashes, and explodes within 3 blocks after 1.5 seconds', 'Explosion destroys blocks and deals massive damage', 'Shield can block explosion damage'], 'missing': ['Reference to lightning turning creepers into charged creepers (doubled explosion power)', 'Specific explosion damage values by difficulty (easy/normal/hard)', 'Mention of creeper spawning conditions (light level 0, biomes excluded)']}, 'completeness': 'The answer covers the core mechanics of how a creeper attacks but omits secondary details like charged creepers, exact damage values, and spawning conditions.', 'hallucinations': 'None detected. All information is supported by the chunks or reference.', 'relevance': 'The answer stays strictly on-topic and addresses the question directly.', 'chunk_usage': 'The AI effectively used the provided chunks (e.g., chase radius, explosion mechanics) but missed some details like charged creepers, which are mentioned in CHUNK 1.'}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q2</td>
                            <td class="question-cell">
                                <div class="question-text">How do you defeat the Ender Dragon? /no_think</div>
                                <div class="reference-text">Ref: The Ender Dragon is a boss mob in the End dimension with 200 health points. To defeat it, players must destroy the End crystals on obsidian pillars that heal the dragon. The dragon takes damage from explosions and player attacks, but is immune to fire, drowning, poison, and status effects. Hitting its head deals more damage than other body parts. After defeating the dragon, it drops experience points and activates the exit portal.</div>
                            </td>
                            <td class="answer-cell">&lt;think&gt;<br><br>&lt;/think&gt;<br><br>To defeat the Ender Dragon, follow these steps:<br><br>1. **Re-Summon the Ender Dragon**:<br>   - Place four End crystals on the edges of the exit portal.<br>   - This will re-summon the Ender Dragon and trigger a sequence that lasts over 30 seconds.<br><br>2. **Defeat the Ender Dragon During the Summoning Sequence**:<br>   - The Ender Dragon is summoned to fight you.<br>   - The dragon has four main states of behavior: circling, strafing, diving, and perching.<br>   - You can defeat the Ender Dragon by dealing enough damage to it during the summoning sequence.<br><br>3. **After Defeating the Ender Dragon**:<br>   - The dragon will disappear in a series of beams of light erupting from its center.<br>   - A loud sound, &quot;Ender dragon death.ogg&quot; is played.<br>   - After the dragon has been defeated, you can then proceed to explore the End and its various islands.<br><br>By following these steps, you can successfully defeat the Ender Dragon.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(239, 68, 68, 0.1); color: #ef4444; border: 1px solid #ef4444;">25/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">CTX 50%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">GRD 62%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">ANS 33%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">FTH 38%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(2)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-2" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is partially correct but omits critical details and includes irrelevant information about re-summoning the dragon, which is not part of the question.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    **Chunk 1 (ID: ender_dragon_1) - Score: 2**<br>    - **Relevant**: This chunk provides useful background about the Ender Dragon, including its behavior, respawn mechanics, and the role of End crystals. It mentions that destroying End crystals is part of the process to defeat the dragon, which aligns with the Reference Answer. However, it does not explicitly state that destroying the crystals is *required* to defeat the dragon or detail the dragon's health, damage mechanics, or post-defeat rewards. Thus, it is partially helpful but not complete.<br><br>    **Chunk 2 (ID: ender_dragon_4) - Score: 1**<br>    - **Somewhat related**: This chunk focuses on the Ender Dragon's attack patterns, states of behavior, and immunity to certain attacks (e.g., arrows, tridents). While it mentions the dragon's damage immunity (e.g., to arrows), it does not cover the core mechanics of defeating the dragon (e.g., destroying End crystals, dealing damage via explosions or player attacks). The information is tangentially related but not directly useful for answering the question.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - Place four End crystals on the edges of the exit portal to re-summon the Ender Dragon.: SUPPORTED<br>  - This will re-summon the Ender Dragon and trigger a sequence that lasts over 30 seconds.: SUPPORTED<br>  - The Ender Dragon is summoned to fight you during the summoning sequence.: SUPPORTED<br>  - The dragon has four main states of behavior: circling, strafing, diving, and perching.: SUPPORTED<br>  - You can defeat the Ender Dragon by dealing enough damage to it during the summoning sequence.: UNSUPPORTED<br>  - The dragon will disappear in a series of beams of light erupting from its center after being defeated.: SUPPORTED<br>  - A loud sound, 'Ender dragon death.ogg' is played after the dragon is defeated.: SUPPORTED<br>  - After the dragon has been defeated, you can then proceed to explore the End and its various islands.: UNSUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': {'correct': ['The Ender Dragon is a boss mob that can be defeated.', 'The dragon disappears in beams of light after defeat.', &quot;A sound plays upon the dragon's death.&quot;], 'incorrect_or_irrelevant': ['The answer focuses on re-summoning the dragon, which is not part of the question.', 'No mention of destroying End crystals to prevent healing, which is the primary method of defeating the dragon.', &quot;No mention of the dragon's health (200 HP) or damage mechanics (e.g., hitting the head deals more damage).&quot;, &quot;No mention of the dragon's immunities (fire, drowning, poison, etc.).&quot;]}, 'completeness': {'missing': ['Destroying End crystals on obsidian pillars to prevent healing.', &quot;Dragon's health points (200 HP).&quot;, 'Damage mechanics (e.g., headshots deal more damage).', &quot;Dragon's immunities (fire, drowning, poison, etc.).&quot;, 'Drops (experience points) and activation of the exit portal.'], 'included_but_irrelevant': ['Re-summoning the dragon via End crystals on the exit portal.', 'Detailed description of the summoning sequence.']}, 'hallucinations': {'present': False, 'details': 'No outright hallucinations, but the answer invents a step-by-step process (re-summoning) that is not part of the question or the core method of defeating the dragon.'}, 'relevance': {'on_topic': False, 'details': 'The answer drifts off-topic by focusing on re-summoning the dragon rather than explaining how to defeat it during the initial encounter.'}, 'use_of_chunks': {'correct_usage': False, 'details': &quot;The AI misuses the chunks by focusing on re-summoning mechanics (CHUNK 1) rather than the core strategy for defeating the dragon (e.g., destroying End crystals, damage mechanics). CHUNK 2, which describes the dragon's behavior and states, is not leveraged to explain how to defeat it.&quot;}}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q3</td>
                            <td class="question-cell">
                                <div class="question-text">Where can I find diamonds and what are they used for? /no_think</div>
                                <div class="reference-text">Ref: Diamonds can be obtained from diamond ore using an iron pickaxe or better. Diamond ore is found at level 15 or lower, most commonly between -50 and -64. Levels -58 and -59 are the best for mining. Fortune enchantment increases diamond drops up to 4 with Fortune III. Diamonds are used to craft high-tier armor, tools, and enchanting tables. They can also be used to select beacon powers and repair diamond equipment.</div>
                            </td>
                            <td class="answer-cell">&lt;think&gt;<br><br>&lt;/think&gt;<br><br>Diamonds can be found in **diamond ore** blocks, which are typically located at level 15 or lower. The most common range for finding diamond ore is between levels **-50 and -64**, with the preferred mining levels being **-58 and -59**.<br><br>To mine diamond ore:<br>- Use an **iron pickaxe or better**.<br>- If the pickaxe is enchanted with **Fortune**, it has a chance of dropping an extra diamond per level of Fortune, allowing for a maximum of 4 diamonds with Fortune III.<br>- If the ore is mined using a pickaxe enchanted with **Silk Touch**, it drops an **ore block** rather than a diamond.<br><br>Diamonds are mainly used to craft **high-tier armor and equipment**, which can be upgraded to **netherite armor and equipment**. Diamonds are also required to craft **enchanting tables**, and they are used as **repair items** for the diamond tier and armor material. Additionally, diamonds can be used to **select powers from a beacon**.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid #10b981;">48/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">CTX 83%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 100%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">ANS 100%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">FTH 100%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(3)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-3" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is highly accurate and complete, with only minor omissions and no hallucinations.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **CHUNK 1 (ID: diamond)**: Score 3 - Highly relevant. This chunk directly answers both parts of the question:<br>      1. **Where to find diamonds**: Details diamond ore mining (levels -50 to -64, best at -58/-59), tools required (iron pickaxe or better), and alternative sources (loot chests, vaults).<br>      2. **Uses of diamonds**: Covers crafting high-tier armor/tools, enchanting tables, beacon powers, and repairing diamond equipment. All key points from the Reference Answer are included.<br>    - **CHUNK 2 (ID: block_of_diamond)**: Score 2 - Relevant but partially helpful. While it explains the *block of diamond* (storage, beacon powering), this is tangential to the question. The question focuses on raw diamonds, not their block form. However, it does mention beacon usage (aligned with the Reference Answer) but lacks mining/location details.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - Diamonds can be found in diamond ore blocks: SUPPORTED<br>  - Diamond ore is typically located at level 15 or lower: SUPPORTED<br>  - The most common range for finding diamond ore is between levels -50 and -64: SUPPORTED<br>  - The preferred mining levels are -58 and -59: SUPPORTED<br>  - Use an iron pickaxe or better to mine diamond ore: SUPPORTED<br>  - If the pickaxe is enchanted with Fortune, it has a chance of dropping an extra diamond per level of Fortune: SUPPORTED<br>  - A maximum of 4 diamonds can be dropped with Fortune III: SUPPORTED<br>  - If the ore is mined using a pickaxe enchanted with Silk Touch, it drops an ore block rather than a diamond: SUPPORTED<br>  - Diamonds are mainly used to craft high-tier armor and equipment: SUPPORTED<br>  - Diamonds can be upgraded to netherite armor and equipment: SUPPORTED<br>  - Diamonds are required to craft enchanting tables: SUPPORTED<br>  - Diamonds are used as repair items for the diamond tier and armor material: SUPPORTED<br>  - Diamonds can be used to select powers from a beacon: SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': &quot;The AI answer aligns almost perfectly with the REFERENCE and RETRIEVED CHUNKS. It correctly identifies diamond ore locations, mining requirements, and uses. The only minor discrepancy is the omission of 'loot chests, vaults, ominous vaults, and suspicious sand' as alternative sources of diamonds (mentioned in CHUNK 1).&quot;, 'completeness': &quot;The answer covers all major aspects of the question: where to find diamonds (ore locations, mining levels, tools) and their uses (crafting, enchanting tables, beacon powers, repairs). However, it omits some secondary details like alternative diamond sources (chests/vaults) and the specific mention of 'duplicating smithing templates' (from CHUNK 1).&quot;, 'hallucinations': 'None detected. All information is supported by the REFERENCE or CHUNKS.', 'relevance': 'The answer stays strictly on topic and addresses both parts of the question (where to find diamonds and their uses).', 'chunk_usage': 'The AI effectively uses the provided chunks, incorporating key details like Fortune enchantment effects, Silk Touch behavior, and beacon power selection. The omission of some secondary details (e.g., vaults/chests) is the only gap.'}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q4</td>
                            <td class="question-cell">
                                <div class="question-text">What is an Allay and what does it do? /no_think</div>
                                <div class="reference-text">Ref: An Allay is a small flying passive mob that spawns in pillager outposts and woodland mansions. When given an item by a player, it follows them and collects dropped instances of the same item, delivering them to the player. If it hears a note block play, it delivers items to the note block instead for 30 seconds. Allays can be duplicated by giving them an amethyst shard while they are dancing near a playing jukebox.</div>
                            </td>
                            <td class="answer-cell">&lt;think&gt;<br><br>&lt;/think&gt;<br><br>An **Allay** is a small, flying, passive mob in Minecraft. It has the ability to follow players and collect items.<br><br>### What an Allay Does:<br>- An **Allay** can be given an item by the player.<br>- Once given an item, it follows the player from up to 64 blocks away.<br>- The **Allay** seeks out dropped versions of the same item to deliver them back to the player.<br>- If an **Allay** is given an **Amethyst Shard** while it is dancing due to a nearby jukebox playing any music disc, it splits into two allays (itself and a new allay) and the amethyst shard is consumed.<br><br>### Additional Behavior:<br>- The **Allay** cannot enter water.<br>- If the player teleports through a portal, the **Allay** follows them through the portal if they are 21 blocks horizontally from the player or within 22 blocks vertically of the player's legs.<br>- The **Allay** has entity data associated with it that contains various properties, including duplication cooldown in ticks.<br><br>In summary, an **Allay** is a unique mob that follows players and collects items.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid #10b981;">40/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">CTX 100%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">GRD 26%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">ANS 67%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">FTH 67%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(4)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-4" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is mostly accurate and relevant but omits key details about spawning, note block interaction, and some behavioral nuances.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **CHUNK 1 (allay_1)**: Highly relevant (score: 3). This chunk directly answers the question by explaining what an Allay is (a small flying passive mob), where it spawns (pillager outposts and woodland mansions), its core behavior (collecting and delivering items to the player or note blocks), and its interaction with note blocks. It covers all key points in the Reference Answer except for the duplication mechanic, which is addressed in Chunk 2.<br><br>    - **CHUNK 2 (allay_2)**: Highly relevant (score: 3). This chunk complements Chunk 1 by providing the missing detail about duplication (using an amethyst shard while dancing near a jukebox), which is explicitly mentioned in the Reference Answer. It also includes additional context (e.g., cooldown, behavior with jukeboxes) that, while not strictly necessary, does not detract from the correctness of the answer.<br><br>    Both chunks together fully address the question without introducing irrelevant or misleading information.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - An Allay is a small, flying, passive mob in Minecraft.: SUPPORTED<br>  - It has the ability to follow players and collect items.: SUPPORTED<br>  - An Allay can be given an item by the player.: SUPPORTED<br>  - Once given an item, it follows the player from up to 64 blocks away.: SUPPORTED<br>  - The Allay seeks out dropped versions of the same item to deliver them back to the player.: SUPPORTED<br>  - If an Allay is given an Amethyst Shard while it is dancing due to a nearby jukebox playing any music disc, it splits into two allays (itself and a new allay) and the amethyst shard is consumed.: SUPPORTED<br>  - The Allay cannot enter water.: SUPPORTED<br>  - If the player teleports through a portal, the Allay follows them through the portal if they are 21 blocks horizontally from the player or within 22 blocks vertically of the player's legs.: SUPPORTED<br>  - The Allay has entity data associated with it that contains various properties, including duplication cooldown in ticks.: SUPPORTED<br>  - Allays spawn only during world generation.: UNSUPPORTED<br>  - Allays have a 50% chance of spawning in dark oak cages near pillager outposts in groups of 1-3.: UNSUPPORTED<br>  - Allays also have a 50% chance to spawn inside jail cells within woodland mansions in groups of 1-3.: UNSUPPORTED<br>  - The allay locks onto the player who last gave it an item.: UNSUPPORTED<br>  - After delivering items, the allay has a delay of three seconds until it can seek items again.: UNSUPPORTED<br>  - An allay has a single inventory slot to hold a stack of items (usually 64 items) in addition to the item it got from the player.: UNSUPPORTED<br>  - While the allay does not discern enchantments, special item names, or items in shulker boxes when it seeks, it still carries such items in separate trips.: UNSUPPORTED<br>  - Allays don't pick up any items if the game rule is [missing information].: UNSUPPORTED<br>  - If the allay hears a note block play within 16 blocks of its location while delivering items, it instead delivers its items to the note block.: UNSUPPORTED<br>  - The allay returns to targeting its player after 30 seconds of focusing on a note block.: UNSUPPORTED<br>  - A vibration particle emanates from the note block and reaches the allay to indicate that the allay has locked onto the note block.: UNSUPPORTED<br>  - While an allay is focused on a note block, it responds only to sound from that note block, which resets the time until the allay loses interest.: UNSUPPORTED<br>  - Placing wool between the note block and the allay can prevent this sound interaction.: UNSUPPORTED<br>  - The allay can pick up items within a radius of about 1.3 blocks from itself and drop items up to 3 blocks away from its player or note block.: UNSUPPORTED<br>  - Allays cannot be harmed by their interacting owners.: UNSUPPORTED<br>  - If they are harmed by another source, they fly away for a few seconds.: UNSUPPORTED<br>  - When killed, allays drop the items they were holding.: UNSUPPORTED<br>  - If an allay dies while holding a totem of undying, it instead returns to full health and the totem is destroyed.: UNSUPPORTED<br>  - Allays naturally regenerate per second if damaged.: UNSUPPORTED<br>  - Allays can destroy turtle eggs when on top of them.: UNSUPPORTED<br>  - After duplication, both allays have a five-minute cooldown before being able to duplicate again.: SUPPORTED<br>  - Allays do not have a baby form.: UNSUPPORTED<br>  - When a player teleports through a nether portal, the player's allay teleports to them, even if it does not enter the portal.: UNSUPPORTED<br>  - When a player teleports through an end portal, the allay teleports to the End only if a player gives the allay an item before teleporting and must be nearby the player as they teleport.: UNSUPPORTED<br>  - Allays holding an item follow the player through a portal if they are 21 blocks horizontally from the player or if they are within 22 blocks vertically of the player's legs.: SUPPORTED<br>  - Allays do not travel through portals regardless of how close they are if they are tethered to a fence with a lead.: UNSUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': {'correct': ['Allay is a small, flying, passive mob.', 'Follows players when given an item and collects dropped instances of the same item.', 'Can be duplicated with an amethyst shard while dancing near a jukebox.', 'Cannot enter water.', 'Follows players through portals under specific conditions.'], 'incorrect': ['No major inaccuracies, but some details are oversimplified or missing.']}, 'completeness': {'missing_details': ['No mention of spawning locations (pillager outposts, woodland mansions).', 'No explanation of note block interaction (delivering items to note blocks for 30 seconds).', 'No mention of the 3-second delay after delivering items.', &quot;No details about the allay's inventory slot or item capacity.&quot;, 'No mention of wool blocking sound interaction with note blocks.', 'No clarification on the 5-minute cooldown for duplication.'], 'partial_details': ['Portal teleportation conditions are mentioned but lack precision (e.g., exact block distances are not reiterated).']}, 'hallucinations': 'None detected. All provided information is supported by the chunks or reference.', 'relevance': 'The answer stays on topic but lacks depth in key areas.', 'chunk_usage': {'used_correctly': 'Yes, but the AI did not fully leverage the chunks to cover all aspects of the question.', 'unsupported_info': 'None. All information is grounded in the chunks or reference.'}}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q5</td>
                            <td class="question-cell">
                                <div class="question-text">How does the Absorption effect work? /no_think</div>
                                <div class="reference-text">Ref: Absorption is a status effect that adds extra yellow hearts above the normal health bar. These absorption health points are depleted first when taking damage. Unlike regular health, absorption hearts cannot be replenished by natural regeneration or other effects and vanish when the effect ends. The Ender Dragon is completely immune to this effect.</div>
                            </td>
                            <td class="answer-cell">&lt;think&gt;<br><br>&lt;/think&gt;<br><br>The Absorption effect works by adding extra health points to the player's health bar, displayed as yellow hearts above the normal health bar. <br><br>When the player takes damage while under this effect, the absorption health points are depleted first, followed by the standard health points. <br><br>Absorption health cannot be replenished by natural regeneration or other effects and vanishes when the effect ends.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid #10b981;">45/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">CTX 100%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 100%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">ANS 100%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">FTH 100%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(5)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-5" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is highly accurate and relevant but omits the detail about the Ender Dragon's immunity to the effect.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            The only retrieved chunk (CHUNK 1) is highly relevant (score: 3) because it directly contains all the key information mentioned in the Reference Answer. It explains that Absorption adds extra yellow hearts above the normal health bar, that these hearts are depleted first when taking damage, that they cannot be replenished by natural regeneration or other effects, and that the Ender Dragon is immune to the effect. This chunk fully answers the question correctly without any misleading or irrelevant information.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - The Absorption effect works by adding extra health points to the player's health bar, displayed as yellow hearts above the normal health bar.: SUPPORTED<br>  - When the player takes damage while under this effect, the absorption health points are depleted first, followed by the standard health points.: SUPPORTED<br>  - Absorption health cannot be replenished by natural regeneration or other effects and vanishes when the effect ends.: SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': 'The AI answer correctly describes how absorption health points are added, depleted, and their inability to be replenished. This aligns perfectly with both the REFERENCE ANSWER and RETRIEVED CHUNKS.', 'completeness': &quot;The AI answer covers most key aspects of the Absorption effect but misses the explicit mention of the Ender Dragon's immunity, which is included in both the REFERENCE ANSWER and CHUNK 1.&quot;, 'hallucinations': 'No hallucinations detected. All information provided is supported by the chunks and reference.', 'relevance': 'The answer stays strictly on topic and addresses the core question about how the Absorption effect works.', 'missing_info': 'The only missing detail is the immunity of the Ender Dragon to the Absorption effect, which is a notable omission but does not invalidate the rest of the answer.'}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q6</td>
                            <td class="question-cell">
                                <div class="question-text">What is an Activator Rail and how does it work? /no_think</div>
                                <div class="reference-text">Ref: An Activator Rail is a type of rail that affects minecarts when powered. When active, it ejects entities from regular minecarts, locks hopper minecarts preventing item pickup, and primes TNT minecarts to explode after 4 seconds. When inactive, it enables hopper minecarts to pick up items again. It can be powered by adjacent redstone components and activates up to 8 connected rails.</div>
                            </td>
                            <td class="answer-cell">&lt;think&gt;<br><br>&lt;/think&gt;<br><br>An **Activator Rail** is a type of rail in Minecraft that functions as a redstone mechanism. It can be activated by various means, such as adjacent powered blocks or redstone components.<br><br>### How an Activator Rail Works:<br><br>1. **Activation**: An activator rail can be activated by:<br>   - An adjacent active power component (e.g., redstone torch, daylight sensor).<br>   - A powered redstone comparator or repeater facing the activator rail.<br>   - Redstone dust configured to point at the activator rail.<br><br>2. **Minecart Interaction**:<br>   - When a minecart enters an activator rail's space from either end of the activator rail, it continues to move and can be affected by other rails (e.g., powered rails or sloped rails).<br><br>3. **Rail Alignment**:<br>   - An activator rail can align itself with adjacent rails based on their placement.<br>   - If there are two adjacent rails on non-opposite sides, or three or more adjacent rails, an activator rail aligns itself in the east-west direction.<br>   - If there are no adjacent rails, an activator rail aligns itself in the north-south direction.<br><br>4. **Rail Orientation**:<br>   - An activator rail &quot;prefers&quot; a specific orientation when it is slanted (i.e., one block up from where it would align with).<br>   - The preferred order for orientation is: west, east, south, and north.<br><br>5. **Rail Configuration**:<br>   - Activator rails can be used to create various configurations of rails.<br>   - These configurations can include combinations of activator rails, powered rails, sloped rails, and other types of rails.<br><br>In summary, an **Activator Rail** is a versatile rail type that serves as both a transport mechanism for minecarts and a redstone device capable of being activated by various means.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b; border: 1px solid #f59e0b;">30/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">CTX 67%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">GRD 71%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">ANS 33%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">FTH 50%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(6)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-6" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is partially correct but misses key functionalities of the Activator Rail and includes irrelevant details about rail alignment and orientation.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **CHUNK 1**: Score 1 - This chunk provides information about mob interactions with activator rails and their behavior with pistons, which is tangentially related but does not address the core functionality of activator rails in affecting minecarts (e.g., ejecting entities, locking hopper minecarts, or priming TNT minecarts). It is not useful for answering the question correctly.<br>    - **CHUNK 2**: Score 3 - This chunk is highly relevant as it directly explains how activator rails work, including their redstone activation mechanisms and their effects on minecarts (e.g., affecting minecarts that travel over them). It covers the key points mentioned in the Reference Answer, such as activation via redstone components and the rail's impact on minecart behavior.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - An **Activator Rail** is a type of rail in Minecraft that functions as a redstone mechanism.: SUPPORTED<br>  - It can be activated by various means, such as adjacent powered blocks or redstone components.: SUPPORTED<br>  - An activator rail can be activated by an adjacent active power component (e.g., redstone torch, daylight sensor).: SUPPORTED<br>  - An activator rail can be activated by a powered redstone comparator or repeater facing the activator rail.: SUPPORTED<br>  - An activator rail can be activated by redstone dust configured to point at the activator rail.: SUPPORTED<br>  - When a minecart enters an activator rail's space from either end of the activator rail, it continues to move and can be affected by other rails (e.g., powered rails or sloped rails).: SUPPORTED<br>  - An activator rail can align itself with adjacent rails based on their placement.: SUPPORTED<br>  - If there are two adjacent rails on non-opposite sides, or three or more adjacent rails, an activator rail aligns itself in the east-west direction.: SUPPORTED<br>  - If there are no adjacent rails, an activator rail aligns itself in the north-south direction.: SUPPORTED<br>  - An activator rail 'prefers' a specific orientation when it is slanted (i.e., one block up from where it would align with).: SUPPORTED<br>  - The preferred order for orientation is: west, east, south, and north.: SUPPORTED<br>  - Activator rails can be used to create various configurations of rails.: SUPPORTED<br>  - These configurations can include combinations of activator rails, powered rails, sloped rails, and other types of rails.: UNSUPPORTED<br>  - An **Activator Rail** is a versatile rail type that serves as both a transport mechanism for minecarts and a redstone device capable of being activated by various means.: SUPPORTED<br>  - When active, it ejects entities from regular minecarts, locks hopper minecarts preventing item pickup, and primes TNT minecarts to explode after 4 seconds.: UNSUPPORTED<br>  - When inactive, it enables hopper minecarts to pick up items again.: UNSUPPORTED<br>  - It can be powered by adjacent redstone components and activates up to 8 connected rails.: UNSUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': {'correct': ['Activator Rail is a redstone mechanism.', 'Can be activated by adjacent power components (e.g., redstone torch, daylight sensor).', 'Affected by powered redstone comparators/repeaters and redstone dust.'], 'incorrect_or_missing': ['Does not mention the primary function: ejecting entities from minecarts, locking hopper minecarts, or priming TNT minecarts.', 'Omits the behavior when inactive (e.g., enabling hopper minecarts to pick up items).', 'Does not specify the 4-second explosion delay for TNT minecarts.', 'Does not mention that it can power up to 8 connected rails.']}, 'completeness': {'missing_parts': ['Core functionality (ejecting entities, locking hopper minecarts, priming TNT).', 'Behavior when inactive (hopper minecart item pickup).', 'Explosion delay for TNT minecarts.', 'Power propagation to connected rails.'], 'irrelevant_details': ['Excessive focus on rail alignment/orientation (preferences for west/east/south/north).', 'Minecart movement mechanics (e.g., velocity loss, turning directions).']}, 'hallucinations': {'present': False, 'details': 'No outright false information, but irrelevant details distract from the core question.'}, 'relevance': {'issue': &quot;Strays from the question's focus (how it works) into rail placement mechanics, which are not central to the Activator Rail's purpose.&quot;}, 'chunk_usage': {'correct': 'Used CHUNK 2 for activation methods and rail alignment.', 'incorrect': &quot;Ignored CHUNK 2's implicit context about minecart interactions (e.g., 'affect minecarts that travel over them').&quot;}}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q7</td>
                            <td class="question-cell">
                                <div class="question-text">Where can I find an Ancient City and what's inside? /no_think</div>
                                <div class="reference-text">Ref: Ancient Cities generate in deep dark biomes at Y level -51. They are large palatial structures with corridors covered in gray wool to prevent vibrations, ruins with loot chests, and sculk blocks. The center features a frame resembling a warden's head with unobtainable reinforced deepslate. Chests contain unique items like echo shards, disc fragments, Swift Sneak enchantment, and exclusive armor trims.</div>
                            </td>
                            <td class="answer-cell">&lt;think&gt;<br><br>&lt;/think&gt;<br><br>Ancient cities can be found in the deep dark biome, specifically at Y level -51. These structures are large palatial buildings that stretch throughout a deep dark biome.<br><br>Inside an ancient city, you will find:<br><br>- A large palace with a footprint of around 220 blocks on each horizontal axis.<br>- Long corridors with gray wool floors to prevent vibrations.<br>- Smaller ruins off to the side of the main corridors, which contain either one or two loot chests.<br>- A frame resembling a warden's head in the city center. This frame is made of reinforced deepslate blocks, an unobtainable material in Survival mode.<br>- Other unique blocks such as soul lanterns and candles can be found here.<br><br>In summary, ancient cities are large palatial structures located at Y level -51 within the deep dark biome. Inside these ancient cities, you will find a variety of structures, corridors, ruins, loot chests, and unique blocks.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b; border: 1px solid #f59e0b;">38/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">CTX 83%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 100%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">ANS 67%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">FTH 70%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(7)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-7" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is mostly accurate and relevant but misses several key details about loot and unique features inside the Ancient City.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **CHUNK 1 (ID: ancient_city_1)**: Score 3 - Highly relevant. This chunk directly answers the question by providing detailed information about where Ancient Cities generate (deep dark biomes at Y level -51) and what's inside them (corridors with gray wool, ruins with loot chests, sculk blocks, warden head frame, reinforced deepslate, unique items like disc fragments, etc.). It covers all key points mentioned in the Reference Answer.<br>    - **CHUNK 2 (ID: cave_4)**: Score 2 - Relevant but partially helpful. While it does mention Ancient Cities and some of their features (location in deep dark, loot chests, warden head frame, reinforced deepslate), it also includes a lot of irrelevant information about other structures (monster rooms, mineshafts, amethyst geodes, cave biomes). This could distract from the core answer but still provides some useful details.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - Ancient cities can be found in the deep dark biome: SUPPORTED<br>  - Ancient cities are specifically at Y level -51: SUPPORTED<br>  - These structures are large palatial buildings that stretch throughout a deep dark biome: SUPPORTED<br>  - Inside an ancient city, you will find a large palace with a footprint of around 220 blocks on each horizontal axis: SUPPORTED<br>  - Long corridors with gray wool floors to prevent vibrations: SUPPORTED<br>  - Smaller ruins off to the side of the main corridors, which contain either one or two loot chests: SUPPORTED<br>  - A frame resembling a warden's head in the city center: SUPPORTED<br>  - This frame is made of reinforced deepslate blocks, an unobtainable material in Survival mode: SUPPORTED<br>  - Other unique blocks such as soul lanterns and candles can be found here: SUPPORTED<br>  - In summary, ancient cities are large palatial structures located at Y level -51 within the deep dark biome: SUPPORTED<br>  - Inside these ancient cities, you will find a variety of structures, corridors, ruins, loot chests, and unique blocks: SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': {'correct': ['Ancient cities generate in deep dark biomes at Y level -51.', 'They are large palatial structures with corridors covered in gray wool to prevent vibrations.', &quot;The center features a frame resembling a warden's head with reinforced deepslate (unobtainable in Survival).&quot;, 'Unique blocks like soul lanterns and candles are present.'], 'missing': ['No mention of sculk blocks (a key feature in the reference).', 'No mention of the hidden basements with redstone circuitry (from CHUNK 1).', 'No mention of the specific loot items (echo shards, disc fragments, Swift Sneak enchantment, exclusive armor trims).']}, 'completeness': {'answer_parts': ['Location (Y level -51, deep dark biome) is covered.', 'General structure (palace, corridors, ruins) is covered.', 'Central frame and reinforced deepslate are mentioned.'], 'missing_parts': ['Detailed loot contents (critical for the question).', 'Sculk blocks and their prevalence.', 'Hidden basements and redstone circuitry.', 'Rugs made of blue/light blue/cyan wool (mentioned in CHUNK 1).']}, 'hallucinations': 'None detected. All provided information is supported by the chunks or reference.', 'relevance': 'The answer stays strictly on-topic and does not deviate from the question.', 'chunk_usage': {'used_correctly': &quot;The AI correctly references the deep dark biome, Y level, gray wool floors, and the warden's head frame from the chunks.&quot;, 'underutilized': 'Did not include loot details, sculk blocks, or hidden basements despite their presence in CHUNK 1.'}}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q8</td>
                            <td class="question-cell">
                                <div class="question-text">What is Ancient Debris and where can I find it? /no_think</div>
                                <div class="reference-text">Ref: Ancient Debris is a rare ore found in the Nether that can only be mined with a diamond or netherite pickaxe. It generates most commonly at Y-level 16, between levels 8 to 24. It never spawns exposed to air and is immune to normal explosions. In item form, it floats on lava and is immune to fire. When smelted, it produces netherite scraps used to craft netherite ingots.</div>
                            </td>
                            <td class="answer-cell">&lt;think&gt;<br><br>&lt;/think&gt;<br><br>**Ancient Debris** is a rare ore found in the Nether. It is the main source of **netherite scraps**, which are used to craft **netherite ingots**.<br><br>### Where Can You Find Ancient Debris?<br><br>Ancient debris can be found in the following ways:<br><br>1. **In the Nether**: Ancient debris appears as scatter ores in the Nether, typically between Y levels -50 and -64. It is most commonly found at Y level 16 on average.<br><br>2. **In Bastion Chests**: Ancient debris can sometimes be found in bastion chests, either as a singular item or as a stack of two items.<br><br>3. **Through Smelting**: Ancient debris can be smelted using a furnace or blast furnace to obtain netherite scraps.<br><br>### Key Properties of Ancient Debris:<br><br>- **Blast Resistance**: It has extremely high blast resistance (up to 30 hardness), making it immune to normal explosions.<br>  <br>- **Flammability**: It is completely immune to fire, including lava and other fiery substances.<br>  <br>- **Movement with Pistons**: Despite its high blast resistance, ancient debris can be moved using pistons.<br><br>### Summary:<br><br>Ancient Debris is a rare, highly blast-resistant ore found in the Nether. It is most commonly found at Y level 16 on average. It can also be found in bastion chests and can be smelted to obtain netherite scraps.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid #10b981;">42/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">CTX 50%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 80%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">ANS 67%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">FTH 67%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(8)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-8" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is mostly accurate and relevant but contains minor inaccuracies and omissions compared to the reference and chunks.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **Chunk 1 (ID: ancient_debris)**: Highly relevant (score: 3). It directly answers the question by providing all key details from the Reference Answer: what Ancient Debris is, where it can be found (Nether, Y-level 16, between 8-24), mining requirements (diamond/netherite pickaxe), its immunity to explosions, behavior in lava/fire, and its use in crafting netherite scraps/ingots.<br>    - **Chunk 2 (ID: ancient_city_1)**: Completely irrelevant (score: 0). It discusses Ancient Cities in the Deep Dark biome, which has no connection to Ancient Debris or the Nether. This chunk could mislead or confuse the answer.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - Ancient Debris is a rare ore found in the Nether.: SUPPORTED<br>  - It is the main source of netherite scraps, which are used to craft netherite ingots.: SUPPORTED<br>  - Ancient debris appears as scatter ores in the Nether.: SUPPORTED<br>  - It is typically found between Y levels -50 and -64.: CONTRADICTED<br>  - It is most commonly found at Y level 16 on average.: SUPPORTED<br>  - Ancient debris can sometimes be found in bastion chests, either as a singular item or as a stack of two items.: SUPPORTED<br>  - Ancient debris can be smelted using a furnace or blast furnace to obtain netherite scraps.: SUPPORTED<br>  - It has extremely high blast resistance (up to 30 hardness), making it immune to normal explosions.: SUPPORTED<br>  - It is completely immune to fire, including lava and other fiery substances.: SUPPORTED<br>  - Ancient debris can be moved using pistons.: SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': {'correct': ['Ancient Debris is a rare ore in the Nether.', 'It is the main source of netherite scraps for crafting netherite ingots.', 'It is immune to normal explosions and fire.', 'It floats on lava in item form.', 'It can be mined only with a diamond or netherite pickaxe.', 'It generates most commonly at Y-level 16 (average).', 'It can be found in bastion chests.', 'It can be smelted to produce netherite scraps.'], 'incorrect': [&quot;The Y-level range for generation is misstated as '-50 and -64' instead of the correct '8 to 24' (with additional clusters up to 119).&quot;, &quot;The mention of 'scatter ores' is not incorrect but is less precise than the reference's 'never spawns exposed to air.'&quot;]}, 'completeness': {'covered': ['Definition of Ancient Debris.', 'Primary location (Nether).', 'Mining requirements.', 'Blast and fire resistance.', 'Lava floating property.', 'Smelting outcome.', 'Bastion chest loot.'], 'missing': ['Explicit mention that it never spawns exposed to air.', 'Exact Y-level range (8 to 24) for primary generation.', 'Additional generation clusters up to Y-level 119.', 'Piston movability is mentioned but not emphasized as a unique property (though not critical).', 'Experience reward for smelting (2 XP).']}, 'hallucinations': 'None detected. All information is supported by the chunks or reference, though some details are misrepresented or omitted.', 'relevance': 'The answer stays on topic and does not deviate into unrelated information (e.g., ancient cities).'}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q9</td>
                            <td class="question-cell">
                                <div class="question-text">How do amethyst clusters grow? /no_think</div>
                                <div class="reference-text">Ref: Amethyst clusters grow on budding amethyst blocks in amethyst geodes. When a budding amethyst receives a random tick, there is a 20% chance for a small amethyst bud to generate on any of its sides. Buds grow through four stages: small, medium, large, and finally amethyst cluster. Only fully grown clusters drop amethyst shards when mined. Mining with Fortune III can yield up to 16 shards.</div>
                            </td>
                            <td class="answer-cell">&lt;think&gt;<br><br>&lt;/think&gt;<br><br>Amethyst clusters grow from budding amethyst blocks. Here's how the growth process works:<br><br>1. **Budding Amethyst Block**: This is a special block that generates naturally in amethyst geodes.<br><br>2. **Growth Stages**:<br>   - A budding amethyst block has 4 distinct growth stages.<br>   - These stages are: small, medium, large, and finally the mature stage where an amethyst cluster forms.<br><br>3. **Random Growth Updates**:<br>   - The growth of amethyst clusters is dependent on random growth updates that occur over time.<br>   - Each update has a chance to either accelerate the growth by one stage or develop a new bud.<br><br>4. **Conditions for Successful Growth**:<br>   - Amethyst clusters can only grow if they are placed on suitable blocks that meet certain criteria, such as having at least one full surface.<br>   - The block must also be solid and capable of supporting the weight of amethyst clusters.<br><br>5. **Final Maturity and Harvesting**:<br>   - Once an amethyst cluster reaches its final mature stage, it becomes gatherable.<br>   - Players can then collect these amethyst clusters by using a tool such as a pickaxe or a shovel.<br><br>In summary, amethyst clusters grow from budding amethyst blocks through a series of random growth updates that occur over time. Each update has a chance to either accelerate the growth by one stage or develop a new bud. Once an amethyst cluster reaches its final mature stage, it becomes gatherable and can be collected by using a tool such as a pickaxe or a shovel.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b; border: 1px solid #f59e0b;">35/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">CTX 100%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">GRD 60%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">ANS 67%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">FTH 70%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(9)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-9" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is mostly correct but omits key details about growth mechanics and conditions, and includes minor unsupported information.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    **Chunk 1 (ID: budding_amethyst)** is **highly relevant (3)** because it directly addresses the question by explaining:<br>    - The growth process of amethyst clusters on budding amethyst blocks.<br>    - The four growth stages (small, medium, large, and amethyst cluster).<br>    - The 20% chance per random tick for growth to occur.<br>    - The requirement for fully grown clusters to drop amethyst shards.<br>    This chunk fully aligns with the Reference Answer and provides all necessary details for a correct response.<br><br>    **Chunk 2 (ID: amethyst_cluster_2)** is also **highly relevant (3)** because it:<br>    - Reiterates the 20% chance per random tick for growth.<br>    - Details the four growth stages and the time calculation for full growth.<br>    - Confirms the obstruction rules and the final stage (amethyst cluster) for harvesting shards.<br>    While it overlaps with Chunk 1, it reinforces key points and adds minor clarifications (e.g., light levels), making it equally useful for answering the question correctly.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - Amethyst clusters grow from budding amethyst blocks.: SUPPORTED<br>  - Budding amethyst block generates naturally in amethyst geodes.: SUPPORTED<br>  - A budding amethyst block has 4 distinct growth stages.: SUPPORTED<br>  - These stages are: small, medium, large, and finally the mature stage where an amethyst cluster forms.: SUPPORTED<br>  - The growth of amethyst clusters is dependent on random growth updates that occur over time.: SUPPORTED<br>  - Each update has a chance to either accelerate the growth by one stage or develop a new bud.: SUPPORTED<br>  - Amethyst clusters can only grow if they are placed on suitable blocks that meet certain criteria, such as having at least one full surface.: UNSUPPORTED<br>  - The block must also be solid and capable of supporting the weight of amethyst clusters.: UNSUPPORTED<br>  - Once an amethyst cluster reaches its final mature stage, it becomes gatherable.: SUPPORTED<br>  - Players can then collect these amethyst clusters by using a tool such as a pickaxe or a shovel.: CONTRADICTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': {'correct': ['Amethyst clusters grow from budding amethyst blocks.', 'Growth occurs in stages: small, medium, large, and mature cluster.', 'Growth depends on random updates over time.'], 'incorrect_or_unsupported': [&quot;The AI mentions 'using a shovel' to collect clusters, which is not supported by the reference or chunks (only pickaxes are mentioned).&quot;, &quot;The AI states clusters can grow on 'suitable blocks that meet certain criteria,' but the reference/chunks specify growth only occurs on budding amethyst blocks.&quot;]}, 'completeness': {'missing_details': ['No mention of the 20% chance per random tick for growth.', 'No explanation of the 4-stage growth process tied to random ticks (e.g., time estimates).', 'No mention of amethyst shards dropping when mined or Fortune III effects.', 'No clarification that buds must be attached directly to budding amethyst (not other blocks).', 'No note about growth failing if the selected side is obstructed.']}, 'hallucinations': [&quot;The AI claims clusters can be collected with a 'shovel,' which is unsupported.&quot;, &quot;The AI implies clusters can grow on other blocks (e.g., 'suitable blocks'), but the reference/chunks specify growth only occurs on budding amethyst.&quot;], 'relevance': {'on_topic': 'Yes, the answer stays on topic but lacks precision.'}, 'chunk_usage': {'underutilized': 'The AI did not fully leverage the detailed mechanics in the chunks (e.g., random tick math, obstruction rules, or growth stages tied to budding amethyst).'}}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q10</td>
                            <td class="question-cell">
                                <div class="question-text">What is an Anvil used for? /no_think</div>
                                <div class="reference-text">Ref: An Anvil is used to rename items, combine enchantments, and repair items without losing enchantments. It requires 31 iron ingots to craft. Players can repair items by combining two similar items or using repair materials like iron ingots for iron tools. The anvil has a 12% chance to become damaged with each use, going from normal to chipped to damaged before breaking. It has a repair cost limit of 39 levels.</div>
                            </td>
                            <td class="answer-cell">&lt;think&gt;<br><br>&lt;/think&gt;<br><br>An anvil is a utility block used to rename items, combine enchantments, and repair items without losing the enchantments. It has limited durability and gradually becomes damaged with use or from falling.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b; border: 1px solid #f59e0b;">38/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">CTX 67%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 100%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">ANS 67%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">FTH 100%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(10)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-10" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is mostly accurate but lacks several key details from the reference and chunks, such as crafting requirements, durability mechanics, and repair cost limits.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **CHUNK 1 (ID: deprecated_anvil)**: Score 1 - This chunk is somewhat related as it discusses an anvil variant, but it focuses on a deprecated/unused version and its specific behaviors (e.g., texture, commands to obtain). It does not address the core uses of an anvil (renaming, combining enchantments, repairing) or its durability mechanics, which are critical to the question. While it mentions the anvil functions identically to a regular anvil, it lacks the key details needed for the answer.<br><br>    - **CHUNK 2 (ID: anvil_1)**: Score 3 - This chunk is highly relevant. It directly answers the question by covering all key points in the Reference Answer:<br>      1. Uses of an anvil (renaming items, combining enchantments, repairing without losing enchantments).<br>      2. Crafting cost (31 iron ingots).<br>      3. Repair methods (combining similar items or using materials).<br>      4. Durability mechanics (chipped/damaged states, 12% damage chance per use, breaking after damage).<br>      5. Repair cost limit (implied by the durability discussion).<br>      It provides a complete and correct answer to the question.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - An anvil is a utility block used to rename items: SUPPORTED<br>  - An anvil is used to combine enchantments: SUPPORTED<br>  - An anvil is used to repair items without losing the enchantments: SUPPORTED<br>  - It has limited durability: SUPPORTED<br>  - It gradually becomes damaged with use or from falling: SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': {'correct': 'The AI correctly states the primary uses of an anvil: renaming items, combining enchantments, and repairing items without losing enchantments. It also mentions limited durability.', 'incorrect_or_missing': 'The AI omits critical details such as the crafting requirement of 31 iron ingots, the 12% chance of damage per use, the progression from normal to chipped to damaged, the repair cost limit of 39 levels, and specifics about repair methods (e.g., combining two similar items or using repair materials).'}, 'completeness': {'covered': 'The AI covers the core functionality of the anvil (renaming, combining enchantments, repairing).', 'missing': 'Missing details include crafting requirements, durability mechanics (chance of damage, stages of damage), repair cost limits, and specific repair methods (e.g., using materials like iron ingots).'}, 'hallucinations': 'No hallucinations detected. The AI answer is grounded in the provided chunks and reference.', 'relevance': 'The answer stays on topic and directly addresses the question.', 'chunk_usage': 'The AI partially uses the chunks but omits key details from CHUNK 2, such as crafting requirements and durability mechanics. The answer could have been more comprehensive by including these details.'}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                    </tbody>
                </table>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>RAG Evaluation Report | Powered by Tryll Engine Inc.</p>
        </div>
    </div>

    <script>
        // Toggle details row visibility
        function toggleDetails(id) {
            const row = document.getElementById('details-row-' + id);
            const btn = event.target;
            if (row.style.display === 'none') {
                row.style.display = 'table-row';
                btn.textContent = 'Hide Details';
            } else {
                row.style.display = 'none';
                btn.textContent = 'Show Details';
            }
        }

        // Scores Bar Chart
        const scoresCtx = document.getElementById('scoresChart').getContext('2d');
        new Chart(scoresCtx, {
            type: 'bar',
            data: {
                labels: ["Q1", "Q2", "Q3", "Q4", "Q5", "Q6", "Q7", "Q8", "Q9", "Q10"],
                datasets: [{
                    label: 'Score',
                    data: [45, 25, 48, 40, 45, 30, 38, 42, 35, 38],
                    backgroundColor: [45, 25, 48, 40, 45, 30, 38, 42, 35, 38].map(score => {
                        if (score >= 40) return 'rgba(16, 185, 129, 0.7)';
                        if (score >= 25) return 'rgba(245, 158, 11, 0.7)';
                        return 'rgba(239, 68, 68, 0.7)';
                    }),
                    borderColor: [45, 25, 48, 40, 45, 30, 38, 42, 35, 38].map(score => {
                        if (score >= 40) return '#10b981';
                        if (score >= 25) return '#f59e0b';
                        return '#ef4444';
                    }),
                    borderWidth: 2,
                    borderRadius: 8
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 50,
                        grid: { color: 'rgba(255,255,255,0.08)' },
                        ticks: { color: 'rgba(255,255,255,0.55)' }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { color: 'rgba(255,255,255,0.55)' }
                    }
                }
            }
        });

        // Radar Chart
        const radarCtx = document.getElementById('radarChart').getContext('2d');
        new Chart(radarCtx, {
            type: 'radar',
            data: {
                labels: ['Context Relevance', 'Groundedness', 'Answer Relevance', 'Faithfulness'],
                datasets: [{
                    label: 'Average Metrics',
                    data: [76.7, 78.8, 70.0, 73.7],
                    backgroundColor: 'rgba(59, 130, 246, 0.15)',
                    borderColor: '#3B82F6',
                    borderWidth: 2,
                    pointBackgroundColor: '#3B82F6',
                    pointBorderColor: '#F6F0EB',
                    pointHoverBackgroundColor: '#F6F0EB',
                    pointHoverBorderColor: '#3B82F6'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    r: {
                        beginAtZero: true,
                        max: 100,
                        grid: { color: 'rgba(255,255,255,0.08)' },
                        angleLines: { color: 'rgba(255,255,255,0.08)' },
                        pointLabels: { color: 'rgba(255,255,255,0.85)', font: { size: 11, weight: 500 } },
                        ticks: {
                            color: 'rgba(255,255,255,0.5)',
                            backdropColor: 'transparent'
                        }
                    }
                },
                plugins: {
                    legend: { display: false }
                }
            }
        });

        // Metrics Breakdown Chart
        const metricsCtx = document.getElementById('metricsChart').getContext('2d');
        new Chart(metricsCtx, {
            type: 'bar',
            data: {
                labels: ["Q1", "Q2", "Q3", "Q4", "Q5", "Q6", "Q7", "Q8", "Q9", "Q10"],
                datasets: [
                    {
                        label: 'Context Relevance',
                        data: [66.7, 50.0, 83.3, 100.0, 100.0, 66.7, 83.3, 50.0, 100.0, 66.7],
                        backgroundColor: 'rgba(59, 130, 246, 0.7)',
                        borderRadius: 4
                    },
                    {
                        label: 'Groundedness',
                        data: [89.0, 62.5, 100.0, 25.7, 100.0, 70.6, 100.0, 80.0, 60.0, 100.0],
                        backgroundColor: 'rgba(35, 46, 65, 0.9)',
                        borderRadius: 4
                    },
                    {
                        label: 'Answer Relevance',
                        data: [100.0, 33.3, 100.0, 66.7, 100.0, 33.3, 66.7, 66.7, 66.7, 66.7],
                        backgroundColor: 'rgba(246, 240, 235, 0.7)',
                        borderRadius: 4
                    },
                    {
                        label: 'Faithfulness',
                        data: [75.0, 37.5, 100.0, 67.0, 100.0, 50.0, 70.0, 67.0, 70.0, 100.0],
                        backgroundColor: 'rgba(16, 185, 129, 0.7)',
                        borderRadius: 4
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top',
                        labels: { color: 'rgba(255,255,255,0.85)' }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100,
                        grid: { color: 'rgba(255,255,255,0.08)' },
                        ticks: { color: 'rgba(255,255,255,0.55)' }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { color: 'rgba(255,255,255,0.55)' }
                    }
                }
            }
        });
    </script>
</body>
</html>
