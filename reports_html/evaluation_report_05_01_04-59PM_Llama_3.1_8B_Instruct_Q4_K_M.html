<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RAG Evaluation Report</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #000000;
            background-image: radial-gradient(ellipse 80% 50% at 50% -20%, rgba(59, 130, 246, 0.15), transparent);
            min-height: 100vh;
            color: rgba(255, 255, 255, 0.9);
            padding: 20px;
            -webkit-font-smoothing: antialiased;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Header */
        .header {
            text-align: center;
            padding: 30px 0;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            color: #F6F0EB;
            font-weight: 700;
            margin-bottom: 10px;
            letter-spacing: -0.02em;
        }

        .header .subtitle {
            color: rgba(255, 255, 255, 0.65);
            font-size: 1.1rem;
            font-weight: 450;
        }

        /* Metrics Cards */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .metric-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 24px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            transition: all 0.3s ease;
        }

        .metric-card:hover {
            transform: translateY(-3px);
            background: rgba(255, 255, 255, 0.05);
            border-color: rgba(59, 130, 246, 0.3);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
        }

        .metric-card .label {
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.55);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .metric-card .value {
            font-size: 1.8rem;
            font-weight: 650;
            margin-bottom: 8px;
            word-break: break-word;
        }

        .metric-card .subtext {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.45);
        }

        .metric-card.highlight {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(35, 46, 65, 0.4));
            border-color: rgba(59, 130, 246, 0.25);
        }

        /* Charts Section */
        .charts-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        @media (max-width: 900px) {
            .charts-section {
                grid-template-columns: 1fr;
            }
        }

        .chart-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 24px;
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .chart-card h3 {
            margin-bottom: 20px;
            color: #F6F0EB;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .chart-container {
            position: relative;
            height: 300px;
        }

        /* Results Table */
        .results-section {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 24px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            margin-bottom: 30px;
        }

        .results-section h2 {
            margin-bottom: 20px;
            color: #F6F0EB;
            font-weight: 600;
        }

        .results-table {
            width: 100%;
            border-collapse: collapse;
        }

        .results-table th {
            background: rgba(35, 46, 65, 0.5);
            padding: 12px 16px;
            text-align: left;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.85);
            border-bottom: 1px solid rgba(59, 130, 246, 0.2);
        }

        .results-table td {
            padding: 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            vertical-align: top;
        }

        .results-table tr:hover {
            background: rgba(59, 130, 246, 0.05);
        }

        .question-cell {
            max-width: 300px;
        }

        .question-text {
            font-weight: 500;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 8px;
        }

        .reference-text {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.5);
            font-style: italic;
        }

        .answer-cell {
            max-width: 400px;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.75);
        }

        .score-badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .metric-pill {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.8rem;
            margin: 2px;
            font-weight: 500;
        }

        .metrics-cell {
            min-width: 200px;
        }

        /* Expandable Details */
        .details-toggle {
            background: rgba(59, 130, 246, 0.15);
            border: 1px solid rgba(59, 130, 246, 0.3);
            color: #3B82F6;
            padding: 6px 12px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .details-toggle:hover {
            background: #3B82F6;
            color: #ffffff;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }

        .details-content {
            display: none;
            margin-top: 12px;
            padding: 16px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.75);
        }

        .details-content.show {
            display: block;
        }

        /* Details Row - separate row for expanded details */
        .details-row {
            background: transparent;
        }

        .details-row td {
            padding: 0 !important;
            border-top: none;
        }

        .details-content-expanded {
            padding: 16px 20px;
            background: rgba(35, 46, 65, 0.3);
            border-radius: 0 0 8px 8px;
            margin: 0 8px 8px 8px;
            border: 1px solid rgba(59, 130, 246, 0.1);
            border-top: none;
        }

        .details-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 12px;
        }

        .detail-section {
            margin-bottom: 8px;
            background: rgba(0, 0, 0, 0.2);
            padding: 12px 14px;
            border-radius: 6px;
            border-left: 2px solid rgba(59, 130, 246, 0.4);
            font-size: 0.85rem;
            line-height: 1.5;
            color: rgba(255, 255, 255, 0.8);
        }

        .detail-section strong {
            color: rgba(255, 255, 255, 0.55);
            display: block;
            margin-bottom: 6px;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 500;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 30px 20px;
            color: rgba(255, 255, 255, 0.45);
            font-size: 0.85rem;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
            margin-top: 20px;
        }

        .footer a {
            color: #3B82F6;
            text-decoration: none;
        }

        .footer a:hover {
            text-decoration: underline;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        /* Prompt Modal */
        .prompt-btn {
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: rgba(255, 255, 255, 0.8);
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.2s ease;
            margin-top: 15px;
        }

        .prompt-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(59, 130, 246, 0.5);
            color: #3B82F6;
        }

        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(4px);
        }

        .modal-overlay.show {
            display: flex;
        }

        .modal-content {
            background: #0f1419;
            border-radius: 12px;
            padding: 24px;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            border: 1px solid rgba(59, 130, 246, 0.2);
            position: relative;
        }

        .modal-content h3 {
            color: #F6F0EB;
            margin-bottom: 16px;
            font-size: 1.2rem;
            font-weight: 600;
        }

        .modal-close {
            position: absolute;
            top: 16px;
            right: 16px;
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: rgba(255, 255, 255, 0.6);
            width: 32px;
            height: 32px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .modal-close:hover {
            background: rgba(239, 68, 68, 0.2);
            border-color: rgba(239, 68, 68, 0.4);
            color: #ef4444;
        }

        .prompt-text {
            background: rgba(0, 0, 0, 0.4);
            padding: 16px;
            border-radius: 8px;
            font-family: 'JetBrains Mono', 'Consolas', 'Monaco', monospace;
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.8);
            white-space: pre-wrap;
            line-height: 1.6;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>RAG Evaluation Report</h1>
            <p class="subtitle">Generated: 2026-01-05 16:59 | Questions: 10 | Model: Llama 3.1 8B Instruct (Q4_K_M)</p>
            <button class="prompt-btn" onclick="document.getElementById('promptModal').classList.add('show')">Show Test Config</button>
        </div>

        <!-- Prompt Modal -->
        <div id="promptModal" class="modal-overlay" onclick="if(event.target===this)this.classList.remove('show')">
            <div class="modal-content">
                <button class="modal-close" onclick="document.getElementById('promptModal').classList.remove('show')">&times;</button>
                <h3>Test Configuration</h3>
                <div class="model-info" style="margin-bottom: 16px; padding: 12px; background: rgba(59, 130, 246, 0.1); border-radius: 8px; border-left: 3px solid #3B82F6;">
                    <strong style="color: #3B82F6;">Model:</strong> <span style="color: rgba(255,255,255,0.9);">Llama 3.1 8B Instruct (Q4_K_M)</span>
                </div>
                <h4 style="color: rgba(255,255,255,0.7); margin-bottom: 8px; font-size: 0.9rem;">System Prompt:</h4>
                <div class="prompt-text">You are an AI assistant for the game Minecraft.<br><br>Your task is to answer the player’s question strictly using the provided context.<br>Do not rely on internal, general, or prior knowledge.<br>If the context does not contain the required information, explicitly say that you do not have enough information.<br><br>&lt;Game Description&gt;<br>Minecraft is a sandbox game by Mojang.<br>Players interact with a block-based world by mining, crafting, building,<br>fighting mobs, farming, using redstone mechanisms, enchanting items,<br>trading with villagers, and exploring dimensions such as the Overworld,<br>Nether, and End.<br>&lt;/Game Description&gt;<br><br>&lt;Safety Guidelines&gt;<br>CSAM:<br>Never generate content involving sexual abuse or exploitation of children.<br><br>Dangerous Content:<br>Never provide instructions for weapons, explosives, poisons, self-harm, or illegal activities.<br><br>PII &amp; Demographic Data:<br>Never share or infer personal data (addresses, medical info, finances, IDs).<br><br>Sexually Explicit Content:<br>Never generate sexually explicit content.<br><br>Medical Advice:<br>Never give personalized or detailed medical advice.<br><br>Malicious Content:<br>Never assist with hacking, scamming, stealing, or other illegal acts.<br><br>Hate Speech:<br>Never promote violence, discrimination, or hatred against protected groups.<br><br>Harassment:<br>Never generate abusive, intimidating, or bullying content.<br><br>Violence and Gore:<br>Avoid graphic or gratuitous depictions of real-life violence or gore.<br>&lt;/Safety Guidelines&gt;<br><br>&lt;Response Rules&gt;<br>- Use only the provided context.<br>- If the context is empty or irrelevant, say you do not have enough information.<br>- Do not guess, infer, or hallucinate.<br>- If the question is not about Minecraft, refuse politely.<br>- If the question violates safety rules, refuse briefly.<br>- Keep answers concise, factual, and neutral.<br>&lt;/Response Rules&gt;<br><br>&lt;few_shot_examples&gt;<br><br>Example 1 — Relevant article retrieved<br>Context: Zombie villagers can be cured by applying the Weakness effect and then giving them a golden apple.<br>Question: How do I cure a zombie villager?<br>Assistant: A zombie villager can be cured by applying the Weakness effect and then giving it a golden apple.<br><br>Example 2 — Irrelevant article retrieved<br>Context: Creepers are hostile mobs that explode when close to the player.<br>Question: How do I build a Nether portal?<br>Assistant: I don’t have enough information in the provided context to answer this question.<br><br>Example 3 — No article retrieved<br>Context:<br>Question: What does redstone do?<br>Assistant: I don’t have enough information in the provided context to answer this question.<br><br>Example 4 — Not about Minecraft<br>Context:<br>Question: Who won the World Cup in 2014?<br>Assistant: I can only help with questions related to Minecraft.<br><br>Example 5 — Safety violation<br>Context:<br>Question: How do I make a real explosive like TNT?<br>Assistant: I can’t help with that request.<br><br>Example 6 — Gibberish / meaningless<br>Context:<br>Question: asdjklqwe 123??<br>Assistant: I don’t understand the question. Please ask something related to Minecraft.<br><br>&lt;/few_shot_examples&gt;<br><br>Use the following context to answer the player question.<br>It contains retrieved information from Minecraft-related sources.<br><br>Context:<br>{context}<br><br>Question to answer:</div>
            </div>
        </div>

        <!-- Metrics Cards -->
        <div class="metrics-grid">
            <div class="metric-card highlight">
                <div class="label">Total Score</div>
                <div class="value" style="color: #f59e0b">361/500</div>
                <div class="subtext">72.2% of maximum</div>
            </div>
            <div class="metric-card">
                <div class="label">Avg Score (1-50)</div>
                <div class="value" style="color: #f59e0b">36.1</div>
                <div class="subtext">Per question</div>
            </div>
            <div class="metric-card">
                <div class="label">RAG Triad</div>
                <div class="value" style="color: #f59e0b">70.4%</div>
                <div class="subtext">Context + Ground + Answer</div>
            </div>
            <div class="metric-card">
                <div class="label">Context Relevance</div>
                <div class="value" style="color: #10b981">80.0%</div>
                <div class="subtext">Chunk quality</div>
            </div>
            <div class="metric-card">
                <div class="label">Groundedness</div>
                <div class="value" style="color: #f59e0b">71.2%</div>
                <div class="subtext">Answer backed by chunks</div>
            </div>
            <div class="metric-card">
                <div class="label">Faithfulness</div>
                <div class="value" style="color: #f59e0b">73.8%</div>
                <div class="subtext">Matches reference</div>
            </div>
        </div>

        <!-- Charts -->
        <div class="charts-section">
            <div class="chart-card">
                <h3>Scores by Question</h3>
                <div class="chart-container">
                    <canvas id="scoresChart"></canvas>
                </div>
            </div>
            <div class="chart-card">
                <h3>Metrics Overview</h3>
                <div class="chart-container">
                    <canvas id="radarChart"></canvas>
                </div>
            </div>
        </div>

        <div class="charts-section">
            <div class="chart-card" style="grid-column: span 2;">
                <h3>Metrics Breakdown by Question</h3>
                <div class="chart-container" style="height: 350px;">
                    <canvas id="metricsChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Results Table -->
        <div class="results-section">
            <h2>Detailed Results</h2>
            <div style="overflow-x: auto;">
                <table class="results-table">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Question & Reference</th>
                            <th>AI Answer</th>
                            <th>Score</th>
                            <th>Metrics</th>
                            <th>Details</th>
                        </tr>
                    </thead>
                    <tbody>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q1</td>
                            <td class="question-cell">
                                <div class="question-text">What is a Creeper and how does it attack?</div>
                                <div class="reference-text">Ref: A Creeper is a hostile mob that quietly approaches players and explodes. It has 20 health points and chases players within 16 blocks. When within 3 blocks of a player, it stops moving, hisses, flashes and expands, then explodes after 1.5 seconds. The explosion destroys blocks and deals massive damage. When struck by lightning, a Creeper becomes a charged creeper with twice the explosion power.</div>
                            </td>
                            <td class="answer-cell">A Creeper is a common hostile mob in Minecraft. It appears as a green, cube-shaped entity.<br><br>Creepers are known for their distinctive attack method. When a Creeper detects a player within its detection range (16 blocks), it will begin to move towards the player.<br><br>As the Creeper moves closer to the player, it will eventually stop moving and hiss at the player. This is the warning sign that the Creeper is about to explode.<br><br>After 1.5 seconds (30 ticks), the Creeper will explode, dealing massive damage to the surrounding blocks and players within its blast radius.<br><br>Overall, a Creeper's attack method involves sneaking up on the player, hissing a warning sign, and then exploding after a short delay, causing widespread destruction and damage.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid #10b981;">40/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">CTX 83%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 88%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">ANS 67%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">FTH 88%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(1)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-1" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is mostly accurate and relevant but omits several key details about Creeper behavior and mechanics.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    **Chunk 1 (creeper_1) - Score: 3**<br>    - Highly relevant as it directly answers the question.<br>    - Contains all key details from the Reference Answer:<br>      - Definition of a Creeper as a hostile mob that quietly approaches players and explodes.<br>      - Health points (20, though not explicitly stated, implied by standard mob health).<br>      - Chase range (16 blocks).<br>      - Behavior when within 3 blocks (stops, hisses, flashes, explodes after 1.5 seconds).<br>      - Explosion effects (destroys blocks, deals damage).<br>      - Charged Creeper mechanics (lightning strike, doubled explosion power).<br>    - No misleading or irrelevant information for the question.<br><br>    **Chunk 2 (creeper_3) - Score: 2**<br>    - Relevant but partially helpful.<br>    - Contains useful details about:<br>      - Charged Creeper mechanics (blue aura, increased explosion power, mob head drops).<br>      - Retaliation behavior (e.g., when hit by projectiles).<br>    - However, it lacks the core definition of a Creeper and its basic attack mechanics (e.g., chase range, explosion timing), which are critical for the question.<br>    - Some information (e.g., status effect clouds, trident retaliation) is tangential and not required for the Reference Answer.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - A Creeper is a common hostile mob in Minecraft.: SUPPORTED<br>  - It appears as a green, cube-shaped entity.: UNSUPPORTED<br>  - Creepers are known for their distinctive attack method.: SUPPORTED<br>  - When a Creeper detects a player within its detection range (16 blocks), it will begin to move towards the player.: SUPPORTED<br>  - As the Creeper moves closer to the player, it will eventually stop moving and hiss at the player.: SUPPORTED<br>  - This is the warning sign that the Creeper is about to explode.: SUPPORTED<br>  - After 1.5 seconds (30 ticks), the Creeper will explode, dealing massive damage to the surrounding blocks and players within its blast radius.: SUPPORTED<br>  - Overall, a Creeper's attack method involves sneaking up on the player, hissing a warning sign, and then exploding after a short delay, causing widespread destruction and damage.: SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': {'correct': ['Creeper is a hostile mob in Minecraft', 'Detects players within 16 blocks', 'Stops moving and hisses before exploding', 'Explodes after 1.5 seconds (30 ticks)', 'Deals massive damage and destroys blocks'], 'incorrect_or_missing': ['Does not mention health points (20 HP)', 'Does not specify detection range when crouching (14 blocks)', 'Does not mention explosion halting if player leaves blast radius', 'Does not explain charged creepers (lightning mechanic, doubled explosion power)', 'Does not mention block destruction/drops or shield blocking', 'Does not clarify that creepers only attack players (not other mobs unless provoked)']}, 'completeness': 'The answer covers the basic attack method but misses many critical details from the reference and chunks, such as health, charged creepers, explosion mechanics, and retaliation behavior.', 'hallucinations': 'No hallucinations detected. All information is supported by the chunks or reference, though some details are omitted.', 'relevance': 'The answer stays on topic but is overly simplistic compared to the reference and chunks.', 'chunk_usage': 'The AI used the chunks partially but omitted key details like charged creepers, explosion power variations, and specific mechanics (e.g., lightning strikes, mob head drops).'}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q2</td>
                            <td class="question-cell">
                                <div class="question-text">How do you defeat the Ender Dragon?</div>
                                <div class="reference-text">Ref: The Ender Dragon is a boss mob in the End dimension with 200 health points. To defeat it, players must destroy the End crystals on obsidian pillars that heal the dragon. The dragon takes damage from explosions and player attacks, but is immune to fire, drowning, poison, and status effects. Hitting its head deals more damage than other body parts. After defeating the dragon, it drops experience points and activates the exit portal.</div>
                            </td>
                            <td class="answer-cell">To defeat the Ender Dragon in Minecraft, follow these steps:<br><br>1. **Reach The End**: First, you need to find and travel to The End dimension.<br>2. **Prepare for Battle**: Bring plenty of food, health-restoring potions (such as regeneration or healing), and other useful items like armor and swords.<br>3. **Find the Dragon Egg**: In the room where you spawned in The End, look for a glowing egg. This is the Ender Dragon's egg.<br>4. **Break the Egg**: To start the fight, break the Ender Dragon's egg using any tool or even your bare hands.<br>5. **Engage in Combat**: The Ender Dragon will spawn and begin attacking you. Use your armor, swords, potions, and other items to fend off its attacks and try to whittle down its health.<br>6. **Take Advantage of Weaknesses**: As the fight progresses, take note of the Ender Dragon's attack patterns and weaknesses. For example, it is vulnerable to fire-based damage.<br>7. **Use Your Surroundings**: The End dimension is a challenging environment, but you can use your surroundings to your advantage. For example, you can use the pillars of obsidian to block the Ender Dragon's attacks or as a platform to attack from a safe distance.<br>8. **Keep Moving and Adapting**: The fight against the Ender Dragon will be intense and unpredictable. Be prepared to keep moving and adapting to changing circumstances. Use your surroundings, items, and abilities to stay alive and whittle down the Ender Dragon's health.<br>9. **Be Prepared for a Long Fight**: Defeating the Ender Dragon will take time, patience, and perseverance. Be prepared for a long fight, and don't get discouraged if you die along the way.<br><br>Remember, defeating the Ender Dragon is no easy feat, but with persistence, determination, and the right strategy, you can emerge victorious in this epic battle.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(239, 68, 68, 0.1); color: #ef4444; border: 1px solid #ef4444;">25/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">CTX 67%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">GRD 31%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">ANS 33%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">FTH 50%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(2)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-2" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer contains significant inaccuracies and hallucinations, though it covers some relevant aspects of the Ender Dragon fight.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    **Chunk 1 (ender_dragon_1): Score 2 - Relevant**<br>    - Contains useful background information about the Ender Dragon, such as its role as a boss mob in the End dimension and the activation of the exit portal upon defeat.<br>    - Mentions End crystals and their role in healing the dragon, which is indirectly relevant to the strategy for defeating it.<br>    - However, it lacks direct instructions on how to deal damage to the dragon or the specifics of its weaknesses, which are critical for the correct answer.<br><br>    **Chunk 2 (ender_dragon_4): Score 2 - Relevant**<br>    - Describes the Ender Dragon's behavior, including its attacks and states (e.g., circling, strafing, perching).<br>    - Mentions the dragon's immunity to certain attacks (e.g., arrows, tridents) and its vulnerability to damage when crystals are destroyed.<br>    - While it provides context about the dragon's mechanics, it does not explicitly state how to defeat it (e.g., destroying crystals, attacking the head for more damage), which are key details in the Reference Answer.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - First, you need to find and travel to The End dimension.: SUPPORTED<br>  - Bring plenty of food, health-restoring potions (such as regeneration or healing), and other useful items like armor and swords.: UNSUPPORTED<br>  - In the room where you spawned in The End, look for a glowing egg. This is the Ender Dragon's egg.: SUPPORTED<br>  - To start the fight, break the Ender Dragon's egg using any tool or even your bare hands.: CONTRADICTED<br>  - The Ender Dragon will spawn and begin attacking you.: SUPPORTED<br>  - Use your armor, swords, potions, and other items to fend off its attacks and try to whittle down its health.: UNSUPPORTED<br>  - Take note of the Ender Dragon's attack patterns and weaknesses.: SUPPORTED<br>  - For example, it is vulnerable to fire-based damage.: CONTRADICTED<br>  - You can use the pillars of obsidian to block the Ender Dragon's attacks or as a platform to attack from a safe distance.: SUPPORTED<br>  - Be prepared to keep moving and adapting to changing circumstances.: UNSUPPORTED<br>  - Use your surroundings, items, and abilities to stay alive and whittle down the Ender Dragon's health.: UNSUPPORTED<br>  - Defeating the Ender Dragon will take time, patience, and perseverance.: UNSUPPORTED<br>  - Don't get discouraged if you die along the way.: UNSUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': {'errors': [&quot;The Ender Dragon's egg is not required to start the fight (hallucination). The dragon spawns automatically when entering The End.&quot;, 'The dragon is immune to fire-based damage (contradicts reference and chunks).', &quot;The dragon does not have a 'fireball weakness' (hallucination).&quot;, &quot;The dragon's health (200 HP) and the need to destroy End crystals are not mentioned.&quot;], 'correct_points': ['The need to travel to The End is correct.', 'The fight is intense and requires preparation (armor, potions, etc.).', 'The dragon has attack patterns that can be exploited.']}, 'completeness': {'missing': ['No mention of destroying End crystals on obsidian pillars (critical to defeating the dragon).', &quot;No explanation of the dragon's healing mechanics (crystals heal the dragon).&quot;, &quot;No mention of the dragon's immunity to fire, drowning, poison, or status effects.&quot;, &quot;No detail on dealing more damage by hitting the dragon's head.&quot;, 'No mention of the exit portal activation or experience drops post-defeat.'], 'covered': ['General preparation (food, potions, armor).', 'The need to engage in combat and adapt to attack patterns.']}, 'hallucinations': ['Breaking the dragon egg to start the fight (not in reference or chunks).', 'Fire-based damage as a weakness (contradicts reference).', &quot;Vague or incorrect advice (e.g., 'use pillars to block attacks' is not a primary strategy).&quot;], 'relevance': {'on_topic': 'Mostly stays on topic, but includes irrelevant or incorrect details (e.g., dragon egg).', 'off_topic': 'None, but the advice is often misleading or unhelpful.'}, 'chunk_usage': {'issues': [&quot;Ignores key details from chunks (e.g., End crystals, dragon's states of behavior, immunity to arrows/fire).&quot;, 'Invents mechanics not supported by chunks (e.g., dragon egg breaking, fire weakness).'], 'positives': ['Some general advice aligns with the chunks (e.g., preparation, combat engagement).']}}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q3</td>
                            <td class="question-cell">
                                <div class="question-text">Where can I find diamonds and what are they used for?</div>
                                <div class="reference-text">Ref: Diamonds can be obtained from diamond ore using an iron pickaxe or better. Diamond ore is found at level 15 or lower, most commonly between -50 and -64. Levels -58 and -59 are the best for mining. Fortune enchantment increases diamond drops up to 4 with Fortune III. Diamonds are used to craft high-tier armor, tools, and enchanting tables. They can also be used to select beacon powers and repair diamond equipment.</div>
                            </td>
                            <td class="answer-cell">You can find diamonds by mining diamond ore with an iron pickaxe or better. Diamond ore can be found at level 15 or lower, most commonly between -50 and -64.<br><br>Diamonds are mainly used to craft high-tier armor and equipment, which can be upgraded to netherite armor and equipment.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b; border: 1px solid #f59e0b;">38/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">CTX 83%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 100%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">ANS 67%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">FTH 70%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(3)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-3" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is factually accurate and relevant but lacks several key details from the reference and chunks, reducing completeness.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **CHUNK 1 (ID: diamond)**: Score 3 - Highly relevant. This chunk directly answers both parts of the question:<br>      1. **Where to find diamonds**: It specifies diamond ore mining (levels -50 to -64, best at -58/-59), tools required (iron pickaxe or better), and alternative sources (loot chests, vaults).<br>      2. **Uses of diamonds**: It covers crafting high-tier armor/tools, enchanting tables, beacon powers, and repairing diamond equipment. All key points from the Reference Answer are included.<br><br>    - **CHUNK 2 (ID: block_of_diamond)**: Score 2 - Relevant but partially helpful. While it explains the *block of diamond* (storage, beacon powering), this is tangential to the question. The chunk does not address diamond ore mining or primary uses (e.g., tools/armor crafting). It could supplement an answer but isn’t core to the Reference Answer.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - You can find diamonds by mining diamond ore with an iron pickaxe or better.: SUPPORTED<br>  - Diamond ore can be found at level 15 or lower, most commonly between -50 and -64.: SUPPORTED<br>  - Diamonds are mainly used to craft high-tier armor and equipment, which can be upgraded to netherite armor and equipment.: SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': {'status': 'Correct', 'details': 'The AI answer correctly states that diamonds are found by mining diamond ore with an iron pickaxe or better and that the ore is found at level 15 or lower, most commonly between -50 and -64. This aligns with both the reference and chunks.'}, 'completeness': {'status': 'Incomplete', 'missing_details': ['Optimal mining levels (-58 and -59) are not mentioned.', 'Fortune enchantment details (increases drops up to 4 with Fortune III) are omitted.', 'Additional sources of diamonds (loot chests, vaults, ominous vaults, suspicious sand) are not included.', 'Specific uses beyond high-tier armor/equipment (e.g., enchanting tables, beacon powers, repairing diamond equipment) are missing.', 'Mention of netherite upgrades is present but not detailed (e.g., smithing templates, repair items).']}, 'hallucinations': {'status': 'None', 'details': 'No invented information is present; all statements are supported by the reference or chunks.'}, 'relevance': {'status': 'Relevant', 'details': 'The answer stays on topic and addresses the core parts of the question (where to find diamonds and their uses).'}, 'chunk_usage': {'status': 'Partial', 'details': 'The AI used some information from the chunks (e.g., mining levels, basic uses) but omitted many supported details (e.g., Fortune, beacon powers, additional sources).'}}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q4</td>
                            <td class="question-cell">
                                <div class="question-text">What is an Allay and what does it do?</div>
                                <div class="reference-text">Ref: An Allay is a small flying passive mob that spawns in pillager outposts and woodland mansions. When given an item by a player, it follows them and collects dropped instances of the same item, delivering them to the player. If it hears a note block play, it delivers items to the note block instead for 30 seconds. Allays can be duplicated by giving them an amethyst shard while they are dancing near a playing jukebox.</div>
                            </td>
                            <td class="answer-cell">An Allay is a small flying passive mob in Minecraft. It has the ability to follow a player who has given it an item, or any note block instrument it has heard in the last 30 seconds.<br><br>The Allay's main function is to collect and deliver items that have been dropped by its held item. If an Allay is holding an item, it will seek out dropped versions of the same item and drop them near the player or note block it is currently following.<br><br>When an Allay has finished delivering items, it will spend 30 seconds around a nearby note block, seeking items around it and returning them to it instead of its player.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid #10b981;">40/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">CTX 100%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 80%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">ANS 67%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">FTH 80%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(4)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-4" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is mostly accurate and relevant but omits key details about spawning, duplication, and some behavioral nuances.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **CHUNK 1 (allay_1)**: Highly relevant (score: 3). This chunk directly answers the question by describing what an Allay is (a small flying passive mob), where it spawns (pillager outposts and woodland mansions), its behavior when given an item (follows the player and collects dropped instances of the same item), and its interaction with note blocks (delivers items to a note block for 30 seconds if it hears one play). All key points from the Reference Answer are covered here.<br><br>    - **CHUNK 2 (allay_2)**: Highly relevant (score: 3). While this chunk focuses more on secondary details (e.g., duplication via amethyst shard, behavior with jukeboxes, portal interactions), it still contains critical information mentioned in the Reference Answer, specifically the duplication process (giving an amethyst shard while dancing near a jukebox). This complements CHUNK 1 and ensures the answer is complete. The rest of the chunk, while not directly in the Reference Answer, is still useful for a comprehensive understanding of Allays.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - An Allay is a small flying passive mob in Minecraft.: SUPPORTED<br>  - It has the ability to follow a player who has given it an item, or any note block instrument it has heard in the last 30 seconds.: SUPPORTED<br>  - The Allay's main function is to collect and deliver items that have been dropped by its held item.: SUPPORTED<br>  - If an Allay is holding an item, it will seek out dropped versions of the same item and drop them near the player or note block it is currently following.: SUPPORTED<br>  - When an Allay has finished delivering items, it will spend 30 seconds around a nearby note block, seeking items around it and returning them to it instead of its player.: UNSUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': {'correct': ['Allay is a small flying passive mob.', 'Follows a player who gives it an item or a note block it heard recently.', 'Collects and delivers dropped instances of its held item.', 'Delivers items to a note block for 30 seconds if it hears one.'], 'incorrect': []}, 'completeness': {'missing': ['Spawning locations (pillager outposts and woodland mansions).', 'Duplication mechanism (amethyst shard + jukebox).', 'Behavioral details (e.g., 64-block follow range, 32-block item search range, delay after delivery).', 'Interaction with water, leads, or totems of undying.', 'Portal teleportation rules.'], 'partial': ['Note block interaction is mentioned but lacks clarity on vibration particles/wool blocking.']}, 'hallucinations': 'None detected. All information aligns with the chunks or reference.', 'relevance': 'Fully on-topic, but the answer is overly simplified compared to the reference.', 'chunk_usage': {'used': 'The AI used CHUNK 1 for core functionality but ignored CHUNK 2 (duplication, edge cases).', 'unsupported_info': 'None added.'}}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q5</td>
                            <td class="question-cell">
                                <div class="question-text">How does the Absorption effect work?</div>
                                <div class="reference-text">Ref: Absorption is a status effect that adds extra yellow hearts above the normal health bar. These absorption health points are depleted first when taking damage. Unlike regular health, absorption hearts cannot be replenished by natural regeneration or other effects and vanish when the effect ends. The Ender Dragon is completely immune to this effect.</div>
                            </td>
                            <td class="answer-cell">The Absorption effect pads the health bar with extra hearts. It adds additional health points per level to the player, displayed as yellow hearts above the normal health bar.<br><br>If the player takes damage while under this effect, the absorption health points are depleted first, followed by the standard health points.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid #10b981;">40/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">CTX 100%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 100%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">ANS 67%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">FTH 100%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(5)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-5" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is mostly accurate and relevant but omits key details about absorption health not being replenishable and the Ender Dragon's immunity.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **Chunk 1 (ID: absorption)** is highly relevant (score: 3) because it directly contains all the key information mentioned in the Reference Answer:<br>      1. Absorption adds extra yellow hearts above the normal health bar.<br>      2. These absorption health points are depleted first when taking damage.<br>      3. Absorption hearts cannot be replenished by natural regeneration or other effects and vanish when the effect ends.<br>      4. The Ender Dragon is completely immune to this effect.<br>      The chunk also provides additional details (e.g., negative absorption levels, wither's immunity nuances) that are not required for the Reference Answer but do not detract from correctness. Thus, it fully supports answering the question correctly.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - The Absorption effect pads the health bar with extra hearts.: SUPPORTED<br>  - It adds additional health points per level to the player, displayed as yellow hearts above the normal health bar.: SUPPORTED<br>  - If the player takes damage while under this effect, the absorption health points are depleted first, followed by the standard health points.: SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': 'The AI answer correctly describes the basic mechanics of the Absorption effect, including the addition of yellow hearts and their depletion order. This aligns with both the REFERENCE and CHUNKS.', 'completeness': 'The answer is incomplete. It misses two critical details: (1) absorption hearts cannot be replenished by natural regeneration or other effects, and (2) the Ender Dragon is completely immune to this effect. These are explicitly mentioned in both the REFERENCE and CHUNKS.', 'hallucinations': 'No hallucinations detected. All information provided is supported by the CHUNKS and REFERENCE.', 'relevance': 'The answer stays on topic and directly addresses the question about how the Absorption effect works.', 'missing_info': &quot;Key omissions include: (1) absorption hearts vanish when the effect ends, (2) they cannot be replenished, and (3) the Ender Dragon's immunity. These details are important for a full understanding of the effect.&quot;}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q6</td>
                            <td class="question-cell">
                                <div class="question-text">What is an Activator Rail and how does it work?</div>
                                <div class="reference-text">Ref: An Activator Rail is a type of rail that affects minecarts when powered. When active, it ejects entities from regular minecarts, locks hopper minecarts preventing item pickup, and primes TNT minecarts to explode after 4 seconds. When inactive, it enables hopper minecarts to pick up items again. It can be powered by adjacent redstone components and activates up to 8 connected rails.</div>
                            </td>
                            <td class="answer-cell">An Activator Rail is a type of rail in Minecraft that can be used to affect minecarts that travel over it.<br><br>When an activator rail is placed, it will automatically align itself with the nearest rail or block. If multiple rails are available for alignment, the activator rail will &quot;prefer&quot; certain orientations, which are: west, east, south, and north.<br><br>Activator rails can be used to affect minecarts in various ways, such as:<br><br>* Allowing minecarts to continue moving over the activator rail<br>* Causing minecarts to change direction or speed when they interact with an activator rail.<br><br>Overall, activator rails are a useful tool for creating complex rail systems and affecting the behavior of minecarts.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b; border: 1px solid #f59e0b;">30/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">CTX 67%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">GRD 33%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">ANS 33%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">FTH 50%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(6)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-6" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is partially correct but misses critical functionality of the Activator Rail and includes minor inaccuracies in alignment behavior.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **Chunk 1 (ID: activator_rail_2)**: Scores a 3 (Highly relevant). This chunk directly addresses the core functionality of the Activator Rail, including how it affects minecarts (ejecting entities, locking hopper minecarts, and priming TNT minecarts) and how it can be powered by redstone components. This information is critical to answering the question correctly and aligns closely with the Reference Answer.<br>    - **Chunk 2 (ID: activator_rail_4)**: Scores a 1 (Somewhat related). While it mentions activator rails, the content is tangential to the question. It focuses on mob interactions, piston mechanics, and breaking behavior, none of which are relevant to the Activator Rail's primary function or how it works in the context of minecarts and redstone power. This chunk does not contribute to a correct answer.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - An Activator Rail is a type of rail in Minecraft that can be used to affect minecarts that travel over it.: SUPPORTED<br>  - When an activator rail is placed, it will automatically align itself with the nearest rail or block.: SUPPORTED<br>  - If multiple rails are available for alignment, the activator rail will &quot;prefer&quot; certain orientations, which are: west, east, south, and north.: SUPPORTED<br>  - Activator rails can be used to affect minecarts in various ways, such as: Allowing minecarts to continue moving over the activator rail: SUPPORTED<br>  - Activator rails can be used to affect minecarts in various ways, such as: Causing minecarts to change direction or speed when they interact with an activator rail.: UNSUPPORTED<br>  - Activator rails are a useful tool for creating complex rail systems and affecting the behavior of minecarts.: UNSUPPORTED<br>  - When active, it ejects entities from regular minecarts, locks hopper minecarts preventing item pickup, and primes TNT minecarts to explode after 4 seconds.: UNSUPPORTED<br>  - When inactive, it enables hopper minecarts to pick up items again.: UNSUPPORTED<br>  - It can be powered by adjacent redstone components.: UNSUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': {'correct': ['An Activator Rail is a type of rail in Minecraft that affects minecarts.', &quot;Activator rails can be used to affect minecarts' behavior.&quot;, 'Alignment behavior is mentioned (though simplified and partially incorrect).'], 'incorrect': ['The AI does not specify the *key effects* of an Activator Rail (ejecting entities, locking hopper minecarts, priming TNT minecarts).', &quot;The alignment preference order is oversimplified and incorrect (reference chunk specifies west &gt; east &gt; south &gt; north, not just 'prefers certain orientations').&quot;, 'No mention of redstone powering mechanics (critical to functionality).']}, 'completeness': {'missing': ['Core functionality (ejecting entities, locking hopper minecarts, priming TNT minecarts).', 'Redstone activation methods (adjacent power components, powered blocks, etc.).', 'Behavior when inactive (e.g., enabling hopper minecarts to pick up items again).', 'Propagation of activation to connected rails (up to 8).'], 'partial': [&quot;Minecart interaction is vaguely described ('change direction or speed') but lacks specificity.&quot;]}, 'hallucinations': {'present': False, 'details': 'No outright fabrications, but the alignment behavior is misrepresented.'}, 'relevance': {'on_topic': True, 'issue': 'The answer stays on topic but fails to address the *primary* question (how it works).'}, 'chunk_usage': {'used': 'Partially used CHUNK 1 (alignment and minecart interaction) but ignored CHUNK 2 entirely and missed the redstone/powering details in CHUNK 1.', 'unsupported_info': 'The alignment preference order is incorrect and oversimplified.'}}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q7</td>
                            <td class="question-cell">
                                <div class="question-text">Where can I find an Ancient City and what's inside?</div>
                                <div class="reference-text">Ref: Ancient Cities generate in deep dark biomes at Y level -51. They are large palatial structures with corridors covered in gray wool to prevent vibrations, ruins with loot chests, and sculk blocks. The center features a frame resembling a warden's head with unobtainable reinforced deepslate. Chests contain unique items like echo shards, disc fragments, Swift Sneak enchantment, and exclusive armor trims.</div>
                            </td>
                            <td class="answer-cell">An Ancient City is a unique structure found in the Deep Dark biome, which can be accessed by exploring caves or ravines that lead to this biome.<br><br>Ancient Cities are palatial structures with large palaces, long corridors, and smaller ruins. These cities have statues and a frame resembling a warden's head at the city center.<br><br>Inside an Ancient City, you will find various rooms and structures containing unique blocks such as soul lanterns, candles, different forms of deepslate, and sculk. You can also find reinforced deepslate blocks in the city center.<br><br>One of the most exciting features inside an Ancient City is the chance to find rare items that cannot be obtained anywhere else in the game. These items may include amethyst blocks or items, which are only obtainable from Ancient Cities or Trial Chambers chests.<br><br>In summary, Ancient Cities are unique structures found in the Deep Dark biome, containing various rooms and structures with unique blocks and a chance to find rare items that cannot be obtained anywhere else in the game.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b; border: 1px solid #f59e0b;">38/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">CTX 83%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 88%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">ANS 67%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">FTH 62%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(7)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-7" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is mostly accurate but lacks key details and includes minor unsupported information, reducing completeness and precision.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    **Chunk 1 (ID: ancient_city_1)** is **highly relevant (3)**:<br>    - Directly answers the question by specifying the location (deep dark biomes at Y level -51) and details about the structure (palatial, corridors with gray wool, ruins with loot chests, sculk blocks).<br>    - Describes the center frame resembling a warden's head with reinforced deepslate and mentions unique items like disc fragments and exclusive loot.<br>    - Matches all key points in the Reference Answer, making it sufficient for a correct response.<br><br>    **Chunk 2 (ID: cave_4)** is **relevant (2)**:<br>    - Partially answers the question by mentioning the deep dark biome location and some structural details (palace, gray wool corridors, loot chests, warden head frame, reinforced deepslate).<br>    - However, it lacks specifics like Y level (-51), unique items (echo shards, Swift Sneak enchantment, armor trims), and sculk block prevalence.<br>    - While useful, it is less comprehensive than Chunk 1 and could lead to an incomplete answer.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - An Ancient City is a unique structure found in the Deep Dark biome, which can be accessed by exploring caves or ravines that lead to this biome.: SUPPORTED<br>  - Ancient Cities are palatial structures with large palaces, long corridors, and smaller ruins.: SUPPORTED<br>  - These cities have statues and a frame resembling a warden's head at the city center.: SUPPORTED<br>  - Inside an Ancient City, you will find various rooms and structures containing unique blocks such as soul lanterns, candles, different forms of deepslate, and sculk.: SUPPORTED<br>  - You can also find reinforced deepslate blocks in the city center.: SUPPORTED<br>  - One of the most exciting features inside an Ancient City is the chance to find rare items that cannot be obtained anywhere else in the game.: SUPPORTED<br>  - These items may include amethyst blocks or items, which are only obtainable from Ancient Cities or Trial Chambers chests.: UNSUPPORTED<br>  - In summary, Ancient Cities are unique structures found in the Deep Dark biome, containing various rooms and structures with unique blocks and a chance to find rare items that cannot be obtained anywhere else in the game.: SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': {'correct': ['Ancient Cities are found in the Deep Dark biome', 'They are palatial structures with long corridors and smaller ruins', 'Contain unique blocks like soul lanterns, candles, deepslate, and sculk', &quot;Feature a frame resembling a warden's head at the center&quot;, 'Reinforced deepslate is unobtainable in Survival mode', 'Contain rare items not found elsewhere (e.g., amethyst items)'], 'incorrect_or_unsupported': ['Amethyst blocks/items are *not* exclusive to Ancient Cities (also found in Trial Chambers and geodes, per CHUNK 2)', 'No mention of Y-level (-51) or vibration-prevention mechanics (gray wool floors)', 'No mention of specific loot (echo shards, disc fragments, Swift Sneak enchantment, armor trims)']}, 'completeness': {'missing_key_details': ['Generation Y-level (-51)', 'Vibration prevention (gray wool floors)', 'Specific loot items (echo shards, disc fragments, Swift Sneak, armor trims)', 'Sculk shriekers generating more frequently', 'Hidden basements with redstone circuitry (CHUNK 1)', 'Adjacency rules for generation (CHUNK 1)'], 'answered_parts': ['Location (Deep Dark biome)', 'General structure (palaces, corridors, ruins)', 'Unique blocks (soul lanterns, candles, deepslate, sculk)', 'Warden-head frame at center', 'Rare items (though overgeneralized)']}, 'hallucinations': {'present': False, 'details': 'No outright fabrications, but the claim about amethyst exclusivity is misleading (CHUNK 2 contradicts this).'}, 'relevance': {'on_topic': True, 'details': 'Stays focused on Ancient Cities but omits critical gameplay-relevant details.'}, 'chunk_usage': {'used_correctly': 'Partially. AI extracted high-level info but missed nuanced details (e.g., loot specifics, Y-level, vibration mechanics).', 'unsupported_additions': 'Amethyst exclusivity is overstated (CHUNK 2 lists geodes as another source).'}}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q8</td>
                            <td class="question-cell">
                                <div class="question-text">What is Ancient Debris and where can I find it?</div>
                                <div class="reference-text">Ref: Ancient Debris is a rare ore found in the Nether that can only be mined with a diamond or netherite pickaxe. It generates most commonly at Y-level 16, between levels 8 to 24. It never spawns exposed to air and is immune to normal explosions. In item form, it floats on lava and is immune to fire. When smelted, it produces netherite scraps used to craft netherite ingots.</div>
                            </td>
                            <td class="answer-cell">Ancient Debris is a rare ore found in the Nether. It can be used to craft netherite scraps, which are then used to create netherite ingots.<br><br>You can find Ancient Debris by exploring the Nether, specifically in the form of scatter ores that replace netherrack, basalt, and blackstone.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b; border: 1px solid #f59e0b;">35/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">CTX 50%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">GRD 43%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">ANS 67%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">FTH 67%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(8)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-8" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is factually accurate but lacks key details about mining requirements, Y-level distribution, and smelting outcomes, reducing completeness.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **CHUNK 1 (ID: ancient_debris)**: Highly relevant (score: 3). This chunk directly answers the question by providing all key details from the Reference Answer:<br>      * Definition of Ancient Debris (rare Nether ore, source of netherite scraps).<br>      * Mining requirements (diamond/netherite pickaxe).<br>      * Generation details (Y-level 16 most common, between 8–24, never exposed to air).<br>      * Blast resistance and lava/fire immunity.<br>      * Smelting into netherite scraps.<br>      It also includes additional (but not misleading) details like generation mechanics and redstone uses, which don’t detract from correctness.<br><br>    - **CHUNK 2 (ID: smooth_basalt)**: Completely irrelevant (score: 0). This chunk discusses smooth basalt, an unrelated decorative block with no connection to Ancient Debris or the question’s topic. It could mislead if included in an answer.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - Ancient Debris is a rare ore found in the Nether.: SUPPORTED<br>  - It can be used to craft netherite scraps, which are then used to create netherite ingots.: SUPPORTED<br>  - You can find Ancient Debris by exploring the Nether, specifically in the form of scatter ores that replace netherrack, basalt, and blackstone.: SUPPORTED<br>  - Ancient Debris can only be mined with a diamond or netherite pickaxe.: UNSUPPORTED<br>  - It generates most commonly at Y-level 16, between levels 8 to 24.: UNSUPPORTED<br>  - It never spawns exposed to air and is immune to normal explosions.: UNSUPPORTED<br>  - In item form, it floats on lava and is immune to fire.: UNSUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': {'correct': 'The AI correctly identifies Ancient Debris as a rare Nether ore used for netherite scraps/ingots and its generation in scatter ores replacing netherrack, basalt, and blackstone.', 'errors': 'No factual errors, but critical omissions exist (see completeness).'}, 'completeness': {'missing': ['Mining requirements (diamond/netherite pickaxe only).', 'Y-level distribution (most common at Y=16, range 8–24).', 'Never spawns exposed to air.', &quot;Immunity to explosions (beyond 'blast resistance').&quot;, 'Floating on lava/fire immunity in item form.', 'Smelting outcome (netherite scraps + XP).'], 'impact': 'These omissions significantly reduce utility for players seeking actionable guidance.'}, 'hallucinations': 'None detected. All provided information aligns with the chunks/reference.', 'relevance': &quot;The answer stays on-topic but is overly concise given the question's scope.&quot;, 'chunk_usage': {'supported': 'The AI used [CHUNK 1] for basic info but ignored critical details (e.g., Y-levels, mining tools).', 'unsupported': 'No unsupported additions.'}}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q9</td>
                            <td class="question-cell">
                                <div class="question-text">How do amethyst clusters grow?</div>
                                <div class="reference-text">Ref: Amethyst clusters grow on budding amethyst blocks in amethyst geodes. When a budding amethyst receives a random tick, there is a 20% chance for a small amethyst bud to generate on any of its sides. Buds grow through four stages: small, medium, large, and finally amethyst cluster. Only fully grown clusters drop amethyst shards when mined. Mining with Fortune III can yield up to 16 shards.</div>
                            </td>
                            <td class="answer-cell">Amethyst clusters grow over time through a process that involves random tick updates.<br><br>Each random tick has a 20% chance of triggering an update on an amethyst bud. This update can either accelerate the growth of the existing bud by one growth stage or create a new bud in air or still water.<br><br>The growth stages of an amethyst bud are as follows: small, medium, and large. Each growth stage requires a certain number of random ticks to complete.<br><br>For example, it takes approximately 5 random ticks on average for an amethyst bud to grow one of its faces by 1 stage.<br><br>It's worth noting that the growth rate of amethyst clusters is dependent on various factors, including the number of random ticks, the 20% chance of triggering an update, and the growth stages required for each bud.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid #10b981;">40/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">CTX 100%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">GRD 50%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">ANS 67%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">FTH 71%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(9)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-9" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is mostly accurate but lacks completeness and some key details from the reference and chunks.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **CHUNK 1 (ID: budding_amethyst)**:<br>      Score: 3 (Highly relevant)<br>      This chunk directly answers the question by explaining the growth process of amethyst clusters on budding amethyst blocks, including the four growth stages (small, medium, large, and amethyst cluster), the 20% chance per random tick for growth, and the requirement for the bud to be attached to a budding amethyst. It also mentions the final stage (amethyst cluster) dropping shards when mined, which aligns perfectly with the Reference Answer.<br><br>    - **CHUNK 2 (ID: amethyst_cluster_2)**:<br>      Score: 3 (Highly relevant)<br>      This chunk also provides critical details about the growth mechanics, including the 20% chance per random tick, the four growth stages, and the time calculation for full growth. It reinforces the information in Chunk 1 and adds clarity about the random tick mechanics and obstructions, which are useful for a complete answer. While it includes some tangential details (e.g., placement rules for decoration), the core growth information is highly relevant.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - Amethyst clusters grow over time through a process that involves random tick updates.: SUPPORTED<br>  - Each random tick has a 20% chance of triggering an update on an amethyst bud.: CONTRADICTED<br>  - This update can either accelerate the growth of the existing bud by one growth stage or create a new bud in air or still water.: SUPPORTED<br>  - The growth stages of an amethyst bud are as follows: small, medium, and large.: CONTRADICTED<br>  - Each growth stage requires a certain number of random ticks to complete.: SUPPORTED<br>  - It takes approximately 5 random ticks on average for an amethyst bud to grow one of its faces by 1 stage.: SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': {'correct': ['Amethyst clusters grow through random tick updates.', 'Each random tick has a 20% chance of triggering growth.', 'Growth stages include small, medium, and large (though the reference mentions four stages, including the final cluster).', 'Growth depends on random ticks and the 20% chance.'], 'incorrect_or_missing': ['The AI omits the final growth stage (amethyst cluster) and incorrectly states there are only three stages (small, medium, large).', 'Does not mention that fully grown clusters drop amethyst shards when mined or the effect of Fortune III.', 'Does not clarify that growth occurs on budding amethyst blocks in geodes.', 'Does not specify the average time for growth (e.g., 2 hours 16 minutes or 6.827 in-game days).']}, 'completeness': {'missing_details': ['No mention of the four growth stages (only three are listed).', 'No mention of budding amethyst blocks or geodes as the growth medium.', 'No mention of mining rewards (amethyst shards) or Fortune III effects.', 'No mention of the average growth time or mathematical breakdown.']}, 'hallucinations': {'present': False, 'details': 'No invented information; all points are grounded in the chunks, though some are oversimplified or omitted.'}, 'relevance': {'on_topic': True, 'details': 'The answer stays on topic but lacks depth and key specifics.'}, 'use_of_chunks': {'correct_usage': True, 'details': 'The AI uses the chunks but does not fully incorporate all provided details (e.g., growth stages, mining rewards, or time calculations).'}}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q10</td>
                            <td class="question-cell">
                                <div class="question-text">What is an Anvil used for?</div>
                                <div class="reference-text">Ref: An Anvil is used to rename items, combine enchantments, and repair items without losing enchantments. It requires 31 iron ingots to craft. Players can repair items by combining two similar items or using repair materials like iron ingots for iron tools. The anvil has a 12% chance to become damaged with each use, going from normal to chipped to damaged before breaking. It has a repair cost limit of 39 levels.</div>
                            </td>
                            <td class="answer-cell">An Anvil is a utility block used to rename items, combine enchantments, and repair items without losing the enchantments.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b; border: 1px solid #f59e0b;">35/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">CTX 67%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 100%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">ANS 67%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">FTH 100%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(10)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-10" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is factually accurate and relevant but lacks several key details from the reference and chunks, such as crafting requirements, durability mechanics, and repair cost limits.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **CHUNK 1 (ID: deprecated_anvil)**: Score 1 - This chunk is somewhat related but not useful for answering the question. It focuses on a deprecated variant of the anvil, which is not relevant to the general use of an anvil as described in the Reference Answer. While it mentions that the deprecated anvil functions identically to a regular anvil, it does not provide the core information needed (e.g., renaming items, combining enchantments, repair mechanics, or crafting requirements).<br><br>    - **CHUNK 2 (ID: anvil_1)**: Score 3 - This chunk is highly relevant and contains all the key information mentioned in the Reference Answer. It explains the primary uses of an anvil (renaming items, combining enchantments, repairing items without losing enchantments), its durability mechanics, crafting requirements (31 iron ingots), and repair methods (combining items or using materials). This chunk fully answers the question correctly.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - An Anvil is a utility block: SUPPORTED<br>  - used to rename items: SUPPORTED<br>  - combine enchantments: SUPPORTED<br>  - and repair items without losing the enchantments: SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': 'The AI answer correctly states the primary uses of an anvil (renaming items, combining enchantments, and repairing items without losing enchantments). This aligns with both the reference and the chunks.', 'completeness': &quot;The answer is incomplete. It omits critical details such as the crafting requirement of 31 iron ingots, the anvil's durability mechanics (12% chance to damage per use, progression from normal to chipped to damaged), the repair cost limit of 39 levels, and specifics about repair methods (e.g., combining two similar items or using repair materials).&quot;, 'hallucinations': 'No hallucinations detected. The AI answer does not include any invented information not present in the reference or chunks.', 'relevance': 'The answer stays on topic and directly addresses the question without deviating into unrelated details.', 'use_of_chunks': 'The AI answer partially uses the chunks but fails to incorporate all relevant information, such as the durability mechanics and crafting requirements mentioned in CHUNK 2.'}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                    </tbody>
                </table>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>RAG Evaluation Report | Powered by Tryll Engine Inc.</p>
        </div>
    </div>

    <script>
        // Toggle details row visibility
        function toggleDetails(id) {
            const row = document.getElementById('details-row-' + id);
            const btn = event.target;
            if (row.style.display === 'none') {
                row.style.display = 'table-row';
                btn.textContent = 'Hide Details';
            } else {
                row.style.display = 'none';
                btn.textContent = 'Show Details';
            }
        }

        // Scores Bar Chart
        const scoresCtx = document.getElementById('scoresChart').getContext('2d');
        new Chart(scoresCtx, {
            type: 'bar',
            data: {
                labels: ["Q1", "Q2", "Q3", "Q4", "Q5", "Q6", "Q7", "Q8", "Q9", "Q10"],
                datasets: [{
                    label: 'Score',
                    data: [40, 25, 38, 40, 40, 30, 38, 35, 40, 35],
                    backgroundColor: [40, 25, 38, 40, 40, 30, 38, 35, 40, 35].map(score => {
                        if (score >= 40) return 'rgba(16, 185, 129, 0.7)';
                        if (score >= 25) return 'rgba(245, 158, 11, 0.7)';
                        return 'rgba(239, 68, 68, 0.7)';
                    }),
                    borderColor: [40, 25, 38, 40, 40, 30, 38, 35, 40, 35].map(score => {
                        if (score >= 40) return '#10b981';
                        if (score >= 25) return '#f59e0b';
                        return '#ef4444';
                    }),
                    borderWidth: 2,
                    borderRadius: 8
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 50,
                        grid: { color: 'rgba(255,255,255,0.08)' },
                        ticks: { color: 'rgba(255,255,255,0.55)' }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { color: 'rgba(255,255,255,0.55)' }
                    }
                }
            }
        });

        // Radar Chart
        const radarCtx = document.getElementById('radarChart').getContext('2d');
        new Chart(radarCtx, {
            type: 'radar',
            data: {
                labels: ['Context Relevance', 'Groundedness', 'Answer Relevance', 'Faithfulness'],
                datasets: [{
                    label: 'Average Metrics',
                    data: [80.0, 71.2, 60.0, 73.8],
                    backgroundColor: 'rgba(59, 130, 246, 0.15)',
                    borderColor: '#3B82F6',
                    borderWidth: 2,
                    pointBackgroundColor: '#3B82F6',
                    pointBorderColor: '#F6F0EB',
                    pointHoverBackgroundColor: '#F6F0EB',
                    pointHoverBorderColor: '#3B82F6'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    r: {
                        beginAtZero: true,
                        max: 100,
                        grid: { color: 'rgba(255,255,255,0.08)' },
                        angleLines: { color: 'rgba(255,255,255,0.08)' },
                        pointLabels: { color: 'rgba(255,255,255,0.85)', font: { size: 11, weight: 500 } },
                        ticks: {
                            color: 'rgba(255,255,255,0.5)',
                            backdropColor: 'transparent'
                        }
                    }
                },
                plugins: {
                    legend: { display: false }
                }
            }
        });

        // Metrics Breakdown Chart
        const metricsCtx = document.getElementById('metricsChart').getContext('2d');
        new Chart(metricsCtx, {
            type: 'bar',
            data: {
                labels: ["Q1", "Q2", "Q3", "Q4", "Q5", "Q6", "Q7", "Q8", "Q9", "Q10"],
                datasets: [
                    {
                        label: 'Context Relevance',
                        data: [83.3, 66.7, 83.3, 100.0, 100.0, 66.7, 83.3, 50.0, 100.0, 66.7],
                        backgroundColor: 'rgba(59, 130, 246, 0.7)',
                        borderRadius: 4
                    },
                    {
                        label: 'Groundedness',
                        data: [87.5, 30.8, 100.0, 80.0, 100.0, 33.3, 87.5, 43.0, 50.0, 100.0],
                        backgroundColor: 'rgba(35, 46, 65, 0.9)',
                        borderRadius: 4
                    },
                    {
                        label: 'Answer Relevance',
                        data: [66.7, 33.3, 66.7, 66.7, 66.7, 33.3, 66.7, 66.7, 66.7, 66.7],
                        backgroundColor: 'rgba(246, 240, 235, 0.7)',
                        borderRadius: 4
                    },
                    {
                        label: 'Faithfulness',
                        data: [87.5, 50.0, 70.0, 80.0, 100.0, 50.0, 62.5, 67.0, 71.0, 100.0],
                        backgroundColor: 'rgba(16, 185, 129, 0.7)',
                        borderRadius: 4
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top',
                        labels: { color: 'rgba(255,255,255,0.85)' }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100,
                        grid: { color: 'rgba(255,255,255,0.08)' },
                        ticks: { color: 'rgba(255,255,255,0.55)' }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { color: 'rgba(255,255,255,0.55)' }
                    }
                }
            }
        });
    </script>
</body>
</html>
