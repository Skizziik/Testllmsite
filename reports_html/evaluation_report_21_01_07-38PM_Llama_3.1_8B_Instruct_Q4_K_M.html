<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RAG Evaluation Report</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #000000;
            background-image: radial-gradient(ellipse 80% 50% at 50% -20%, rgba(59, 130, 246, 0.15), transparent);
            min-height: 100vh;
            color: rgba(255, 255, 255, 0.9);
            padding: 20px;
            -webkit-font-smoothing: antialiased;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Header */
        .header {
            text-align: center;
            padding: 30px 0;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            color: #F6F0EB;
            font-weight: 700;
            margin-bottom: 10px;
            letter-spacing: -0.02em;
        }

        .header .subtitle {
            color: rgba(255, 255, 255, 0.65);
            font-size: 1.1rem;
            font-weight: 450;
        }

        /* Metrics Cards */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .metric-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 24px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            transition: all 0.3s ease;
        }

        .metric-card:hover {
            transform: translateY(-3px);
            background: rgba(255, 255, 255, 0.05);
            border-color: rgba(59, 130, 246, 0.3);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
        }

        .metric-card .label {
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.55);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .metric-card .value {
            font-size: 1.8rem;
            font-weight: 650;
            margin-bottom: 8px;
            word-break: break-word;
        }

        .metric-card .subtext {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.45);
        }

        .metric-card.highlight {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(35, 46, 65, 0.4));
            border-color: rgba(59, 130, 246, 0.25);
        }

        /* Charts Section */
        .charts-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        @media (max-width: 900px) {
            .charts-section {
                grid-template-columns: 1fr;
            }
        }

        .chart-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 24px;
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .chart-card h3 {
            margin-bottom: 20px;
            color: #F6F0EB;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .chart-container {
            position: relative;
            height: 300px;
        }

        /* Results Table */
        .results-section {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 24px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            margin-bottom: 30px;
        }

        .results-section h2 {
            margin-bottom: 20px;
            color: #F6F0EB;
            font-weight: 600;
        }

        .results-table {
            width: 100%;
            border-collapse: collapse;
            table-layout: fixed;
        }

        .results-table th {
            background: rgba(35, 46, 65, 0.5);
            padding: 12px 16px;
            text-align: left;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.85);
            border-bottom: 1px solid rgba(59, 130, 246, 0.2);
        }

        /* Fixed column widths */
        .results-table th:nth-child(1),
        .results-table td:nth-child(1) { width: 50px; }
        .results-table th:nth-child(2),
        .results-table td:nth-child(2) { width: 25%; }
        .results-table th:nth-child(3),
        .results-table td:nth-child(3) { width: 30%; }
        .results-table th:nth-child(4),
        .results-table td:nth-child(4) { width: 80px; }
        .results-table th:nth-child(5),
        .results-table td:nth-child(5) { width: 200px; }
        .results-table th:nth-child(6),
        .results-table td:nth-child(6) { width: 120px; }

        .results-table td {
            padding: 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            vertical-align: top;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        .results-table tr:hover {
            background: rgba(59, 130, 246, 0.05);
        }

        /* Don't highlight details row on hover */
        .results-table tr.details-row:hover {
            background: transparent;
        }

        .question-cell {
            max-width: 300px;
        }

        .question-text {
            font-weight: 500;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 8px;
        }

        .reference-text {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.5);
            font-style: italic;
        }

        .answer-cell {
            max-width: 400px;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.75);
        }

        .score-badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .metric-pill {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.8rem;
            margin: 2px;
            font-weight: 500;
        }

        .metrics-cell {
            min-width: 200px;
        }

        /* Expandable Details */
        .details-toggle {
            background: rgba(59, 130, 246, 0.15);
            border: 1px solid rgba(59, 130, 246, 0.3);
            color: #3B82F6;
            padding: 6px 12px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .details-toggle:hover {
            background: #3B82F6;
            color: #ffffff;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }

        .details-content {
            display: none;
            margin-top: 12px;
            padding: 16px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.75);
        }

        .details-content.show {
            display: block;
        }

        /* Details Row - separate row for expanded details */
        .details-row {
            background: transparent;
        }

        .details-row td {
            padding: 0 !important;
            border-top: none;
        }

        .details-content-expanded {
            padding: 16px 20px;
            background: rgba(35, 46, 65, 0.3);
            border-radius: 0 0 8px 8px;
            margin: 0 8px 8px 8px;
            border: 1px solid rgba(59, 130, 246, 0.1);
            border-top: none;
        }

        .details-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 12px;
        }

        .detail-section {
            margin-bottom: 8px;
            background: rgba(0, 0, 0, 0.2);
            padding: 12px 14px;
            border-radius: 6px;
            border-left: 2px solid rgba(59, 130, 246, 0.4);
            font-size: 0.85rem;
            line-height: 1.5;
            color: rgba(255, 255, 255, 0.8);
        }

        .detail-section strong {
            color: rgba(255, 255, 255, 0.55);
            display: block;
            margin-bottom: 6px;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 500;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 30px 20px;
            color: rgba(255, 255, 255, 0.45);
            font-size: 0.85rem;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
            margin-top: 20px;
        }

        .footer a {
            color: #3B82F6;
            text-decoration: none;
        }

        .footer a:hover {
            text-decoration: underline;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        /* Prompt Modal */
        .prompt-btn {
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: rgba(255, 255, 255, 0.8);
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.2s ease;
            margin-top: 15px;
        }

        .prompt-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(59, 130, 246, 0.5);
            color: #3B82F6;
        }

        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(4px);
        }

        .modal-overlay.show {
            display: flex;
        }

        .modal-content {
            background: #0f1419;
            border-radius: 12px;
            padding: 24px;
            max-width: 800px;
            width: 90vw;
            max-height: 80vh;
            overflow-y: auto;
            overflow-x: hidden;
            border: 1px solid rgba(59, 130, 246, 0.2);
            position: relative;
            box-sizing: border-box;
        }

        .modal-content h3 {
            color: #F6F0EB;
            margin-bottom: 16px;
            font-size: 1.2rem;
            font-weight: 600;
        }

        .modal-close {
            position: absolute;
            top: 16px;
            right: 16px;
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: rgba(255, 255, 255, 0.6);
            width: 32px;
            height: 32px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .modal-close:hover {
            background: rgba(239, 68, 68, 0.2);
            border-color: rgba(239, 68, 68, 0.4);
            color: #ef4444;
        }

        .prompt-text {
            background: rgba(0, 0, 0, 0.4);
            padding: 16px;
            border-radius: 8px;
            font-family: 'JetBrains Mono', 'Consolas', 'Monaco', monospace;
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.8);
            white-space: pre-wrap;
            word-wrap: break-word;
            overflow-wrap: break-word;
            word-break: break-word;
            line-height: 1.6;
            border: 1px solid rgba(255, 255, 255, 0.05);
            max-width: 100%;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>RAG Evaluation Report</h1>
            <p class="subtitle">Generated: 2026-01-21 19:38 | Questions: 20 | Model: Llama 3.1 8B Instruct (Q4_K_M) | Game: Stardew Valley</p>
            <button class="prompt-btn" onclick="document.getElementById('promptModal').classList.add('show')">Show Test Config</button>
            <button class="prompt-btn" style="margin-left: 8px;" onclick="document.getElementById('serverConfigModal').classList.add('show')">Show Server Config</button>
        </div>

        <!-- Prompt Modal -->
        <div id="promptModal" class="modal-overlay" onclick="if(event.target===this)this.classList.remove('show')">
            <div class="modal-content">
                <button class="modal-close" onclick="document.getElementById('promptModal').classList.remove('show')">&times;</button>
                <h3>Test Configuration</h3>
                <div class="model-info" style="margin-bottom: 16px; padding: 12px; background: rgba(59, 130, 246, 0.1); border-radius: 8px; border-left: 3px solid #3B82F6;">
                    <strong style="color: #3B82F6;">Model:</strong> <span style="color: rgba(255,255,255,0.9);">Llama 3.1 8B Instruct (Q4_K_M)</span>
                </div>
                <h4 style="color: rgba(255,255,255,0.7); margin-bottom: 8px; font-size: 0.9rem;">System Prompt:</h4>
                <div class="prompt-text">You are an AI assistant for the game Stardew Valley.<br>Your task is to answer the player's question strictly using the provided context.<br>Do not rely on internal, general, or prior knowledge.<br>If the context does not contain the required information, explicitly say that you do not have enough information.<br><br>&lt;Game Description&gt;<br>Stardew Valley is a farming simulation RPG by ConcernedApe.<br>Players inherit a run-down farm and build it into a thriving homestead in Pelican Town.<br>The game features farming, animal husbandry, mining, fishing, foraging,<br>building relationships with villagers, and restoring the Community Center.<br>Seasons cycle every 28 days (Spring, Summer, Fall, Winter).<br>Core mechanics include crop growth, tool upgrades, gift-giving for friendship,<br>skill progression, crafting, cooking, bundles, and unlocking new areas<br>like Skull Cavern and Ginger Island.<br>&lt;/Game Description&gt;<br><br>&lt;Safety Guidelines&gt;<br>CSAM:<br>Never generate content involving sexual abuse or exploitation of children.<br>Dangerous Content:<br>Never provide real-world instructions for creating weapons, poisons, or harmful substances.<br>PII &amp; Demographic Data:<br>Never share or infer personal data (addresses, medical info, finances, IDs).<br>Sexually Explicit Content:<br>Never generate sexually explicit content.<br>Malicious Content:<br>Never assist with hacking, scamming, stealing, or other illegal acts.<br>Hate Speech:<br>Never promote violence, discrimination, or hatred against protected groups.<br>Harassment:<br>Never generate abusive, intimidating, or bullying content.<br>Mod Content:<br>Only answer questions about vanilla Stardew Valley and official 1.6 content, not mods.<br>&lt;/Safety Guidelines&gt;<br><br>&lt;Response Rules&gt;<br>- Use only the provided context.<br>- If the context is empty or irrelevant, say you do not have enough information.<br>- Do not guess, infer, or hallucinate.<br>- If the question is not about Stardew Valley, refuse politely.<br>- If the question violates safety rules, refuse briefly.<br>- Keep answers concise, factual, and neutral.<br>- Use game terms naturally (heart, gold star, regrowth, bundle, etc.).<br>&lt;/Response Rules&gt;<br><br>&lt;few_shot_examples&gt;<br>Example 1 — Relevant article retrieved<br>Context: Ancient Fruit takes 28 days to grow initially, then regrows every 7 days. Grows in spring, summer, and fall. Sells for 550g base price.<br>Question: How long does ancient fruit take to grow?<br>Assistant: Ancient fruit takes 28 days initial growth, then regrows every 7 days. Grows spring/summer/fall. Sells for 550g base.<br><br>Example 2 — Irrelevant article retrieved<br>Context: Abigail loves Amethyst, Pumpkin, and Chocolate Cake. She can be found near the mountain lake on rainy days.<br>Question: What gifts does Sebastian like?<br>Assistant: I don't have enough information in the provided context to answer this question.<br><br>Example 3 — No article retrieved<br>Context:<br>Question: Where do I catch a sturgeon?<br>Assistant: I don't have enough information in the provided context to answer this question.<br><br>Example 4 — Not about Stardew Valley<br>Context:<br>Question: How do I infect Greenland in Plague Inc?<br>Assistant: I can only help with questions related to Stardew Valley.<br><br>Example 5 — Safety violation<br>Context:<br>Question: How do I hack the game to get unlimited money?<br>Assistant: I can't help with that request.<br><br>Example 6 — Gibberish / meaningless<br>Context:<br>Question: asdfgh 12345???<br>Assistant: I don't understand the question. Please ask something related to Stardew Valley.<br><br><br>Use the following context to answer the player question.<br>It contains retrieved information from Stardew Valley-related sources.<br><br>Context:<br>{context}<br><br>Question to answer:</div>
            </div>
        </div>

        <!-- Server Config Modal -->
        <div id="serverConfigModal" class="modal-overlay" onclick="if(event.target===this)this.classList.remove('show')">
            <div class="modal-content">
                <button class="modal-close" onclick="document.getElementById('serverConfigModal').classList.remove('show')">&times;</button>
                <h3>Server Configuration</h3>
                <div class="prompt-text">{<br>  &quot;version&quot;: &quot;0.1.2&quot;,<br>  &quot;port&quot;: 1234,<br>  &quot;system_port&quot;: 1235,<br>  &quot;speak&quot;: 0,<br>  &quot;embedding_model_name&quot;: &quot;BAAI/bge-small-en-v1.5&quot;,<br>  &quot;rag_chunks_number&quot;: 3,<br>  &quot;rag_double_tower&quot;: false,<br>  &quot;rag_score_threshold&quot;: 0.3,<br>  &quot;llm_context_size&quot;: 8192,<br>  &quot;semantic_filter_tokens&quot;: 50,<br>  &quot;semantic_filter_threshold&quot;: 0.2,<br>  &quot;text_splitter_chunk_size&quot;: 1600,<br>  &quot;text_splitter_chunk_overlap&quot;: 320,<br>  &quot;text_splitter_separator&quot;: &quot;\n&quot;,<br>  &quot;prompt_player_template&quot;: &quot;- Refer to the player as: &quot;,<br>  &quot;prompt_personality_template&quot;: &quot;- You have the following personality: &quot;,<br>  &quot;prompt_tools_template&quot;: &quot;- All responses must go through the tools - no direct or natural language output&quot;,<br>  &quot;retrieve_tool_description&quot;: &quot;Search and return information from the game database and item craft database&quot;,<br>  &quot;retrieve_rag_description&quot;: &quot;Query to retrieval system&quot;,<br>  &quot;retrieve_craft_description&quot;: &quot;Item name to get craft information if it is needed&quot;,<br>  &quot;game_path&quot;: &quot;C:\\Users\\utente\\AppData\\Local\\Tryll\\server&quot;,<br>  &quot;log_dir&quot;: &quot;C:\\Users\\utente\\AppData\\Local\\Tryll\\logs&quot;<br>}</div>
            </div>
        </div>

        <!-- Metrics Cards -->
        <div class="metrics-grid">
            <div class="metric-card highlight">
                <div class="label">Total Score</div>
                <div class="value" style="color: #10b981">850/1000</div>
                <div class="subtext">85.0% of maximum</div>
            </div>
            <div class="metric-card">
                <div class="label">Avg Score (1-50)</div>
                <div class="value" style="color: #10b981">42.5</div>
                <div class="subtext">Per question</div>
            </div>
            <div class="metric-card">
                <div class="label">RAG Triad</div>
                <div class="value" style="color: #f59e0b">73.1%</div>
                <div class="subtext">Context + Ground + Answer</div>
            </div>
            <div class="metric-card">
                <div class="label">Context Relevance</div>
                <div class="value" style="color: #ef4444">51.1%</div>
                <div class="subtext">Chunk quality</div>
            </div>
            <div class="metric-card">
                <div class="label">Groundedness</div>
                <div class="value" style="color: #10b981">91.5%</div>
                <div class="subtext">Answer backed by chunks</div>
            </div>
            <div class="metric-card">
                <div class="label">Faithfulness</div>
                <div class="value" style="color: #10b981">88.6%</div>
                <div class="subtext">Matches reference</div>
            </div>
        </div>

        <!-- Charts -->
        <div class="charts-section">
            <div class="chart-card">
                <h3>Scores by Question</h3>
                <div class="chart-container">
                    <canvas id="scoresChart"></canvas>
                </div>
            </div>
            <div class="chart-card">
                <h3>Metrics Overview</h3>
                <div class="chart-container">
                    <canvas id="radarChart"></canvas>
                </div>
            </div>
        </div>

        <div class="charts-section">
            <div class="chart-card" style="grid-column: span 2;">
                <h3>Metrics Breakdown by Question</h3>
                <div class="chart-container" style="height: 350px;">
                    <canvas id="metricsChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Results Table -->
        <div class="results-section">
            <h2>Detailed Results</h2>
            <div style="overflow-x: auto;">
                <table class="results-table">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Question & Reference</th>
                            <th>AI Answer</th>
                            <th>Score</th>
                            <th>Metrics</th>
                            <th>Details</th>
                        </tr>
                    </thead>
                    <tbody>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q1</td>
                            <td class="question-cell">
                                <div class="question-text">How long does it take for Ancient Fruit to grow from seed, and how often does it produce fruit after that?</div>
                                <div class="reference-text">Ref: The Ancient Fruit is a fruit crop that grows from Ancient Seeds after 28 days. Thereafter, the mature plant yields another Ancient Fruit every 7 days.</div>
                            </td>
                            <td class="answer-cell">Ancient Fruit takes 28 days to grow initially from Ancient Seeds. After that, the mature plant regrows another Ancient Fruit every 7 days.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid #10b981;">50/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">CTX 56%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 100%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">ANS 100%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">FTH 100%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(1)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-1" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is perfectly accurate, complete, and directly aligns with the reference and retrieved chunks without any hallucinations or omissions.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **Chunk 1 (ID: ancient_fruit)**: Score 3 - Highly relevant. Directly answers the question by providing the exact growth time (28 days) and production frequency (every 7 days) of Ancient Fruit, matching the Reference Answer.<br>    - **Chunk 2 (ID: ancient_seeds)**: Score 2 - Relevant but partially helpful. Confirms that Ancient Seeds yield Ancient Fruit, which is related, but does not provide the growth time or production frequency. Useful context but not sufficient alone.<br>    - **Chunk 3 (ID: pomegranate_tree)**: Score 0 - Completely irrelevant. Discusses Pomegranate Trees, which are unrelated to Ancient Fruit or the question's focus.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - Ancient Fruit takes 28 days to grow initially from Ancient Seeds.: SUPPORTED<br>  - After that, the mature plant regrows another Ancient Fruit every 7 days.: SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': &quot;The AI answer matches the reference answer exactly: 'Ancient Fruit takes 28 days to grow initially from Ancient Seeds' and 'the mature plant regrows another Ancient Fruit every 7 days.' This is fully supported by CHUNK 1.&quot;, 'completeness': 'The AI answer addresses both parts of the question: the initial growth time (28 days) and the subsequent fruit production frequency (every 7 days). No part of the question is left unanswered.', 'hallucinations': 'There are no hallucinations or invented details. The AI answer strictly adheres to the information provided in the chunks and reference.', 'relevance': 'The answer stays entirely on topic, focusing solely on the growth and production cycle of Ancient Fruit.', 'chunk_usage': 'The AI correctly uses CHUNK 1, which is the most relevant source for the question. No unsupported information is added.'}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q2</td>
                            <td class="question-cell">
                                <div class="question-text">I tried to plant Ancient Seeds in a Garden Pot but it wouldn't let me. Why is that?</div>
                                <div class="reference-text">Ref: Ancient Seeds cannot be planted in Garden Pots. Attempting to place Ancient Seeds in a Garden Pot will display the message 'Her roots grow very deep... She wouldn't be happy in there.'</div>
                            </td>
                            <td class="answer-cell">Ancient Seeds cannot be planted in Garden Pots. If you attempt to place Ancient Seeds in a Garden Pot, it will display the message &quot;Her roots grow very deep... She wouldn't be happy in there.&quot;</td>
                            <td>
                                <span class="score-badge" style="background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid #10b981;">50/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">CTX 67%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 100%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">ANS 100%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">FTH 100%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(2)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-2" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is perfectly accurate, complete, and directly aligns with the reference answer and retrieved chunks without any hallucinations or omissions.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **Chunk 1 (ID: garden_pot)**: Highly relevant (Score: 3). It explicitly states that 'A Garden Pot cannot grow Ancient Seeds, rejecting them at any time, indoors or outdoors.' This directly answers the question and matches the Reference Answer.<br>    - **Chunk 2 (ID: ancient_seeds)**: Highly relevant (Score: 3). It provides the exact message displayed when attempting to plant Ancient Seeds in a Garden Pot ('Her roots grow very deep... She wouldn't be happy in there.') and confirms they cannot be planted in Garden Pots. This fully aligns with the Reference Answer.<br>    - **Chunk 3 (ID: ancient_fruit)**: Completely irrelevant (Score: 0). It discusses Ancient Fruit (the crop yielded by Ancient Seeds) but does not address the question about planting Ancient Seeds in Garden Pots. No useful information for the query.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - Ancient Seeds cannot be planted in Garden Pots.: SUPPORTED<br>  - If you attempt to place Ancient Seeds in a Garden Pot, it will display the message 'Her roots grow very deep... She wouldn't be happy in there.': SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': 'The AI answer matches the reference answer and the information in the retrieved chunks (CHUNK 1 and CHUNK 2) exactly. It correctly states that Ancient Seeds cannot be planted in Garden Pots and includes the exact rejection message.', 'completeness': 'The AI answer addresses all parts of the question, explaining why the action is not allowed and what message is displayed, which is fully supported by the reference and chunks.', 'hallucinations': 'There are no hallucinations or invented details. The AI answer strictly adheres to the provided context and reference.', 'relevance': 'The answer stays entirely on topic, focusing solely on the reason Ancient Seeds cannot be planted in Garden Pots.', 'use_of_chunks': 'The AI correctly uses the information from CHUNK 1 (Garden Pot limitations) and CHUNK 2 (Ancient Seeds restrictions) without adding unsupported information.'}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q3</td>
                            <td class="question-cell">
                                <div class="question-text">Where can I find the Ancient Seed artifact, and what monsters might drop it?</div>
                                <div class="reference-text">Ref: The Ancient Seed is an Artifact that can be found by digging up an Artifact Spot in Cindersap Forest or The Mountain (including the Quarry), or obtained inside Artifact Troves, or Fishing Treasure Chests after reaching Fishing level 2. It can be dropped from Bugs, Grubs, Cave Flies, Mutant Flies, and Mutant Grubs (0.5% chance).</div>
                            </td>
                            <td class="answer-cell">The Ancient Seed artifact can be found by digging up an Artifact Spot in Cindersap Forest or The Mountain (including the Quarry), or obtained inside Artifact Troves, or Fishing Treasure Chests after reaching Fishing level 2.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b; border: 1px solid #f59e0b;">35/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">CTX 44%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 80%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">ANS 67%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">FTH 100%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(3)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-3" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is factually accurate but incomplete, missing the monster drop information provided in the reference and chunks.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **Chunk 1 (Score: 3)**: Highly relevant. It directly answers the question by listing the locations where the Ancient Seed artifact can be found (Cindersap Forest, The Mountain, Artifact Troves, Fishing Treasure Chests) and the monsters that drop it (Bugs, Grubs, Cave Flies, Mutant Flies, Mutant Grubs). This matches the Reference Answer exactly.<br>    - **Chunk 2 (Score: 0)**: Completely irrelevant. This chunk discusses the Ancient Seeds (the fruit seed), not the Ancient Seed artifact. It does not address the question about artifact locations or monster drops.<br>    - **Chunk 3 (Score: 1)**: Somewhat related but not useful. While it mentions monster loot generally, it does not specify the Ancient Seed artifact or its drop sources. It is too vague to help answer the question correctly.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - The Ancient Seed artifact can be found by digging up an Artifact Spot in Cindersap Forest: SUPPORTED<br>  - The Ancient Seed artifact can be found by digging up an Artifact Spot in The Mountain (including the Quarry): SUPPORTED<br>  - The Ancient Seed artifact can be obtained inside Artifact Troves: SUPPORTED<br>  - The Ancient Seed artifact can be obtained in Fishing Treasure Chests after reaching Fishing level 2: SUPPORTED<br>  - The AI answer does not mention any monsters that might drop the Ancient Seed artifact: UNSUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': 'The AI answer correctly lists the locations where the Ancient Seed artifact can be found (Cindersap Forest, The Mountain, Artifact Troves, Fishing Treasure Chests). This matches the reference and CHUNK 1.', 'completeness': 'The AI answer is incomplete. It fails to mention the monsters that can drop the Ancient Seed (Bugs, Grubs, Cave Flies, Mutant Flies, Mutant Grubs) and the drop chance (0.5%), which are explicitly stated in both the reference and CHUNK 1.', 'hallucinations': 'No hallucinations detected. The AI answer only includes information supported by the chunks and reference.', 'relevance': 'The answer stays on topic but is missing key details.', 'chunk_usage': 'The AI used CHUNK 1 correctly for the location information but ignored the monster drop details, which are also present in the same chunk.'}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q4</td>
                            <td class="question-cell">
                                <div class="question-text">I placed a Bee House on my farm but it's not making any honey. What's going on?</div>
                                <div class="reference-text">Ref: To make honey, place a Bee House on the farm during any season but winter, and wait 4 nights. Bee houses can be placed indoors (e.g., in the Greenhouse) but will not produce honey there, regardless of any flowers within range.</div>
                            </td>
                            <td class="answer-cell">The Bee House is not producing honey. This might be due to a lack of flowers nearby, as fully-grown flowers within 5 tiles of the Bee House will cause it to produce flower honey and increase its sale price.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(239, 68, 68, 0.1); color: #ef4444; border: 1px solid #ef4444;">25/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">CTX 56%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">GRD 33%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">ANS 33%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">FTH 50%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(4)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-4" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is partially correct but misses key details and introduces a minor inaccuracy about the necessity of flowers for honey production.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **Chunk 1 (ID: bee_house)**: Score 3 - Highly relevant. Directly addresses the question by explaining the conditions for honey production (placement on the farm, not indoors, 4-night wait, and seasonal restrictions). This chunk fully contains the information in the Reference Answer.<br>    - **Chunk 2 (ID: honey)**: Score 2 - Relevant but partially helpful. It provides additional context about honey production (e.g., flower influence, wild honey) but does not directly answer the core question about why the Bee House isn't producing honey. It could complement the answer but isn't sufficient alone.<br>    - **Chunk 3 (ID: beet)**: Score 0 - Completely irrelevant. This chunk discusses beets, a vegetable crop, and has no connection to Bee Houses or honey production. It could mislead or confuse the answer.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - The Bee House is not producing honey.: UNSUPPORTED<br>  - This might be due to a lack of flowers nearby.: UNSUPPORTED<br>  - Fully-grown flowers within 5 tiles of the Bee House will cause it to produce flower honey and increase its sale price.: SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': {'correct': 'The AI correctly identifies that flowers can influence honey production (e.g., flower honey vs. wild honey).', 'incorrect': 'The AI implies that flowers are *required* for honey production, which is false. The reference and chunks state that honey is produced every 4 nights regardless of flowers (though flowers improve the type/value). The AI also omits the critical detail that Bee Houses *do not produce honey indoors* (e.g., Greenhouse), which is the most likely cause of the issue in the question.'}, 'completeness': {'missing': ['No mention of the 4-night waiting period for honey production.', 'No explanation that Bee Houses *do not work indoors* (e.g., Greenhouse), which is the primary reason for the issue in the question.', 'No clarification that honey is produced in all seasons except winter, regardless of flowers.']}, 'hallucinations': {'present': False, 'details': 'No outright hallucinations, but the AI misrepresents the role of flowers by suggesting they are necessary for honey production (they are not).'}, 'relevance': {'on_topic': True, 'issue': 'The answer is relevant but fails to address the core problem (indoor placement or seasonal restrictions).'}, 'chunk_usage': {'used': 'The AI references the flower mechanic from CHUNK 1 but ignores the indoor placement rule and the 4-night production cycle, which are critical to the question.'}}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q5</td>
                            <td class="question-cell">
                                <div class="question-text">If I have a flower near my Bee House but harvest the flower before collecting the honey, what happens to the honey?</div>
                                <div class="reference-text">Ref: The type of honey is established the moment it is harvested. If a Bee House has produced flower honey, but the flower is harvested before the honey, the honey will become wild honey.</div>
                            </td>
                            <td class="answer-cell">If you have a flower near your Bee House but harvest the flower before collecting the honey, the honey will become Wild Honey.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid #10b981;">50/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">CTX 56%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 100%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">ANS 100%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">FTH 100%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(5)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-5" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is perfectly accurate, complete, and directly aligns with the reference and retrieved chunks without any hallucinations or omissions.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **Chunk 1 (ID: bee_house)**: Score 3 - Highly relevant. This chunk directly answers the question by stating, 'The type of honey is established the moment it is harvested. If a Bee House has produced flower honey, but the flower is harvested before the honey, the honey will become wild honey.' This is exactly the information needed for the correct answer.<br>    - **Chunk 2 (ID: honey)**: Score 2 - Relevant. This chunk provides related information about honey types and confirms that the honey type is determined at harvest. It also mentions that if a flower is harvested before the honey, the honey becomes 'Wild Honey.' However, it is slightly less direct than Chunk 1 and includes some extraneous details.<br>    - **Chunk 3 (ID: flowers)**: Score 0 - Completely irrelevant. This chunk discusses flowers in general, their categories, and their effects on honey, but it does not address the specific scenario of harvesting the flower before collecting the honey. It does not contribute to answering the question.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - If you have a flower near your Bee House but harvest the flower before collecting the honey, the honey will become Wild Honey.: SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': &quot;The AI answer matches the reference answer and the relevant information in both CHUNK 1 and CHUNK 2. Specifically, CHUNK 1 states: 'If a Bee House has produced flower honey, but the flower is harvested before the honey, the honey will become wild honey.' This is exactly what the AI answered.&quot;, 'completeness': 'The AI answer fully addresses the question and includes all necessary details (i.e., the honey becomes wild honey if the flower is harvested before collection). No part of the question is left unanswered.', 'hallucinations': 'There are no hallucinations or invented details. The AI strictly adheres to the information provided in the chunks and reference.', 'relevance': 'The AI answer stays entirely on topic and directly responds to the question without deviating or adding irrelevant information.', 'use_of_chunks': 'The AI correctly uses the information from CHUNK 1 and CHUNK 2, which explicitly cover the scenario described in the question. No unsupported information is added.'}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q6</td>
                            <td class="question-cell">
                                <div class="question-text">What's the Skull Cavern and how do I get in there?</div>
                                <div class="reference-text">Ref: The Skull Cavern is located in the northwest area of the Desert. It is initially locked and requires the Skull Key to gain access. There is no practical limit to the number of floors in the Skull Cavern.</div>
                            </td>
                            <td class="answer-cell">The Skull Cavern is a challenging cave system located in the northwest area of the Desert. It's initially locked and requires the Skull Key to gain access.<br><br>To get the Skull Key, you need to reach Floor 120 of the Mines. The key can be found in a chest on that floor.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid #10b981;">45/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">CTX 56%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 80%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">ANS 100%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">FTH 100%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(6)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-6" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is highly accurate and relevant but omits the detail about the Skull Cavern having no practical limit to the number of floors.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **Chunk 1 (ID: skull_cavern)**: Score 3 - Highly relevant. Directly answers the question by providing the location of the Skull Cavern (northwest area of the Desert), the requirement of the Skull Key to access it, and confirms there is no practical limit to the number of floors. This matches the Reference Answer exactly.<br>    - **Chunk 2 (ID: skull_key)**: Score 2 - Relevant. While it doesn’t directly answer the question about the Skull Cavern’s location or how to enter, it provides critical supplementary information about how to obtain the Skull Key (from Floor 120 of the Mines), which is necessary for access. This chunk is partially helpful but not sufficient alone.<br>    - **Chunk 3 (ID: quarry_mine)**: Score 0 - Completely irrelevant. This chunk discusses the Quarry Mine, which is unrelated to the Skull Cavern. It does not help answer the question and could mislead or confuse the user.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - The Skull Cavern is a challenging cave system located in the northwest area of the Desert.: SUPPORTED<br>  - It's initially locked and requires the Skull Key to gain access.: SUPPORTED<br>  - To get the Skull Key, you need to reach Floor 120 of the Mines.: SUPPORTED<br>  - The key can be found in a chest on that floor.: SUPPORTED<br>  - The Skull Cavern is a challenging cave system.: UNSUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': &quot;The AI answer correctly states the Skull Cavern's location (northwest area of the Desert) and the requirement of the Skull Key for access. It also accurately describes how to obtain the Skull Key (Floor 120 of the Mines, found in a chest). No factual errors were introduced.&quot;, 'completeness': 'The AI answer covers the two main parts of the question (what the Skull Cavern is and how to get in) but misses the detail from the reference and CHUNK 1 that there is no practical limit to the number of floors in the Skull Cavern. This is a minor omission.', 'hallucinations': 'No hallucinations were detected. All information provided is supported by the reference and retrieved chunks.', 'relevance': 'The AI answer stays strictly on topic and does not deviate from the question or provided context.', 'use_of_chunks': 'The AI effectively used CHUNK 1 (Skull Cavern details) and CHUNK 2 (Skull Key details) but did not include the floor limit detail from CHUNK 1, which is a minor oversight.'}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q7</td>
                            <td class="question-cell">
                                <div class="question-text">Where do I get the Skull Key to access the Skull Cavern?</div>
                                <div class="reference-text">Ref: The Skull Key is obtained on Floor 120 of the Mines, found in a chest. It unlocks the door to the Skull Cavern in the Desert and the Junimo Kart arcade game in the Stardrop Saloon.</div>
                            </td>
                            <td class="answer-cell">The Skull Key is obtained on Floor 120 of the Mines, found in a chest.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid #10b981;">40/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">CTX 56%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 100%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">ANS 67%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">FTH 100%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(7)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-7" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is factually accurate but incomplete, missing key details about the Skull Key's additional uses.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **Chunk 1 (ID: skull_key)**: Scores 3 (Highly relevant). This chunk directly answers the question by stating that the Skull Key is obtained on Floor 120 of the Mines in a chest, which matches the Reference Answer exactly. It also provides additional useful context about what the key unlocks.<br>    - **Chunk 2 (ID: skull_cavern)**: Scores 2 (Relevant). This chunk is partially helpful because it confirms that the Skull Cavern requires the Skull Key to access, but it does not explicitly state where to obtain the key. It supports the answer but doesn't fully provide it.<br>    - **Chunk 3 (ID: quarry_mine)**: Scores 0 (Completely irrelevant). This chunk discusses the Quarry Mine, which is unrelated to the Skull Key or Skull Cavern. It does not help answer the question and could mislead the user.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - The Skull Key is obtained on Floor 120 of the Mines: SUPPORTED<br>  - The Skull Key is found in a chest: SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': 'The AI answer correctly states that the Skull Key is obtained on Floor 120 of the Mines in a chest, which matches the REFERENCE ANSWER and CHUNK 1.', 'completeness': &quot;The answer is incomplete. It omits the Skull Key's additional use (unlocking the Junimo Kart arcade game in the Stardrop Saloon), which is part of the REFERENCE ANSWER and explicitly mentioned in CHUNK 1.&quot;, 'hallucinations': 'No hallucinations detected. The AI answer is fully supported by the provided chunks and reference.', 'relevance': 'The answer is relevant to the question but lacks full context.', 'chunk_usage': 'The AI used CHUNK 1 correctly but did not include all relevant information from it, specifically the secondary use of the Skull Key.'}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q8</td>
                            <td class="question-cell">
                                <div class="question-text">How much energy does a Stardrop give you, and how many can you find in the game?</div>
                                <div class="reference-text">Ref: A Stardrop is a special item that permanently increases the player's maximum energy by 34 points. A maximum of seven Stardrops are available in any game, which together result in 508 maximum energy, nearly doubling the initial value of 270.</div>
                            </td>
                            <td class="answer-cell">A Stardrop gives you 34 points of max energy, and it is a permanent buff. As for the number of Stardrops that can be found in the game, a maximum of seven Stardrops are available in any game.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid #10b981;">48/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">CTX 56%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 100%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">ANS 100%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">FTH 100%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(8)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-8" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is factually accurate and relevant, but it omits the detail about the total maximum energy after collecting all Stardrops (508).
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **Chunk 1 (ID: stardrop)**: Score 3 - Highly relevant. This chunk directly answers both parts of the question: it states that a Stardrop increases maximum energy by 34 points and that a maximum of seven Stardrops are available in the game. It also provides additional context that aligns with the Reference Answer.<br>     - **Chunk 2 (ID: marriage_3)**: Score 2 - Relevant but partially helpful. This chunk mentions that a Stardrop can be obtained from a spouse at 12.5 hearts, which is related to the question about how many Stardrops can be found. However, it does not explicitly state the total number of Stardrops or the energy increase, so it only partially answers the question.<br>     - **Chunk 3 (ID: stardrop_tea)**: Score 0 - Completely irrelevant. This chunk discusses Stardrop Tea, which is unrelated to the Stardrop item asked about in the question. It does not provide any useful information for answering the question.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - A Stardrop gives you 34 points of max energy: SUPPORTED<br>  - It is a permanent buff: SUPPORTED<br>  - A maximum of seven Stardrops are available in any game: SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': 'The AI answer correctly states that a Stardrop gives 34 points of max energy and that a maximum of seven Stardrops are available. This aligns perfectly with the REFERENCE and CHUNKS.', 'completeness': 'The AI answer addresses both parts of the question (energy per Stardrop and number of Stardrops) but misses the additional detail about the total maximum energy (508) after collecting all seven Stardrops, which is mentioned in the REFERENCE and CHUNK 1.', 'hallucinations': 'No hallucinations are present; all information is supported by the provided chunks and reference.', 'relevance': 'The answer stays entirely on topic and does not deviate from the question.', 'chunk_usage': 'The AI correctly uses the provided chunks (primarily CHUNK 1) but does not include all available details from them.'}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q9</td>
                            <td class="question-cell">
                                <div class="question-text">Can I save a Stardrop for later instead of eating it right away?</div>
                                <div class="reference-text">Ref: The player must immediately consume any Stardrop as soon as it is obtained; it is impossible to add a Stardrop to inventory or save it to eat later.</div>
                            </td>
                            <td class="answer-cell">No, you cannot save a Stardrop for later. According to the text in the context, &quot;the player must immediately consume any Stardrop as soon as it is obtained; it is impossible to add a Stardrop to inventory or save it to eat later.&quot;</td>
                            <td>
                                <span class="score-badge" style="background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid #10b981;">50/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">CTX 33%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 100%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">ANS 100%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">FTH 100%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(9)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-9" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is perfectly accurate, complete, and directly aligns with the reference and retrieved chunks without any hallucinations or irrelevant information.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **Chunk 1 (ID: stardrop)**: Highly relevant (Score: 3). This chunk directly answers the question by stating that 'The player must immediately consume any Stardrop as soon as it is obtained; it is impossible to add a Stardrop to inventory or save it to eat later.' This matches the Reference Answer exactly.<br>    - **Chunk 2 (ID: saves_3)**: Completely irrelevant (Score: 0). This chunk discusses save file management and transfer between devices, which has no connection to the question about Stardrops.<br>    - **Chunk 3 (ID: quests_4)**: Completely irrelevant (Score: 0). This chunk details special orders and quests, none of which pertain to Stardrops or their consumption rules.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - No, you cannot save a Stardrop for later.: SUPPORTED<br>  - The player must immediately consume any Stardrop as soon as it is obtained.: SUPPORTED<br>  - It is impossible to add a Stardrop to inventory or save it to eat later.: SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': 'The AI answer matches the reference answer and the relevant chunk (CHUNK 1) exactly, stating that Stardrops must be consumed immediately and cannot be saved or added to inventory.', 'completeness': &quot;The AI answer fully addresses the question, covering all parts of the user's query (whether a Stardrop can be saved for later).&quot;, 'hallucinations': 'There are no hallucinations; the AI does not invent any information not present in the chunks or reference.', 'relevance': 'The AI answer stays strictly on topic and does not deviate into unrelated details (e.g., save file transfers or quests).', 'chunk_usage': 'The AI correctly uses CHUNK 1, which is the only relevant chunk for this question, and does not incorporate irrelevant chunks (CHUNK 2 or CHUNK 3).'}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q10</td>
                            <td class="question-cell">
                                <div class="question-text">What animals can find truffles, and when do they stop looking for them?</div>
                                <div class="reference-text">Ref: The Truffle is a type of mushroom that can only be spawned by an adult Pig on The Farm when the pig is outside the Barn. Since pigs do not go out of the barn in winter, they spawn no truffles in that season.</div>
                            </td>
                            <td class="answer-cell">Pigs can find truffles. They stop looking for them when the 1st day of a new season begins, on which they disappear.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid #10b981;">40/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">CTX 56%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">GRD 50%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">ANS 67%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">FTH 50%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(10)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-10" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is mostly correct but lacks key details about when pigs stop looking for truffles (winter season) and omits other animals (Truffle Crabs) that can find truffles.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **Chunk 1 (ID: truffle)**: Score 3 - Highly relevant. Directly answers the question by stating that truffles are spawned by adult pigs when outside the barn and that pigs do not go outside in winter, thus stopping truffle production in that season.<br>    - **Chunk 2 (ID: pig)**: Score 2 - Relevant but partially helpful. It confirms that pigs find truffles and details the conditions (e.g., being outside, not raining), but the key point about winter is only briefly implied (not explicitly stated as in Chunk 1). It adds extra context but isn't as concise as Chunk 1.<br>    - **Chunk 3 (ID: truffle_crab)**: Score 0 - Completely irrelevant. While it mentions truffles, it focuses on Truffle Crabs, which are unrelated to the question about animals finding truffles and when they stop looking for them.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - Pigs can find truffles.: SUPPORTED<br>  - They stop looking for them when the 1st day of a new season begins, on which they disappear.: UNSUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': {'correct': 'Pigs can find truffles is accurate (supported by CHUNK 1 and CHUNK 2).', 'incorrect_or_missing': 'The AI does not mention that pigs stop looking for truffles in winter (REFERENCE and CHUNK 1). It also omits Truffle Crabs (CHUNK 3) as another source of truffles.'}, 'completeness': {'missing_parts': &quot;The answer does not fully address the second part of the question ('when do they stop looking for them?') with the correct seasonal context (winter). It also misses the Truffle Crab as an additional animal that can find truffles.&quot;, 'partial_answer': 'The AI correctly identifies pigs as truffle-finders but stops short of explaining the seasonal limitation or other sources.'}, 'hallucinations': 'None detected. The AI answer is grounded in the provided chunks, though it omits relevant details.', 'relevance': 'The answer stays on topic but is incomplete.', 'chunk_usage': {'used_correctly': 'The AI uses CHUNK 1 to confirm pigs find truffles but ignores the winter limitation and CHUNK 3 (Truffle Crabs).', 'unsupported_info': 'None, but the answer is overly simplistic given the chunks.'}}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q11</td>
                            <td class="question-cell">
                                <div class="question-text">Are truffles considered animal products? I want to know if the Rancher profession affects them.</div>
                                <div class="reference-text">Ref: Despite being spawned by pigs, truffles are not considered to be animal products, like eggs or milk. They do not receive a price increase from the Rancher profession.</div>
                            </td>
                            <td class="answer-cell">Truffles are not considered to be animal products, like eggs or milk. They do not receive a price increase from the Rancher profession.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid #10b981;">50/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">CTX 44%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 100%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">ANS 100%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">FTH 100%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(11)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-11" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is perfectly accurate, complete, and directly aligns with the reference and retrieved chunks without any hallucinations or omissions.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **Chunk 1 (ID: truffle)**: Highly relevant (Score: 3). Directly addresses the question by stating that truffles are not considered animal products and that the Rancher profession does not affect their price. This matches the Reference Answer exactly.<br>    - **Chunk 2 (ID: pig)**: Somewhat related (Score: 1). While it provides context about how truffles are produced by pigs, it does not explicitly answer whether truffles are animal products or how the Rancher profession affects them. It is tangentially useful but not sufficient alone.<br>    - **Chunk 3 (ID: dried_mushrooms)**: Completely irrelevant (Score: 0). Focuses on dried mushrooms and the Dehydrator, with only a passing mention that truffles cannot be dehydrated. This does not help answer the question.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - Truffles are not considered to be animal products, like eggs or milk.: SUPPORTED<br>  - They do not receive a price increase from the Rancher profession.: SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            <br>1. **Factual Accuracy**: The AI answer matches the REFERENCE ANSWER and the relevant information in CHUNK 1 exactly. It correctly states that truffles are not considered animal products and do not receive a price increase from the Rancher profession.<br>2. **Completeness**: The AI answer addresses both parts of the question: whether truffles are animal products and the impact of the Rancher profession on them.<br>3. **Hallucinations**: There are no hallucinations or invented details. The AI strictly adheres to the information provided in the chunks and reference.<br>4. **Relevance**: The answer stays entirely on topic and does not deviate into unrelated details.<br>5. **Use of Chunks**: The AI correctly uses CHUNK 1, which explicitly states the relationship between truffles, animal products, and the Rancher profession. No unsupported information is added.<br>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q12</td>
                            <td class="question-cell">
                                <div class="question-text">What materials do I need to build a Fish Pond, and how much does it cost?</div>
                                <div class="reference-text">Ref: The Fish Pond is a type of farm building purchasable from Robin at the Carpenter's Shop. It takes two days to build and occupies a 5x5 tile space. Build cost is 5,000g and requires Stone (200), Seaweed (5), and Green Algae (5).</div>
                            </td>
                            <td class="answer-cell">To build a Fish Pond, you will need the following materials:<br><br>- Stone (200)<br>- Seaweed (5)<br>- Green Algae (5)<br><br>The cost to build a Fish Pond is 5,000g.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid #10b981;">45/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">CTX 33%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 100%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">ANS 67%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">FTH 100%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(12)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-12" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is mostly accurate and complete but omits minor details like the building time and space requirements.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **Chunk 1 (ID: fish_pond)**: Score 3 - Highly relevant. This chunk directly answers the question by providing the building's source (Robin at the Carpenter's Shop), construction time (2 days), space requirement (5x5 tiles), and implicitly confirms it is a purchasable farm building. However, it does *not* explicitly state the build cost (5,000g) or material requirements (Stone, Seaweed, Green Algae), which are critical for a fully correct answer. Despite this omission, it is the most relevant chunk for the question.<br>    - **Chunk 2 (ID: limestone)**: Score 0 - Completely irrelevant. This chunk discusses Limestone, a mineral unrelated to the materials or costs needed to build a Fish Pond. It could mislead the answer toward unrelated topics.<br>    - **Chunk 3 (ID: iridium_rod)**: Score 0 - Completely irrelevant. This chunk describes the Iridium Rod, a fishing tool, which has no connection to building a Fish Pond or its costs/materials.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - To build a Fish Pond, you will need Stone (200).: SUPPORTED<br>  - To build a Fish Pond, you will need Seaweed (5).: SUPPORTED<br>  - To build a Fish Pond, you will need Green Algae (5).: SUPPORTED<br>  - The cost to build a Fish Pond is 5,000g.: SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': 'The AI answer correctly lists the materials (Stone: 200, Seaweed: 5, Green Algae: 5) and the cost (5,000g) as per the REFERENCE ANSWER. This information is not explicitly stated in the provided CHUNKS but aligns with the ground truth.', 'completeness': 'The AI answer addresses the core question (materials and cost) but misses additional details from the REFERENCE ANSWER, such as the building time (2 days) and the space requirement (5x5 tiles). These details are not contradicted by the CHUNKS but are omitted.', 'hallucinations': 'No hallucinations detected. All provided information is either in the REFERENCE ANSWER or not contradicted by the CHUNKS.', 'relevance': 'The answer stays strictly on topic and does not deviate into unrelated details (e.g., Fish Pond functionality or unrelated items like Limestone or Iridium Rod).', 'chunk_usage': 'The AI did not explicitly rely on the CHUNKS for the materials/cost (since these details are missing from the CHUNKS), but the answer aligns with the REFERENCE ANSWER. The CHUNKS focus on Fish Pond functionality, not construction requirements.'}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q13</td>
                            <td class="question-cell">
                                <div class="question-text">Can I put any fish in a Fish Pond? What about legendary fish?</div>
                                <div class="reference-text">Ref: The following can be placed in a Fish Pond: All fish caught with a Fishing Rod or a Crab Pot, including Legendary Fish and Legendary Fish II, Coral and Sea Urchin.</div>
                            </td>
                            <td class="answer-cell">According to the provided context, not all fish can be placed in a Fish Pond. The following cannot be placed in a Fish Pond: Green Algae, Seaweed, White Algae, Sea Jelly, River Jelly, and Cave Jelly.<br><br>As for Legendary Fish, according to the information available, Legendary Fish and Legendary Fish II can be placed in a Fish Pond.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid #10b981;">45/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">CTX 56%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 100%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">ANS 67%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">FTH 100%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(13)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-13" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is mostly accurate and relevant but omits minor details like Coral and Sea Urchin being placeable in Fish Ponds.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **Chunk 1 (ID: fish_pond)**: Score 3 - Highly relevant. This chunk directly answers the question by listing what can and cannot be placed in a Fish Pond, explicitly mentioning that all fish caught with a Fishing Rod or Crab Pot (including Legendary Fish and Legendary Fish II), Coral, and Sea Urchin can be placed in the pond. This matches the Reference Answer perfectly.<br>     - **Chunk 2 (ID: ghostfish)**: Score 1 - Somewhat related. While it confirms that Ghostfish (a specific fish) can be placed in a Fish Pond, it does not address the general question about 'any fish' or 'legendary fish.' It is tangentially related but not useful for the broader question.<br>     - **Chunk 3 (ID: pike)**: Score 1 - Somewhat related. Similar to Chunk 2, it confirms that Pike (another specific fish) can be placed in a Fish Pond but does not address the general question or legendary fish. It is not directly useful for the question asked.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - Not all fish can be placed in a Fish Pond.: SUPPORTED<br>  - The following cannot be placed in a Fish Pond: Green Algae, Seaweed, White Algae, Sea Jelly, River Jelly, and Cave Jelly.: SUPPORTED<br>  - Legendary Fish and Legendary Fish II can be placed in a Fish Pond.: SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': {'correct': 'The AI correctly states that Legendary Fish and Legendary Fish II can be placed in a Fish Pond, matching the reference and chunks. It also correctly lists items that cannot be placed (Green Algae, Seaweed, etc.).', 'minor_omission': 'The AI does not mention that Coral and Sea Urchin (forage items) can also be placed in Fish Ponds, as stated in the reference and Chunk 1.'}, 'completeness': {'partial': 'The AI answers the main parts of the question (general fish and legendary fish) but misses the inclusion of Coral and Sea Urchin, which are explicitly mentioned in the reference and Chunk 1.'}, 'hallucinations': {'none': 'No hallucinations detected. All information is supported by the chunks or reference.'}, 'relevance': {'high': 'The answer stays strictly on topic and addresses the question directly.'}, 'chunk_usage': {'correct_but_incomplete': 'The AI uses Chunk 1 correctly but does not fully incorporate all details (e.g., Coral and Sea Urchin).'}}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q14</td>
                            <td class="question-cell">
                                <div class="question-text">Why is time different at night in Stardew Valley for machines like the Keg?</div>
                                <div class="reference-text">Ref: Note that processing times are approximate, since time passes differently from 2am to 6am. One hour = 60 minutes from 6am to 2am, but 1 hour = 100 minutes from 2am to 6am. One full day is 1600 minutes, where day is 1200 minutes and night is 400 minutes.</div>
                            </td>
                            <td class="answer-cell">Time passes differently from 2am to 6am in Stardew Valley. This means that one hour equals 100 minutes during these hours, whereas it normally equals 60 minutes.<br><br>This difference affects the processing times of machines like the Keg. As a result, processing times are approximate when time is passing differently from 2am to 6am.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid #10b981;">45/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">CTX 44%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 100%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">ANS 100%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">FTH 100%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(14)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-14" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is highly accurate and relevant but omits minor details about the total day/night minute breakdown.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **Chunk 1 (ID: day_cycle)**: Score 1. This chunk provides general information about the day cycle in Stardew Valley, including sleep mechanics and time progression, but it does not explicitly mention the difference in time passage at night (2am-6am) or how it affects machines like the Keg. It is tangentially related but not useful for answering the question.<br>    - **Chunk 2 (ID: keg)**: Score 3. This chunk directly answers the question by explaining how time passes differently at night (2am-6am) and how it impacts processing times for machines like the Keg. It contains all the information mentioned in the Reference Answer.<br>    - **Chunk 3 (ID: night_market_1)**: Score 0. This chunk discusses the Night Market festival and its timings but does not mention anything about time passage differences or their effect on machines. It is completely irrelevant to the question.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - Time passes differently from 2am to 6am in Stardew Valley.: SUPPORTED<br>  - One hour equals 100 minutes from 2am to 6am.: SUPPORTED<br>  - One hour normally equals 60 minutes (outside of 2am to 6am).: SUPPORTED<br>  - This difference affects the processing times of machines like the Keg.: SUPPORTED<br>  - Processing times are approximate when time is passing differently from 2am to 6am.: SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': 'The AI answer correctly states that time passes differently from 2am to 6am (1 hour = 100 minutes) and that this affects processing times for machines like the Keg. This aligns perfectly with the REFERENCE ANSWER and CHUNK 2.', 'completeness': 'The AI answer covers the core question but omits the additional context provided in the REFERENCE ANSWER, such as the total minutes in a full day (1600), day (1200), and night (400). While not critical, this detail enriches the explanation.', 'hallucinations': 'No hallucinations detected. All information is supported by the provided chunks and reference.', 'relevance': 'The answer stays strictly on topic, addressing the question about time differences at night and their impact on machines like the Keg.', 'use_of_chunks': 'The AI effectively uses CHUNK 2, which directly addresses the question. CHUNK 1 and CHUNK 3 are irrelevant to the question and were correctly ignored.'}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q15</td>
                            <td class="question-cell">
                                <div class="question-text">What items can I age in a Cask, and where do Casks work?</div>
                                <div class="reference-text">Ref: The Cask is a type of Artisan Equipment used to age Artisan Goods. It takes Beer, Cheese, Goat Cheese, Mead, Pale Ale, and Wine, and ages them to increase their quality and value. Casks can be placed anywhere; however, they will only accept goods to refine if they are actually in the cellar.</div>
                            </td>
                            <td class="answer-cell">In Stardew Valley, you can age the following items in a Cask:<br><br>- Artisan Goods like Beer, Cheese, Goat Cheese, Mead, Pale Ale, and Wine.<br><br>Casks work best when placed inside the cellar. The cellar comes with 33 casks, allowing you to refine and age various items within it.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid #10b981;">42/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">CTX 67%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 100%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">ANS 67%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">FTH 33%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(15)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-15" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is mostly accurate and relevant but omits some details about where casks work and the full list of ageable items.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **Chunk 1 (Score: 3)**: Highly relevant. It directly answers both parts of the question: lists the items that can be aged in a Cask (Beer, Cheese, Goat Cheese, Mead, Pale Ale, and Wine) and specifies where Casks work (anywhere, but only refine goods if placed in the cellar). This matches the Reference Answer exactly.<br>    - **Chunk 2 (Score: 1)**: Somewhat related. While it discusses the productivity of aging items in a Cask, it does not explicitly list the items that can be aged or address where Casks work. It is tangential to the question and not useful for a direct answer.<br>    - **Chunk 3 (Score: 2)**: Relevant but partial. It mentions that Cheese can be aged in a Cask, which is part of the answer, but it does not cover the full list of items or the location requirement for Casks. It is helpful but incomplete.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - In Stardew Valley, you can age the following items in a Cask: Artisan Goods like Beer, Cheese, Goat Cheese, Mead, Pale Ale, and Wine.: SUPPORTED<br>  - Casks work best when placed inside the cellar.: SUPPORTED<br>  - The cellar comes with 33 casks, allowing you to refine and age various items within it.: SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': 'The AI answer correctly lists the ageable items (Beer, Cheese, Goat Cheese, Mead, Pale Ale, Wine) and mentions the cellar, which aligns with the reference and chunks. However, it does not explicitly state that casks *only* accept goods to refine if they are in the cellar, which is a key detail.', 'completeness': 'The answer partially addresses the question but misses the nuance that casks must be in the cellar to refine goods (though they can be placed anywhere). It also does not mention the quality/value increase aspect or the fact that casks can produce iridium-quality items, which are in the chunks.', 'hallucinations': 'No hallucinations detected. The AI sticks to the provided context and does not invent unsupported information.', 'relevance': 'The answer stays on topic but could be more precise about the conditions under which casks work (e.g., cellar requirement for refining).', 'missing_info': &quot;1) Casks only refine goods if in the cellar (though they can be placed anywhere). 2) Aging increases quality/value. 3) Casks can produce iridium-quality items. 4) The reference to 'Artisan Goods' is redundant since the list is already specific.&quot;}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q16</td>
                            <td class="question-cell">
                                <div class="question-text">How many Casks can I fit in my cellar if I want to be able to reach all of them?</div>
                                <div class="reference-text">Ref: The cellar comes with 33 casks. It is possible to fill the cellar with 125 casks (on PC) and still leave paths to reach all of them without displacing any of them.</div>
                            </td>
                            <td class="answer-cell">According to the context, it is possible to completely fill the cellar with Casks. This requires 189 casks.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(239, 68, 68, 0.1); color: #ef4444; border: 1px solid #ef4444;">25/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">CTX 33%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 100%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">ANS 33%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">FTH 50%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(16)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-16" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is partially correct but omits key details and provides an incomplete response to the question.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **Chunk 1 (ID: cask)**: Highly relevant (score: 3). This chunk directly answers the question by providing the exact number of casks that can fit in the cellar while still allowing access to all of them (125 on PC, 118 on mobile). It also includes the reference answer's key details (33 default casks, reachability constraints).<br>    - **Chunk 2 (ID: big_chest)**: Completely irrelevant (score: 0). This chunk discusses storage capacity and features of the Big Chest, which has no connection to casks or cellar layout.<br>    - **Chunk 3 (ID: silo)**: Completely irrelevant (score: 0). This chunk describes the Silo's functionality and hay storage, which is unrelated to casks or cellar space optimization.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - it is possible to completely fill the cellar with Casks: SUPPORTED<br>  - This requires 189 casks: SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            <br>    1. **Factual Accuracy**: The AI answer is factually correct in stating that the cellar can be completely filled with 189 casks, but this is not the answer to the question asked. The question specifically asks for the number of casks that can fit while still being able to reach all of them, which is 125 (on PC) as stated in the reference and chunks. The AI answer ignores this critical detail and instead provides the maximum number of casks without considering reachability.<br>    2. **Completeness**: The AI answer is incomplete. It does not address the core of the question (reachability) and instead provides an unrelated number (189 casks). It also fails to mention the platform-specific differences (e.g., 118 casks for mobile) or the 33 default casks.<br>    3. **Hallucinations**: No hallucinations are present, but the answer is misleading because it does not align with the question.<br>    4. **Relevance**: The answer is somewhat relevant but does not directly address the question. It stays on topic (casks in the cellar) but misses the key constraint of reachability.<br>    5. **Use of Chunks**: The AI used the chunks but misapplied the information. The chunk clearly states the answer to the question (125 casks on PC with paths to reach all), but the AI ignored this and focused on the maximum capacity (189 casks) instead.<br>  
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q17</td>
                            <td class="question-cell">
                                <div class="question-text">What does the Preserves Jar make from different types of items?</div>
                                <div class="reference-text">Ref: The Preserves Jar is a type of Artisan Equipment used to make Artisan Goods. Fruit makes Jelly; Mushrooms, Vegetables, and foraged items make Pickles; Sturgeon Roe makes Caviar; and other fish Roe make their respective Aged Roe.</div>
                            </td>
                            <td class="answer-cell">The Preserves Jar is used to make Artisan Goods. The table below shows the productivity of processing different types of items into their respective products.<br><br>- Fruits: makes Jelly<br>- Vegetables, Mushrooms: makes Pickles<br>- Foraged items: makes Pickles<br>- Sturgeon Roe: makes Caviar<br><br>Note that these products are always regular quality and can be sold for a profit. The value of the finished product is determined using the base value (i.e., with no silver or gold star) of the item.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid #10b981;">45/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">CTX 67%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 88%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">ANS 67%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">FTH 89%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(17)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-17" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is highly accurate and relevant but omits minor details about 'other fish Roe' and the specific mention of 'foraged items' alongside vegetables and mushrooms for Pickles.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **Chunk 1**: Highly relevant (Score: 3). This chunk directly answers the question by listing what the Preserves Jar makes from different types of items (e.g., Fruit → Jelly, Mushrooms/Vegetables/Foraged items → Pickles, Sturgeon Roe → Caviar, other fish Roe → Aged Roe). It matches the Reference Answer exactly.<br>    - **Chunk 2**: Somewhat related (Score: 1). While it discusses the productivity and profitability of the Preserves Jar, it does not explicitly state what items are transformed into which products. It is tangentially related but not useful for answering the question.<br>    - **Chunk 3**: Relevant (Score: 2). This chunk partially answers the question by specifying that fruits make Jellies and vegetables/foraged items make Pickles. However, it omits details about Roe (Caviar/Aged Roe), which are part of the Reference Answer.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - The Preserves Jar is used to make Artisan Goods.: SUPPORTED<br>  - Fruits: makes Jelly: SUPPORTED<br>  - Vegetables, Mushrooms: makes Pickles: SUPPORTED<br>  - Foraged items: makes Pickles: SUPPORTED<br>  - Sturgeon Roe: makes Caviar: SUPPORTED<br>  - These products are always regular quality.: SUPPORTED<br>  - The value of the finished product is determined using the base value (i.e., with no silver or gold star) of the item.: SUPPORTED<br>  - The table below shows the productivity of processing different types of items into their respective products.: UNSUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': {'correct': ['Fruits make Jelly', 'Vegetables and Mushrooms make Pickles', 'Sturgeon Roe makes Caviar', 'Products are always regular quality', 'Value determined by base value of the item'], 'missing': [&quot;Explicit mention of 'foraged items' making Pickles (though implied by 'Vegetables, Mushrooms')&quot;, 'Other fish Roe make their respective Aged Roe (only Sturgeon Roe is explicitly mentioned)']}, 'completeness': &quot;The answer covers the core question but misses the nuance of 'other fish Roe' and does not explicitly list 'foraged items' as a separate category (though it is grouped with vegetables/mushrooms).&quot;, 'hallucinations': 'None detected. All information aligns with the provided chunks and reference.', 'relevance': 'The answer stays strictly on topic and does not deviate from the question.', 'chunk_usage': &quot;The AI correctly uses the chunks to derive the answer but omits minor details present in the reference and chunks (e.g., 'other fish Roe' and explicit 'foraged items' mention).&quot;}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q18</td>
                            <td class="question-cell">
                                <div class="question-text">How many slimes do I need in my Slime Hutch to produce a Slime Ball?</div>
                                <div class="reference-text">Ref: The minimum requirements for just one slime ball to form is at least five slimes (of any gender) and at least one filled water trough.</div>
                            </td>
                            <td class="answer-cell">To produce a Slime Ball in the Slime Hutch, at least 5 slimes must be present.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b; border: 1px solid #f59e0b;">35/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">CTX 56%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 100%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">ANS 67%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">FTH 100%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(18)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-18" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is factually accurate but incomplete, missing the requirement of a filled water trough for Slime Ball production.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **Chunk 1 (ID: slime_ball)**: Score 3 - Highly relevant. Directly answers the question by stating the minimum requirements for producing a Slime Ball: 'at least five slimes (of any gender) and at least one filled water trough.' This matches the Reference Answer exactly.<br>    - **Chunk 2 (ID: slime_hutch)**: Score 2 - Relevant. While it provides useful context about the Slime Hutch (e.g., the need for 5 slimes and filled water troughs), it also includes extraneous details (e.g., Slime Charmer Ring, Witch event, slime breeding mechanics) that are not directly needed to answer the question. The core answer is present but buried in less relevant information.<br>    - **Chunk 3 (ID: slime)**: Score 0 - Completely irrelevant. This chunk focuses on Slime as an item (e.g., how to obtain it, uses in crafting, Fish Pond quests) and does not address the Slime Hutch or Slime Ball production requirements at all.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - To produce a Slime Ball in the Slime Hutch, at least 5 slimes must be present.: SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': 'The AI answer correctly states that at least 5 slimes are required, which aligns with the REFERENCE and CHUNKS. However, it omits the critical condition of having at least one filled water trough, which is explicitly mentioned in both the REFERENCE and CHUNKS (CHUNK 1 and CHUNK 2).', 'completeness': 'The answer is incomplete. It addresses only one of the two minimum requirements (number of slimes) but ignores the water trough condition, which is essential for Slime Ball production.', 'hallucinations': 'No hallucinations detected. The AI did not invent any unsupported information.', 'relevance': 'The answer is relevant to the question but lacks full context.', 'use_of_chunks': 'The AI partially used the chunks but failed to include the water trough requirement, which is clearly stated in both CHUNK 1 and CHUNK 2.'}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q19</td>
                            <td class="question-cell">
                                <div class="question-text">Where can I buy Slime, and how much does it cost?</div>
                                <div class="reference-text">Ref: Slime can be obtained from Slime Balls or purchased from Krobus for 10g on Mondays (up to 50 per Monday).</div>
                            </td>
                            <td class="answer-cell">According to the provided context, you can buy Slime from Krobus on Mondays for up to 50 per Monday.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid #10b981;">40/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">CTX 44%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 100%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">ANS 67%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">FTH 100%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(19)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-19" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is factually accurate but incomplete, missing the price of Slime and other sources like Slime Balls.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **Chunk 1 (ID: slime)**: Score 3 - Highly relevant. Directly answers the question by mentioning that Slime can be purchased from Krobus for 10g on Mondays (up to 50 per Monday), which matches the Reference Answer exactly. It also provides additional context (e.g., Slime Balls, Traveling Cart) but does not distract from the core answer.<br>    - **Chunk 2 (ID: slime_eggpress)**: Score 0 - Completely irrelevant. Focuses on the Slime Egg-Press and its crafting/use, which is unrelated to buying Slime or its cost.<br>    - **Chunk 3 (ID: slime_egg)**: Score 1 - Somewhat related. Mentions Slime and its sources (e.g., Slime Egg-Press, Fish Pond), but does not address purchasing Slime or its cost, making it tangentially related but not useful for the question.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - you can buy Slime from Krobus on Mondays: SUPPORTED<br>  - you can buy up to 50 Slime per Monday from Krobus: SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': 'The AI answer correctly states that Slime can be purchased from Krobus on Mondays (up to 50 per Monday), which aligns with the reference and CHUNK 1.', 'completeness': 'The answer is incomplete. It omits the price of Slime (10g) and the alternative source (Slime Balls), both of which are mentioned in the reference and CHUNK 1.', 'hallucinations': 'No hallucinations detected. The AI did not invent any unsupported information.', 'relevance': 'The answer stays on topic but lacks key details.', 'chunk_usage': 'The AI used CHUNK 1 correctly but did not incorporate all relevant information from it (e.g., price and Slime Balls).'}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q20</td>
                            <td class="question-cell">
                                <div class="question-text">What do I get as a reward for killing 1000 Slimes?</div>
                                <div class="reference-text">Ref: The Slime Charmer Ring is a ring that can be obtained as a reward from Gil at the Adventurer's Guild after completing the Monster Eradication Goal of killing 1000 Slimes. The Slime Charmer Ring prevents the Slime debuff as well as preventing damage from Slimes.</div>
                            </td>
                            <td class="answer-cell">After completing the Monster Eradication Goal of killing 1000 Slimes, you can obtain the Slime Charmer Ring from Gil at the Adventurer's Guild.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid #10b981;">45/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">CTX 44%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 100%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">ANS 67%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">FTH 100%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(20)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-20" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is factually accurate and relevant but omits minor details about the ring's effects and post-reward availability.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **Chunk 1 (ID: slimes)**: Score 1 - This chunk provides background information about Slimes and the Monster Eradication Goal of killing 1000 Slimes, which is tangentially related to the question. However, it does not mention the reward (Slime Charmer Ring) or its effects, so it is not directly useful for answering the question.<br>    - **Chunk 2 (ID: slime)**: Score 0 - This chunk is completely irrelevant to the question. It focuses on the item 'Slime' (drops, uses, etc.) and does not mention the reward for killing Slimes or any related goals.<br>    - **Chunk 3 (ID: slime_charmer_ring)**: Score 3 - This chunk is highly relevant as it directly answers the question by providing the exact reward (Slime Charmer Ring), how to obtain it, and its effects, matching the Reference Answer.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - After completing the Monster Eradication Goal of killing 1000 Slimes, you can obtain the Slime Charmer Ring: SUPPORTED<br>  - The Slime Charmer Ring is obtained from Gil at the Adventurer's Guild: SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': &quot;The AI answer correctly states that the Slime Charmer Ring is obtained from Gil at the Adventurer's Guild after killing 1000 Slimes. This matches the reference and [CHUNK 3].&quot;, 'completeness': 'The answer is mostly complete but misses two details: (1) the ring prevents the Slime debuff and damage from Slimes, and (2) it can later be purchased from Marlon. These are present in the reference and [CHUNK 3].', 'hallucinations': 'No hallucinations detected. All information is supported by the reference or chunks.', 'relevance': 'The answer stays strictly on topic and does not deviate from the question.', 'chunk_usage': 'The AI effectively used [CHUNK 3] but did not incorporate all available details from it, leading to minor omissions.'}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                    </tbody>
                </table>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>RAG Evaluation Report | Powered by Tryll Engine Inc.</p>
        </div>
    </div>

    <script>
        // Toggle details row visibility
        function toggleDetails(id) {
            const row = document.getElementById('details-row-' + id);
            const btn = event.target;
            if (row.style.display === 'none') {
                row.style.display = 'table-row';
                btn.textContent = 'Hide Details';
            } else {
                row.style.display = 'none';
                btn.textContent = 'Show Details';
            }
        }

        // Scores Bar Chart
        const scoresCtx = document.getElementById('scoresChart').getContext('2d');
        new Chart(scoresCtx, {
            type: 'bar',
            data: {
                labels: ["Q1", "Q2", "Q3", "Q4", "Q5", "Q6", "Q7", "Q8", "Q9", "Q10", "Q11", "Q12", "Q13", "Q14", "Q15", "Q16", "Q17", "Q18", "Q19", "Q20"],
                datasets: [{
                    label: 'Score',
                    data: [50, 50, 35, 25, 50, 45, 40, 48, 50, 40, 50, 45, 45, 45, 42, 25, 45, 35, 40, 45],
                    backgroundColor: [50, 50, 35, 25, 50, 45, 40, 48, 50, 40, 50, 45, 45, 45, 42, 25, 45, 35, 40, 45].map(score => {
                        if (score >= 40) return 'rgba(16, 185, 129, 0.7)';
                        if (score >= 25) return 'rgba(245, 158, 11, 0.7)';
                        return 'rgba(239, 68, 68, 0.7)';
                    }),
                    borderColor: [50, 50, 35, 25, 50, 45, 40, 48, 50, 40, 50, 45, 45, 45, 42, 25, 45, 35, 40, 45].map(score => {
                        if (score >= 40) return '#10b981';
                        if (score >= 25) return '#f59e0b';
                        return '#ef4444';
                    }),
                    borderWidth: 2,
                    borderRadius: 8
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 50,
                        grid: { color: 'rgba(255,255,255,0.08)' },
                        ticks: { color: 'rgba(255,255,255,0.55)' }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { color: 'rgba(255,255,255,0.55)' }
                    }
                }
            }
        });

        // Radar Chart
        const radarCtx = document.getElementById('radarChart').getContext('2d');
        new Chart(radarCtx, {
            type: 'radar',
            data: {
                labels: ['Context Relevance', 'Groundedness', 'Answer Relevance', 'Faithfulness'],
                datasets: [{
                    label: 'Average Metrics',
                    data: [51.1, 91.5, 76.7, 88.6],
                    backgroundColor: 'rgba(59, 130, 246, 0.15)',
                    borderColor: '#3B82F6',
                    borderWidth: 2,
                    pointBackgroundColor: '#3B82F6',
                    pointBorderColor: '#F6F0EB',
                    pointHoverBackgroundColor: '#F6F0EB',
                    pointHoverBorderColor: '#3B82F6'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    r: {
                        beginAtZero: true,
                        max: 100,
                        grid: { color: 'rgba(255,255,255,0.08)' },
                        angleLines: { color: 'rgba(255,255,255,0.08)' },
                        pointLabels: { color: 'rgba(255,255,255,0.85)', font: { size: 11, weight: 500 } },
                        ticks: {
                            color: 'rgba(255,255,255,0.5)',
                            backdropColor: 'transparent'
                        }
                    }
                },
                plugins: {
                    legend: { display: false }
                }
            }
        });

        // Metrics Breakdown Chart
        const metricsCtx = document.getElementById('metricsChart').getContext('2d');
        new Chart(metricsCtx, {
            type: 'bar',
            data: {
                labels: ["Q1", "Q2", "Q3", "Q4", "Q5", "Q6", "Q7", "Q8", "Q9", "Q10", "Q11", "Q12", "Q13", "Q14", "Q15", "Q16", "Q17", "Q18", "Q19", "Q20"],
                datasets: [
                    {
                        label: 'Context Relevance',
                        data: [55.7, 66.7, 44.3, 55.7, 55.7, 55.7, 55.7, 55.7, 33.3, 55.7, 44.3, 33.3, 55.7, 44.3, 66.7, 33.3, 66.7, 55.7, 44.3, 44.3],
                        backgroundColor: 'rgba(59, 130, 246, 0.7)',
                        borderRadius: 4
                    },
                    {
                        label: 'Groundedness',
                        data: [100.0, 100.0, 80.0, 33.0, 100.0, 80.0, 100.0, 100.0, 100.0, 50.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 87.5, 100.0, 100.0, 100.0],
                        backgroundColor: 'rgba(35, 46, 65, 0.9)',
                        borderRadius: 4
                    },
                    {
                        label: 'Answer Relevance',
                        data: [100.0, 100.0, 66.7, 33.3, 100.0, 100.0, 66.7, 100.0, 100.0, 66.7, 100.0, 66.7, 66.7, 100.0, 66.7, 33.3, 66.7, 66.7, 66.7, 66.7],
                        backgroundColor: 'rgba(246, 240, 235, 0.7)',
                        borderRadius: 4
                    },
                    {
                        label: 'Faithfulness',
                        data: [100.0, 100.0, 100.0, 50.0, 100.0, 100.0, 100.0, 100.0, 100.0, 50.0, 100.0, 100.0, 100.0, 100.0, 33.0, 50.0, 89.0, 100.0, 100.0, 100.0],
                        backgroundColor: 'rgba(16, 185, 129, 0.7)',
                        borderRadius: 4
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top',
                        labels: { color: 'rgba(255,255,255,0.85)' }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100,
                        grid: { color: 'rgba(255,255,255,0.08)' },
                        ticks: { color: 'rgba(255,255,255,0.55)' }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { color: 'rgba(255,255,255,0.55)' }
                    }
                }
            }
        });
    </script>
</body>
</html>
