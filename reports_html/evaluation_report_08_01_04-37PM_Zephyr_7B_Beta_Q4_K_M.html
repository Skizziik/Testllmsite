<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RAG Evaluation Report</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #000000;
            background-image: radial-gradient(ellipse 80% 50% at 50% -20%, rgba(59, 130, 246, 0.15), transparent);
            min-height: 100vh;
            color: rgba(255, 255, 255, 0.9);
            padding: 20px;
            -webkit-font-smoothing: antialiased;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Header */
        .header {
            text-align: center;
            padding: 30px 0;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            color: #F6F0EB;
            font-weight: 700;
            margin-bottom: 10px;
            letter-spacing: -0.02em;
        }

        .header .subtitle {
            color: rgba(255, 255, 255, 0.65);
            font-size: 1.1rem;
            font-weight: 450;
        }

        /* Metrics Cards */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .metric-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 24px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            transition: all 0.3s ease;
        }

        .metric-card:hover {
            transform: translateY(-3px);
            background: rgba(255, 255, 255, 0.05);
            border-color: rgba(59, 130, 246, 0.3);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
        }

        .metric-card .label {
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.55);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .metric-card .value {
            font-size: 1.8rem;
            font-weight: 650;
            margin-bottom: 8px;
            word-break: break-word;
        }

        .metric-card .subtext {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.45);
        }

        .metric-card.highlight {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(35, 46, 65, 0.4));
            border-color: rgba(59, 130, 246, 0.25);
        }

        /* Charts Section */
        .charts-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        @media (max-width: 900px) {
            .charts-section {
                grid-template-columns: 1fr;
            }
        }

        .chart-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 24px;
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .chart-card h3 {
            margin-bottom: 20px;
            color: #F6F0EB;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .chart-container {
            position: relative;
            height: 300px;
        }

        /* Results Table */
        .results-section {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 24px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            margin-bottom: 30px;
        }

        .results-section h2 {
            margin-bottom: 20px;
            color: #F6F0EB;
            font-weight: 600;
        }

        .results-table {
            width: 100%;
            border-collapse: collapse;
            table-layout: fixed;
        }

        .results-table th {
            background: rgba(35, 46, 65, 0.5);
            padding: 12px 16px;
            text-align: left;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.85);
            border-bottom: 1px solid rgba(59, 130, 246, 0.2);
        }

        /* Fixed column widths */
        .results-table th:nth-child(1),
        .results-table td:nth-child(1) { width: 50px; }
        .results-table th:nth-child(2),
        .results-table td:nth-child(2) { width: 25%; }
        .results-table th:nth-child(3),
        .results-table td:nth-child(3) { width: 30%; }
        .results-table th:nth-child(4),
        .results-table td:nth-child(4) { width: 80px; }
        .results-table th:nth-child(5),
        .results-table td:nth-child(5) { width: 200px; }
        .results-table th:nth-child(6),
        .results-table td:nth-child(6) { width: 120px; }

        .results-table td {
            padding: 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            vertical-align: top;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        .results-table tr:hover {
            background: rgba(59, 130, 246, 0.05);
        }

        /* Don't highlight details row on hover */
        .results-table tr.details-row:hover {
            background: transparent;
        }

        .question-cell {
            max-width: 300px;
        }

        .question-text {
            font-weight: 500;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 8px;
        }

        .reference-text {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.5);
            font-style: italic;
        }

        .answer-cell {
            max-width: 400px;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.75);
        }

        .score-badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .metric-pill {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.8rem;
            margin: 2px;
            font-weight: 500;
        }

        .metrics-cell {
            min-width: 200px;
        }

        /* Expandable Details */
        .details-toggle {
            background: rgba(59, 130, 246, 0.15);
            border: 1px solid rgba(59, 130, 246, 0.3);
            color: #3B82F6;
            padding: 6px 12px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .details-toggle:hover {
            background: #3B82F6;
            color: #ffffff;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }

        .details-content {
            display: none;
            margin-top: 12px;
            padding: 16px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.75);
        }

        .details-content.show {
            display: block;
        }

        /* Details Row - separate row for expanded details */
        .details-row {
            background: transparent;
        }

        .details-row td {
            padding: 0 !important;
            border-top: none;
        }

        .details-content-expanded {
            padding: 16px 20px;
            background: rgba(35, 46, 65, 0.3);
            border-radius: 0 0 8px 8px;
            margin: 0 8px 8px 8px;
            border: 1px solid rgba(59, 130, 246, 0.1);
            border-top: none;
        }

        .details-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 12px;
        }

        .detail-section {
            margin-bottom: 8px;
            background: rgba(0, 0, 0, 0.2);
            padding: 12px 14px;
            border-radius: 6px;
            border-left: 2px solid rgba(59, 130, 246, 0.4);
            font-size: 0.85rem;
            line-height: 1.5;
            color: rgba(255, 255, 255, 0.8);
        }

        .detail-section strong {
            color: rgba(255, 255, 255, 0.55);
            display: block;
            margin-bottom: 6px;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 500;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 30px 20px;
            color: rgba(255, 255, 255, 0.45);
            font-size: 0.85rem;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
            margin-top: 20px;
        }

        .footer a {
            color: #3B82F6;
            text-decoration: none;
        }

        .footer a:hover {
            text-decoration: underline;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        /* Prompt Modal */
        .prompt-btn {
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: rgba(255, 255, 255, 0.8);
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.2s ease;
            margin-top: 15px;
        }

        .prompt-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(59, 130, 246, 0.5);
            color: #3B82F6;
        }

        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(4px);
        }

        .modal-overlay.show {
            display: flex;
        }

        .modal-content {
            background: #0f1419;
            border-radius: 12px;
            padding: 24px;
            max-width: 800px;
            width: 90vw;
            max-height: 80vh;
            overflow-y: auto;
            overflow-x: hidden;
            border: 1px solid rgba(59, 130, 246, 0.2);
            position: relative;
            box-sizing: border-box;
        }

        .modal-content h3 {
            color: #F6F0EB;
            margin-bottom: 16px;
            font-size: 1.2rem;
            font-weight: 600;
        }

        .modal-close {
            position: absolute;
            top: 16px;
            right: 16px;
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: rgba(255, 255, 255, 0.6);
            width: 32px;
            height: 32px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .modal-close:hover {
            background: rgba(239, 68, 68, 0.2);
            border-color: rgba(239, 68, 68, 0.4);
            color: #ef4444;
        }

        .prompt-text {
            background: rgba(0, 0, 0, 0.4);
            padding: 16px;
            border-radius: 8px;
            font-family: 'JetBrains Mono', 'Consolas', 'Monaco', monospace;
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.8);
            white-space: pre-wrap;
            word-wrap: break-word;
            overflow-wrap: break-word;
            word-break: break-word;
            line-height: 1.6;
            border: 1px solid rgba(255, 255, 255, 0.05);
            max-width: 100%;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>RAG Evaluation Report</h1>
            <p class="subtitle">Generated: 2026-01-08 16:37 | Questions: 10 | Model: Zephyr 7B Beta (Q4_K_M)</p>
            <button class="prompt-btn" onclick="document.getElementById('promptModal').classList.add('show')">Show Test Config</button>
            <button class="prompt-btn" style="margin-left: 8px;" onclick="document.getElementById('serverConfigModal').classList.add('show')">Show Server Config</button>
        </div>

        <!-- Prompt Modal -->
        <div id="promptModal" class="modal-overlay" onclick="if(event.target===this)this.classList.remove('show')">
            <div class="modal-content">
                <button class="modal-close" onclick="document.getElementById('promptModal').classList.remove('show')">&times;</button>
                <h3>Test Configuration</h3>
                <div class="model-info" style="margin-bottom: 16px; padding: 12px; background: rgba(59, 130, 246, 0.1); border-radius: 8px; border-left: 3px solid #3B82F6;">
                    <strong style="color: #3B82F6;">Model:</strong> <span style="color: rgba(255,255,255,0.9);">Zephyr 7B Beta (Q4_K_M)</span>
                </div>
                <h4 style="color: rgba(255,255,255,0.7); margin-bottom: 8px; font-size: 0.9rem;">System Prompt:</h4>
                <div class="prompt-text">You are an AI assistant for the game Minecraft.<br><br>Your task is to answer the player’s question strictly using the provided context.<br>Do not rely on internal, general, or prior knowledge.<br>If the context does not contain the required information, explicitly say that you do not have enough information.<br><br>&lt;Game Description&gt;<br>Minecraft is a sandbox game by Mojang.<br>Players interact with a block-based world by mining, crafting, building,<br>fighting mobs, farming, using redstone mechanisms, enchanting items,<br>trading with villagers, and exploring dimensions such as the Overworld,<br>Nether, and End.<br>&lt;/Game Description&gt;<br><br>&lt;Safety Guidelines&gt;<br>CSAM:<br>Never generate content involving sexual abuse or exploitation of children.<br><br>Dangerous Content:<br>Never provide instructions for weapons, explosives, poisons, self-harm, or illegal activities.<br><br>PII &amp; Demographic Data:<br>Never share or infer personal data (addresses, medical info, finances, IDs).<br><br>Sexually Explicit Content:<br>Never generate sexually explicit content.<br><br>Medical Advice:<br>Never give personalized or detailed medical advice.<br><br>Malicious Content:<br>Never assist with hacking, scamming, stealing, or other illegal acts.<br><br>Hate Speech:<br>Never promote violence, discrimination, or hatred against protected groups.<br><br>Harassment:<br>Never generate abusive, intimidating, or bullying content.<br><br>Violence and Gore:<br>Avoid graphic or gratuitous depictions of real-life violence or gore.<br>&lt;/Safety Guidelines&gt;<br><br>&lt;Response Rules&gt;<br>- Use only the provided context.<br>- If the context is empty or irrelevant, say you do not have enough information.<br>- Do not guess, infer, or hallucinate.<br>- If the question is not about Minecraft, refuse politely.<br>- If the question violates safety rules, refuse briefly.<br>- Keep answers concise, factual, and neutral.<br>&lt;/Response Rules&gt;<br><br>&lt;few_shot_examples&gt;<br><br>Example 1 — Relevant article retrieved<br>Context: Zombie villagers can be cured by applying the Weakness effect and then giving them a golden apple.<br>Question: How do I cure a zombie villager?<br>Assistant: A zombie villager can be cured by applying the Weakness effect and then giving it a golden apple.<br><br>Example 2 — Irrelevant article retrieved<br>Context: Creepers are hostile mobs that explode when close to the player.<br>Question: How do I build a Nether portal?<br>Assistant: I don’t have enough information in the provided context to answer this question.<br><br>Example 3 — No article retrieved<br>Context:<br>Question: What does redstone do?<br>Assistant: I don’t have enough information in the provided context to answer this question.<br><br>Example 4 — Not about Minecraft<br>Context:<br>Question: Who won the World Cup in 2014?<br>Assistant: I can only help with questions related to Minecraft.<br><br>Example 5 — Safety violation<br>Context:<br>Question: How do I make a real explosive like TNT?<br>Assistant: I can’t help with that request.<br><br>Example 6 — Gibberish / meaningless<br>Context:<br>Question: asdjklqwe 123??<br>Assistant: I don’t understand the question. Please ask something related to Minecraft.<br><br>&lt;/few_shot_examples&gt;<br><br>Use the following context to answer the player question.<br>It contains retrieved information from Minecraft-related sources.<br><br>Context:<br>{context}<br><br>Question to answer:</div>
            </div>
        </div>

        <!-- Server Config Modal -->
        <div id="serverConfigModal" class="modal-overlay" onclick="if(event.target===this)this.classList.remove('show')">
            <div class="modal-content">
                <button class="modal-close" onclick="document.getElementById('serverConfigModal').classList.remove('show')">&times;</button>
                <h3>Server Configuration</h3>
                <div class="prompt-text">{<br>  &quot;version&quot;: &quot;0.1.2&quot;,<br>  &quot;port&quot;: 1234,<br>  &quot;system_port&quot;: 1235,<br>  &quot;speak&quot;: 0,<br>  &quot;embedding_model_name&quot;: &quot;BAAI/bge-small-en-v1.5&quot;,<br>  &quot;rag_chunks_number&quot;: 2,<br>  &quot;rag_double_tower&quot;: false,<br>  &quot;rag_score_threshold&quot;: 0.3,<br>  &quot;llm_context_size&quot;: 8192,<br>  &quot;semantic_filter_tokens&quot;: 50,<br>  &quot;semantic_filter_threshold&quot;: 0.2,<br>  &quot;text_splitter_chunk_size&quot;: 2200,<br>  &quot;text_splitter_chunk_overlap&quot;: 320,<br>  &quot;text_splitter_separator&quot;: &quot;\n&quot;,<br>  &quot;prompt_player_template&quot;: &quot;- Refer to the player as: &quot;,<br>  &quot;prompt_personality_template&quot;: &quot;- You have the following personality: &quot;,<br>  &quot;prompt_tools_template&quot;: &quot;- All responses must go through the tools - no direct or natural language output&quot;,<br>  &quot;retrieve_tool_description&quot;: &quot;Search and return information from the game database and item craft database&quot;,<br>  &quot;retrieve_rag_description&quot;: &quot;Query to retrieval system&quot;,<br>  &quot;retrieve_craft_description&quot;: &quot;Item name to get craft information if it is needed&quot;,<br>  &quot;game_path&quot;: &quot;C:\\Users\\utente\\AppData\\Local\\Tryll\\server&quot;,<br>  &quot;log_dir&quot;: &quot;C:\\Users\\utente\\AppData\\Local\\Tryll\\logs&quot;<br>}</div>
            </div>
        </div>

        <!-- Metrics Cards -->
        <div class="metrics-grid">
            <div class="metric-card highlight">
                <div class="label">Total Score</div>
                <div class="value" style="color: #f59e0b">375/500</div>
                <div class="subtext">75.0% of maximum</div>
            </div>
            <div class="metric-card">
                <div class="label">Avg Score (1-50)</div>
                <div class="value" style="color: #f59e0b">37.5</div>
                <div class="subtext">Per question</div>
            </div>
            <div class="metric-card">
                <div class="label">RAG Triad</div>
                <div class="value" style="color: #f59e0b">75.6%</div>
                <div class="subtext">Context + Ground + Answer</div>
            </div>
            <div class="metric-card">
                <div class="label">Context Relevance</div>
                <div class="value" style="color: #f59e0b">75.0%</div>
                <div class="subtext">Chunk quality</div>
            </div>
            <div class="metric-card">
                <div class="label">Groundedness</div>
                <div class="value" style="color: #f59e0b">66.9%</div>
                <div class="subtext">Answer backed by chunks</div>
            </div>
            <div class="metric-card">
                <div class="label">Faithfulness</div>
                <div class="value" style="color: #f59e0b">66.9%</div>
                <div class="subtext">Matches reference</div>
            </div>
        </div>

        <!-- Charts -->
        <div class="charts-section">
            <div class="chart-card">
                <h3>Scores by Question</h3>
                <div class="chart-container">
                    <canvas id="scoresChart"></canvas>
                </div>
            </div>
            <div class="chart-card">
                <h3>Metrics Overview</h3>
                <div class="chart-container">
                    <canvas id="radarChart"></canvas>
                </div>
            </div>
        </div>

        <div class="charts-section">
            <div class="chart-card" style="grid-column: span 2;">
                <h3>Metrics Breakdown by Question</h3>
                <div class="chart-container" style="height: 350px;">
                    <canvas id="metricsChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Results Table -->
        <div class="results-section">
            <h2>Detailed Results</h2>
            <div style="overflow-x: auto;">
                <table class="results-table">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Question & Reference</th>
                            <th>AI Answer</th>
                            <th>Score</th>
                            <th>Metrics</th>
                            <th>Details</th>
                        </tr>
                    </thead>
                    <tbody>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q1</td>
                            <td class="question-cell">
                                <div class="question-text">What’s the safest distance I should back away from a hissing creeper to stop it from exploding?</div>
                                <div class="reference-text">Ref: </div>
                            </td>
                            <td class="answer-cell"><br>&lt;|assistant|&gt;<br>If a creeper starts hissing and expanding, the safest distance to back away from it in order to stop it from exploding is 15 blocks (approximately 30 meters). This is because creepers cancel their explosion if they do not have line-of-sight with the player throughout the entire 1.5-second countdown, and being 15 blocks away ensures that the player is outside of the creeper's blast radius. However, it's also important to note that creepers can still move and chase players up to a distance of 16 blocks, so it's recommended to keep a safe distance from them at all times.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b; border: 1px solid #f59e0b;">34/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">CTX 75%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">GRD 40%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">ANS 90%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">FTH 40%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(1)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-1" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            RAGAS evaluation
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            Only one relevant chunk was retrieved, and it appeared at the top position (Position 1). However, the precision drops at Position 2 due to the irrelevant chunk. The ranking is mostly good, but the lack of additional relevant chunks limits the score. The system could benefit from retrieving more relevant chunks to improve context precision.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                            [{'claim': 'If a creeper starts hissing and expanding, the safest distance to back away from it in order to stop it from exploding is 15 blocks (approximately 30 meters).', 'verdict': 'UNSUPPORTED', 'context_id': None}, {'claim': 'Creepers cancel their explosion if they do not have line-of-sight with the player throughout the entire 1.5-second countdown.', 'verdict': 'SUPPORTED', 'context_id': 1}, {'claim': &quot;Being 15 blocks away ensures that the player is outside of the creeper's blast radius.&quot;, 'verdict': 'UNSUPPORTED', 'context_id': None}, {'claim': 'Creepers can still move and chase players up to a distance of 16 blocks.', 'verdict': 'SUPPORTED', 'context_id': 2}, {'claim': &quot;It's recommended to keep a safe distance from them at all times.&quot;, 'verdict': 'SUPPORTED', 'context_id': None}]
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            Faithfulness: 0.40, Answer Relevancy: 0.90, Context Precision: 0.75
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q2</td>
                            <td class="question-cell">
                                <div class="question-text">What’s the easiest way to get pottery sherds for decorated pots in the trial chambers?</div>
                                <div class="reference-text">Ref: </div>
                            </td>
                            <td class="answer-cell"><br>&lt;|assistant|&gt;<br>The easiest way to get pottery sherds for decorated pots in the trial chambers is to find them as suspicious sand or suspicious gravel loot in trail ruins, ocean ruins, desert pyramids, and desert wells. They can also be extracted from these blocks using a brush. Decorated pots with scrape, flow, and guster pottery sherds on their sides naturally generate in trial chambers. However, if you prefer to craft decorated pots without sherds, you can still use them as compact storage for bricks, as each decorated pot can be crafted from four bricks and can be broken down into four bricks. Alternatively, when a decorated pot is broken with a pickaxe, axe, shovel, hoe, or sword that is not enchanted with Silk Touch, it drops all of the pottery sherds and bricks used to craft it.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid #10b981;">44/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">CTX 75%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 100%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">ANS 90%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">FTH 100%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(2)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-2" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            RAGAS evaluation
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            The first chunk is highly relevant and appears at the top position, earning a Precision@1 of 1.0. However, the second chunk is irrelevant, reducing Precision@2 to 0.5. The average precision (0.75) reflects that the only relevant chunk was ranked first, but the presence of an irrelevant chunk at position 2 slightly penalizes the score. Overall, the ranking is good but not perfect.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                            [{'claim': 'The easiest way to get pottery sherds for decorated pots in the trial chambers is to find them as suspicious sand or suspicious gravel loot in trail ruins, ocean ruins, desert pyramids, and desert wells.', 'verdict': 'SUPPORTED', 'context_id': 1}, {'claim': 'They can also be extracted from these blocks using a brush.', 'verdict': 'SUPPORTED', 'context_id': 1}, {'claim': 'Decorated pots with scrape, flow, and guster pottery sherds on their sides naturally generate in trial chambers.', 'verdict': 'SUPPORTED', 'context_id': 1}, {'claim': 'However, if you prefer to craft decorated pots without sherds, you can still use them as compact storage for bricks.', 'verdict': 'SUPPORTED', 'context_id': 2}, {'claim': 'Each decorated pot can be crafted from four bricks and can be broken down into four bricks.', 'verdict': 'SUPPORTED', 'context_id': 2}, {'claim': 'When a decorated pot is broken with a pickaxe, axe, shovel, hoe, or sword that is not enchanted with Silk Touch, it drops all of the pottery sherds and bricks used to craft it.', 'verdict': 'SUPPORTED', 'context_id': 1}]
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            Faithfulness: 1.00, Answer Relevancy: 0.90, Context Precision: 0.75
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q3</td>
                            <td class="question-cell">
                                <div class="question-text">What’s the best way to farm granite slabs for note block bass drums?</div>
                                <div class="reference-text">Ref: </div>
                            </td>
                            <td class="answer-cell"><br>&lt;|assistant|&gt;<br>To farm granite slabs for note block bass drums, you can follow these steps:<br><br>1. Locate a biome with desert villages, as granite stairs (which generate into granite slabs when mined) are commonly found in these structures.<br><br>2. Explore the village and search for any houses or buildings that have granite stairs on their walls or floors. You can also check the exterior of the village for any exposed granite stairs.<br><br>3. Once you find some granite stairs, mine them with a pickaxe to obtain granite slabs. Granite slabs are a crafting component used to make bass drums when placed under note blocks.<br><br>4. Collect as many granite slabs as you need for your bass drum farm. Remember that each granite stair yields four granite slabs, so plan accordingly based on the number of bass drums you want to create.<br><br>5. If you don't have a desert village nearby, you can also generate granite stairs and slabs using Minecraft's world generation or through creative mode placement. However, this method may not be as efficient for large-scale farming.<br><br>6. Finally, place the granite slabs under your note blocks to create bass drums! You can now enjoy the deep, resonant sound they produce when struck by a player or mob.<br><br>Remember to always follow Minecraft's safety guidelines and avoid any dangerous content or activities while farming for resources.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b; border: 1px solid #f59e0b;">35/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">CTX 100%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">GRD 44%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">ANS 70%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">FTH 44%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(3)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-3" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            RAGAS evaluation
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            Both retrieved chunks are relevant to the question, with the second chunk being more directly aligned with the farming method (desert villages). The relevant chunks appear at the top positions, resulting in perfect context precision. The AI answer aligns well with the retrieved context, confirming the quality of the ranking.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                            [{'claim': 'To farm granite slabs for note block bass drums, you can follow these steps', 'verdict': 'SUPPORTED', 'context_id': None}, {'claim': 'Locate a biome with desert villages, as granite stairs (which generate into granite slabs when mined) are commonly found in these structures', 'verdict': 'UNSUPPORTED', 'context_id': None}, {'claim': 'Granite stairs generate as part of desert villages', 'verdict': 'SUPPORTED', 'context_id': 2}, {'claim': 'Granite stairs generate into granite slabs when mined', 'verdict': 'UNSUPPORTED', 'context_id': None}, {'claim': 'Explore the village and search for any houses or buildings that have granite stairs on their walls or floors', 'verdict': 'SUPPORTED', 'context_id': None}, {'claim': 'You can also check the exterior of the village for any exposed granite stairs', 'verdict': 'SUPPORTED', 'context_id': None}, {'claim': 'Once you find some granite stairs, mine them with a pickaxe to obtain granite slabs', 'verdict': 'UNSUPPORTED', 'context_id': None}, {'claim': 'Granite slabs are a crafting component used to make bass drums when placed under note blocks', 'verdict': 'UNSUPPORTED', 'context_id': None}, {'claim': 'Each granite stair yields four granite slabs', 'verdict': 'UNSUPPORTED', 'context_id': None}, {'claim': &quot;If you don't have a desert village nearby, you can also generate granite stairs and slabs using Minecraft's world generation or through creative mode placement&quot;, 'verdict': 'UNSUPPORTED', 'context_id': None}, {'claim': 'This method may not be as efficient for large-scale farming', 'verdict': 'SUPPORTED', 'context_id': None}, {'claim': 'Place the granite slabs under your note blocks to create bass drums', 'verdict': 'UNSUPPORTED', 'context_id': None}, {'claim': &quot;Granite stairs can be placed under note blocks to produce 'bass drum' sounds&quot;, 'verdict': 'SUPPORTED', 'context_id': 2}, {'claim': &quot;Polished granite stairs can be placed under note blocks to produce 'bass drum' sounds&quot;, 'verdict': 'SUPPORTED', 'context_id': 1}, {'claim': 'You can now enjoy the deep, resonant sound they produce when struck by a player or mob', 'verdict': 'SUPPORTED', 'context_id': None}, {'claim': &quot;Remember to always follow Minecraft's safety guidelines and avoid any dangerous content or activities while farming for resources&quot;, 'verdict': 'SUPPORTED', 'context_id': None}]
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            Faithfulness: 0.44, Answer Relevancy: 0.70, Context Precision: 1.00
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q4</td>
                            <td class="question-cell">
                                <div class="question-text">What’s the fastest way to get a stack of bricks in Minecraft?</div>
                                <div class="reference-text">Ref: </div>
                            </td>
                            <td class="answer-cell"><br>&lt;|assistant|&gt;<br>The fastest way to get a stack of bricks (64 blocks) in Minecraft would be to find naturally generated brick blocks in ocean ruins, plains village armorer houses, or trail ruins. If you're lucky enough to come across these locations with a high concentration of brick blocks, you can efficiently mine them using any pickaxe, as bricks have a mining speed of 1.5 blocks per second when mined with a stone pickaxe or higher. Alternatively, you could also craft bricks using clay and sand in a furnace, but this method would be slower and require more resources than simply mining pre-existing brick blocks.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b; border: 1px solid #f59e0b;">30/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">CTX 50%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">GRD 40%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">ANS 90%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">FTH 40%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(4)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-4" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            RAGAS evaluation
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            Only one relevant chunk was retrieved, and it appeared at position 2. The first chunk was irrelevant, which negatively impacts the ranking quality. The average precision is 0.5 because the relevant chunk was not at the top position, but it was still retrieved early.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                            [{'claim': 'The fastest way to get a stack of bricks (64 blocks) in Minecraft would be to find naturally generated brick blocks in ocean ruins, plains village armorer houses, or trail ruins.', 'verdict': 'SUPPORTED', 'context_id': 2}, {'claim': &quot;If you're lucky enough to come across these locations with a high concentration of brick blocks, you can efficiently mine them using any pickaxe.&quot;, 'verdict': 'SUPPORTED', 'context_id': 2}, {'claim': 'Bricks have a mining speed of 1.5 blocks per second when mined with a stone pickaxe or higher.', 'verdict': 'UNSUPPORTED', 'context_id': None}, {'claim': 'Alternatively, you could also craft bricks using clay and sand in a furnace.', 'verdict': 'UNSUPPORTED', 'context_id': None}, {'claim': 'This method would be slower and require more resources than simply mining pre-existing brick blocks.', 'verdict': 'UNSUPPORTED', 'context_id': None}]
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            Faithfulness: 0.40, Answer Relevancy: 0.90, Context Precision: 0.50
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q5</td>
                            <td class="question-cell">
                                <div class="question-text">What’s the best way to get the Globe banner pattern in a loom without trading with a villager?</div>
                                <div class="reference-text">Ref: </div>
                            </td>
                            <td class="answer-cell"><br>&lt;|assistant|&gt;<br>I'm sorry, but the provided context does not offer any alternative ways to obtain the Globe banner pattern other than trading with a villager. The text states that the Globe banner pattern is a common item that can only be obtained through trading and cannot be crafted. Therefore, there are no other methods mentioned in the given context to acquire this specific banner pattern for your loom. I apologize for any inconvenience this may cause.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid #10b981;">42/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">CTX 75%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 100%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">ANS 80%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">FTH 100%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(5)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-5" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            RAGAS evaluation
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            The first chunk is highly relevant and appears at the top position, which is ideal. However, the second chunk is not relevant, which slightly reduces the overall precision. The average precision (1.0 + 0.5) / 2 = 0.75 reflects that most relevant information is at the top but is followed by an irrelevant chunk.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                            [{'claim': 'The Globe banner pattern is a banner pattern used to customize banners with a shape of a cube-shaped earth.', 'verdict': 'SUPPORTED', 'context_id': 1}, {'claim': 'The Globe banner pattern can only be obtained from trading and cannot be crafted.', 'verdict': 'SUPPORTED', 'context_id': 1}, {'claim': 'The provided context does not offer any alternative ways to obtain the Globe banner pattern other than trading with a villager.', 'verdict': 'SUPPORTED', 'context_id': None}, {'claim': 'The Globe banner pattern is a common item.', 'verdict': 'SUPPORTED', 'context_id': 1}, {'claim': 'There are no other methods mentioned in the given context to acquire this specific banner pattern for your loom.', 'verdict': 'SUPPORTED', 'context_id': None}]
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            Faithfulness: 1.00, Answer Relevancy: 0.80, Context Precision: 0.75
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q6</td>
                            <td class="question-cell">
                                <div class="question-text">What's the best way to farm wooden slabs for fuel in survival mode?</div>
                                <div class="reference-text">Ref: </div>
                            </td>
                            <td class="answer-cell"><br>&lt;|assistant|&gt;<br>In Minecraft, wooden slabs cannot be farmed specifically for fuel. However, you can obtain wooden slabs through various methods and then use them as a fuel source in furnaces. Some ways to obtain wooden slabs include:<br><br>1. Mining them with an axe or picking them up from structures such as villages, shipwrecks, or taiga/snowy taiga biomes.<br>2. Using commands through the cheat (debug) mode.<br>3. Upgrading from legacy versions by using commands or by placing them in a world using commands before Java Edition 1.3.1 (snapshot 12w17a) or Pocket Edition v0.7.3 alpha.<br><br>Once you have wooden slabs, you can use them as fuel in furnaces to smelt items at a rate of 0.75 items per slab for normal wooden slabs and 1.5 items per slab for petrified oak slabs (if obtainable). However, it's worth mentioning that wooden slabs are not the most efficient fuel source in Minecraft as they have lower burn time compared to other materials such as coal or charcoal. It may be more practical to prioritize those resources over wooden slabs for fuel purposes.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b; border: 1px solid #f59e0b;">33/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">CTX 75%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">GRD 56%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">ANS 70%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">FTH 56%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(6)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-6" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            RAGAS evaluation
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            The first chunk is highly relevant and appears at the top position, earning a Precision@1 of 1.0. However, the second chunk is irrelevant, reducing Precision@2 to 0.5. The average precision (0.75) reflects a mostly good ranking, but the presence of an irrelevant chunk early slightly lowers the score.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                            [{'claim': 'In Minecraft, wooden slabs cannot be farmed specifically for fuel.', 'verdict': 'UNSUPPORTED', 'context_id': None}, {'claim': 'You can obtain wooden slabs through various methods and then use them as a fuel source in furnaces.', 'verdict': 'SUPPORTED', 'context_id': 1}, {'claim': 'Mining them with an axe or picking them up from structures such as villages, shipwrecks, or taiga/snowy taiga biomes.', 'verdict': 'SUPPORTED', 'context_id': 1}, {'claim': 'Using commands through the cheat (debug) mode.', 'verdict': 'SUPPORTED', 'context_id': 2}, {'claim': 'Upgrading from legacy versions by using commands or by placing them in a world using commands before Java Edition 1.3.1 (snapshot 12w17a) or Pocket Edition v0.7.3 alpha.', 'verdict': 'SUPPORTED', 'context_id': 2}, {'claim': 'Once you have wooden slabs, you can use them as fuel in furnaces to smelt items at a rate of 0.75 items per slab for normal wooden slabs.', 'verdict': 'SUPPORTED', 'context_id': 1}, {'claim': '1.5 items per slab for petrified oak slabs (if obtainable).', 'verdict': 'UNSUPPORTED', 'context_id': None}, {'claim': 'Wooden slabs are not the most efficient fuel source in Minecraft as they have lower burn time compared to other materials such as coal or charcoal.', 'verdict': 'UNSUPPORTED', 'context_id': None}, {'claim': 'It may be more practical to prioritize those resources over wooden slabs for fuel purposes.', 'verdict': 'UNSUPPORTED', 'context_id': None}]
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            Faithfulness: 0.56, Answer Relevancy: 0.70, Context Precision: 0.75
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q7</td>
                            <td class="question-cell">
                                <div class="question-text">What’s the best way to use diorite slabs with note blocks to get that bass drum sound?</div>
                                <div class="reference-text">Ref: </div>
                            </td>
                            <td class="answer-cell"><br>&lt;|assistant|&gt;<br>To get the bass drum sound using diorite slabs with note blocks, follow these steps:<br><br>1. First, place a diorite slab on the ground where you want the bass drum to be.<br>2. Next, place a note block directly on top of the diorite slab.<br>3. The bass drum sound can be achieved by setting the pitch of the note block to 0. To do this, right-click on the note block until it displays &quot;x&quot; in the center of the block. Then, continue right-clicking until the pitch reaches 0. This will produce a deep, booming sound that is commonly associated with bass drums.<br>4. You can also adjust the rhythm and timing of the bass drum by using repeaters and redstone signals. By placing repeaters before or after the note block, you can control how long the bass drum note lasts and when it starts playing. This allows for greater flexibility in creating complex rhythms and beats.<br>5. Finally, to add some visual interest to your setup, consider using diorite slabs as a decorative element around the bass drum. Diorite has a unique texture that can help to create a cohesive and polished look for your music production area.<br><br>By following these steps, you should be able to create a powerful and resonant bass drum sound using note blocks and diorite slabs in Minecraft!</td>
                            <td>
                                <span class="score-badge" style="background: rgba(239, 68, 68, 0.1); color: #ef4444; border: 1px solid #ef4444;">28/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">CTX 50%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">GRD 30%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">ANS 90%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">FTH 30%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(7)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-7" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            RAGAS evaluation
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            Only one relevant chunk (Position 2) was identified, and it appears relatively early in the retrieval order. However, the lack of explicit information about diorite slabs or bass drum sounds in the top positions reduces the overall context precision. The score reflects that the relevant chunk is not at the very top, but it is still within the first few results.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                            [{'claim': 'Place a diorite slab on the ground where you want the bass drum to be.', 'verdict': 'UNSUPPORTED', 'context_id': None}, {'claim': 'Place a note block directly on top of the diorite slab.', 'verdict': 'UNSUPPORTED', 'context_id': None}, {'claim': 'The bass drum sound can be achieved by setting the pitch of the note block to 0.', 'verdict': 'UNSUPPORTED', 'context_id': None}, {'claim': &quot;To set the pitch to 0, right-click on the note block until it displays 'x' in the center of the block.&quot;, 'verdict': 'UNSUPPORTED', 'context_id': None}, {'claim': 'Continue right-clicking until the pitch reaches 0 to produce a deep, booming sound associated with bass drums.', 'verdict': 'UNSUPPORTED', 'context_id': None}, {'claim': 'Adjust the rhythm and timing of the bass drum by using repeaters and redstone signals.', 'verdict': 'SUPPORTED', 'context_id': 1}, {'claim': 'Placing repeaters before or after the note block controls how long the bass drum note lasts and when it starts playing.', 'verdict': 'SUPPORTED', 'context_id': 1}, {'claim': 'This allows for greater flexibility in creating complex rhythms and beats.', 'verdict': 'SUPPORTED', 'context_id': 1}, {'claim': 'Use diorite slabs as a decorative element around the bass drum for visual interest.', 'verdict': 'UNSUPPORTED', 'context_id': None}, {'claim': 'Diorite has a unique texture that can help create a cohesive and polished look for your music production area.', 'verdict': 'UNSUPPORTED', 'context_id': None}]
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            Faithfulness: 0.30, Answer Relevancy: 0.90, Context Precision: 0.50
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q8</td>
                            <td class="question-cell">
                                <div class="question-text">What happens if I place a live coral block outside of water—does it turn into a dead coral block right away, or does it take time?</div>
                                <div class="reference-text">Ref: </div>
                            </td>
                            <td class="answer-cell"><br>&lt;|assistant|&gt;<br>If you place a live coral block outside of water, it transforms into its respective dead coral block after a few seconds. According to the context provided, it takes 3 to 4.95 seconds or 2.25 seconds for the transformation to occur. However, if the game rule randomTickSpeed is set to , the coral block still dies immediately, regardless of how long it has been outside of water. Once a coral block dies, it cannot be turned back into a live coral block.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid #10b981;">48/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">CTX 100%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 100%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">ANS 90%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">FTH 100%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(8)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-8" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            RAGAS evaluation
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            Both retrieved chunks are highly relevant to the question, and they appear at the top positions (1 and 2). This results in perfect precision at all evaluated positions, indicating an optimal ranking for context precision.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                            [{'claim': 'If you place a live coral block outside of water, it transforms into its respective dead coral block after a few seconds.', 'verdict': 'SUPPORTED', 'context_id': 1}, {'claim': 'According to the context provided, it takes 3 to 4.95 seconds or 2.25 seconds for the transformation to occur.', 'verdict': 'SUPPORTED', 'context_id': 2}, {'claim': 'However, if the game rule randomTickSpeed is set to , the coral block still dies immediately, regardless of how long it has been outside of water.', 'verdict': 'SUPPORTED', 'context_id': 1}, {'claim': 'Once a coral block dies, it cannot be turned back into a live coral block.', 'verdict': 'SUPPORTED', 'context_id': 1}]
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            Faithfulness: 1.00, Answer Relevancy: 0.90, Context Precision: 1.00
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q9</td>
                            <td class="question-cell">
                                <div class="question-text">How do I grow the tall vine texture on blocks using pale moss carpets?</div>
                                <div class="reference-text">Ref: </div>
                            </td>
                            <td class="answer-cell"><br>&lt;|assistant|&gt;<br>To grow the tall vine texture on blocks using pale moss carpets, follow these steps:<br>1. Place a pale moss carpet next to the block where you want the tall vine texture to appear.<br>2. Wait for a natural occurrence or use bone meal on the adjacent pale moss block to have a chance of growing pale moss carpets.<br>3. If only one vine texture appears, leave it be to keep it at one block tall.<br>4. Alternatively, place another block stacked above the pale moss carpet and wait for the chance to grow a two-block tall vine texture.<br>5. You can also bone meal on either the carpet or the first vine texture to encourage the growth of the second vine texture.<br>Note that growing tall vine textures using pale moss carpets is a chance-based process, so success may not be immediate.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid #10b981;">44/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">CTX 75%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 100%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">ANS 90%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">FTH 100%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(9)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-9" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            RAGAS evaluation
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            The first chunk is highly relevant and appears at the top position, which is ideal. However, the second chunk is irrelevant, which slightly drags down the score. The average precision (1.0 + 0.5) / 2 = 0.75 reflects that the system retrieved one relevant chunk early but also included an irrelevant one in the top two results.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                            [{'claim': 'Place a pale moss carpet next to the block where you want the tall vine texture to appear.', 'verdict': 'SUPPORTED', 'context_id': 1}, {'claim': 'Wait for a natural occurrence or use bone meal on the adjacent pale moss block to have a chance of growing pale moss carpets.', 'verdict': 'SUPPORTED', 'context_id': 1}, {'claim': 'If only one vine texture appears, leave it be to keep it at one block tall.', 'verdict': 'SUPPORTED', 'context_id': 1}, {'claim': 'Alternatively, place another block stacked above the pale moss carpet and wait for the chance to grow a two-block tall vine texture.', 'verdict': 'SUPPORTED', 'context_id': 1}, {'claim': 'You can also bone meal on either the carpet or the first vine texture to encourage the growth of the second vine texture.', 'verdict': 'SUPPORTED', 'context_id': 1}, {'claim': 'Growing tall vine textures using pale moss carpets is a chance-based process, so success may not be immediate.', 'verdict': 'SUPPORTED', 'context_id': 1}]
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            Faithfulness: 1.00, Answer Relevancy: 0.90, Context Precision: 0.75
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q10</td>
                            <td class="question-cell">
                                <div class="question-text">What's the best way to farm blaze rods safely in a Nether fortress without getting hit by their fireballs?</div>
                                <div class="reference-text">Ref: </div>
                            </td>
                            <td class="answer-cell"><br>&lt;|assistant|&gt;<br>To safely farm blaze rods in a Nether fortress without getting hit by their fireballs, you can follow these steps:<br><br>1. Firstly, make sure you have the necessary gear to protect yourself from blaze attacks. You'll need full diamond armor, a helmet with a pumpkin or jack o'lantern on top (to prevent the blazes from targeting your head), and a shield enchanted with protection against fire.<br><br>2. Next, find a Nether fortress using a map or by exploring. Once you've located one, enter it carefully to avoid triggering any traps or mobs.<br><br>3. Inside the fortress, look for blaze spawners. These are structures made of nether brick that emit a red glow and contain multiple blazes. Avoid standing too close to these spawners, as they can deal heavy damage.<br><br>4. Use ranged weapons such as a bow or crossbow to attack the blazes from a distance. You can also use a sword enchanted with fire aspect to deal extra damage.<br><br>5. As you collect blaze rods, be aware of any nearby mobs that may aggro on you. Use your shield to block incoming attacks and retreat if necessary.<br><br>6. To prevent the blazes from targeting you, try to stay out of their line of sight. They will prioritize players within a 48-block radius, so keep your distance and avoid drawing too much attention to yourself.<br><br>7. Finally, be prepared for unexpected events such as lava flows or collapsing structures. Use your wits and quick reflexes to navigate the fortress safely and come out with plenty of blaze rods.<br><br>By following these tips, you should be able to farm blaze rods in a Nether fortress without getting hit by their fireballs. Remember to always prioritize safety over quantity when it comes to resource gathering!</td>
                            <td>
                                <span class="score-badge" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b; border: 1px solid #f59e0b;">37/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">CTX 75%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">GRD 59%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">ANS 90%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">FTH 59%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(10)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-10" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            RAGAS evaluation
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            The first chunk is highly relevant and appears at the top position, which is ideal. However, the second chunk is irrelevant, which reduces the precision at k=2. The average precision (1.0 + 0.5) / 2 = 0.75 indicates mostly good ranking but with one irrelevant chunk early in the results.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                            [{'claim': 'To safely farm blaze rods in a Nether fortress without getting hit by their fireballs, you can follow these steps:', 'verdict': 'SUPPORTED', 'context_id': None}, {'claim': 'Firstly, make sure you have the necessary gear to protect yourself from blaze attacks.', 'verdict': 'SUPPORTED', 'context_id': None}, {'claim': &quot;You'll need full diamond armor, a helmet with a pumpkin or jack o'lantern on top (to prevent the blazes from targeting your head), and a shield enchanted with protection against fire.&quot;, 'verdict': 'UNSUPPORTED', 'context_id': None}, {'claim': 'Next, find a Nether fortress using a map or by exploring.', 'verdict': 'SUPPORTED', 'context_id': None}, {'claim': &quot;Once you've located one, enter it carefully to avoid triggering any traps or mobs.&quot;, 'verdict': 'SUPPORTED', 'context_id': None}, {'claim': 'Inside the fortress, look for blaze spawners.', 'verdict': 'SUPPORTED', 'context_id': 1}, {'claim': 'These are structures made of nether brick that emit a red glow and contain multiple blazes.', 'verdict': 'SUPPORTED', 'context_id': 1}, {'claim': 'Avoid standing too close to these spawners, as they can deal heavy damage.', 'verdict': 'SUPPORTED', 'context_id': 1}, {'claim': 'Use ranged weapons such as a bow or crossbow to attack the blazes from a distance.', 'verdict': 'UNSUPPORTED', 'context_id': None}, {'claim': 'You can also use a sword enchanted with fire aspect to deal extra damage.', 'verdict': 'UNSUPPORTED', 'context_id': None}, {'claim': 'As you collect blaze rods, be aware of any nearby mobs that may aggro on you.', 'verdict': 'SUPPORTED', 'context_id': None}, {'claim': 'Use your shield to block incoming attacks and retreat if necessary.', 'verdict': 'UNSUPPORTED', 'context_id': None}, {'claim': 'To prevent the blazes from targeting you, try to stay out of their line of sight.', 'verdict': 'SUPPORTED', 'context_id': 1}, {'claim': 'They will prioritize players within a 48-block radius, so keep your distance and avoid drawing too much attention to yourself.', 'verdict': 'SUPPORTED', 'context_id': 1}, {'claim': 'Finally, be prepared for unexpected events such as lava flows or collapsing structures.', 'verdict': 'SUPPORTED', 'context_id': None}, {'claim': 'Use your wits and quick reflexes to navigate the fortress safely and come out with plenty of blaze rods.', 'verdict': 'SUPPORTED', 'context_id': None}, {'claim': 'By following these tips, you should be able to farm blaze rods in a Nether fortress without getting hit by their fireballs.', 'verdict': 'SUPPORTED', 'context_id': None}, {'claim': 'Remember to always prioritize safety over quantity when it comes to resource gathering!', 'verdict': 'SUPPORTED', 'context_id': None}]
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            Faithfulness: 0.59, Answer Relevancy: 0.90, Context Precision: 0.75
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                    </tbody>
                </table>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>RAG Evaluation Report | Powered by Tryll Engine Inc.</p>
        </div>
    </div>

    <script>
        // Toggle details row visibility
        function toggleDetails(id) {
            const row = document.getElementById('details-row-' + id);
            const btn = event.target;
            if (row.style.display === 'none') {
                row.style.display = 'table-row';
                btn.textContent = 'Hide Details';
            } else {
                row.style.display = 'none';
                btn.textContent = 'Show Details';
            }
        }

        // Scores Bar Chart
        const scoresCtx = document.getElementById('scoresChart').getContext('2d');
        new Chart(scoresCtx, {
            type: 'bar',
            data: {
                labels: ["Q1", "Q2", "Q3", "Q4", "Q5", "Q6", "Q7", "Q8", "Q9", "Q10"],
                datasets: [{
                    label: 'Score',
                    data: [34, 44, 35, 30, 42, 33, 28, 48, 44, 37],
                    backgroundColor: [34, 44, 35, 30, 42, 33, 28, 48, 44, 37].map(score => {
                        if (score >= 40) return 'rgba(16, 185, 129, 0.7)';
                        if (score >= 25) return 'rgba(245, 158, 11, 0.7)';
                        return 'rgba(239, 68, 68, 0.7)';
                    }),
                    borderColor: [34, 44, 35, 30, 42, 33, 28, 48, 44, 37].map(score => {
                        if (score >= 40) return '#10b981';
                        if (score >= 25) return '#f59e0b';
                        return '#ef4444';
                    }),
                    borderWidth: 2,
                    borderRadius: 8
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 50,
                        grid: { color: 'rgba(255,255,255,0.08)' },
                        ticks: { color: 'rgba(255,255,255,0.55)' }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { color: 'rgba(255,255,255,0.55)' }
                    }
                }
            }
        });

        // Radar Chart
        const radarCtx = document.getElementById('radarChart').getContext('2d');
        new Chart(radarCtx, {
            type: 'radar',
            data: {
                labels: ['Context Relevance', 'Groundedness', 'Answer Relevance', 'Faithfulness'],
                datasets: [{
                    label: 'Average Metrics',
                    data: [75.0, 66.9, 85.0, 66.9],
                    backgroundColor: 'rgba(59, 130, 246, 0.15)',
                    borderColor: '#3B82F6',
                    borderWidth: 2,
                    pointBackgroundColor: '#3B82F6',
                    pointBorderColor: '#F6F0EB',
                    pointHoverBackgroundColor: '#F6F0EB',
                    pointHoverBorderColor: '#3B82F6'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    r: {
                        beginAtZero: true,
                        max: 100,
                        grid: { color: 'rgba(255,255,255,0.08)' },
                        angleLines: { color: 'rgba(255,255,255,0.08)' },
                        pointLabels: { color: 'rgba(255,255,255,0.85)', font: { size: 11, weight: 500 } },
                        ticks: {
                            color: 'rgba(255,255,255,0.5)',
                            backdropColor: 'transparent'
                        }
                    }
                },
                plugins: {
                    legend: { display: false }
                }
            }
        });

        // Metrics Breakdown Chart
        const metricsCtx = document.getElementById('metricsChart').getContext('2d');
        new Chart(metricsCtx, {
            type: 'bar',
            data: {
                labels: ["Q1", "Q2", "Q3", "Q4", "Q5", "Q6", "Q7", "Q8", "Q9", "Q10"],
                datasets: [
                    {
                        label: 'Context Relevance',
                        data: [75.0, 75.0, 100.0, 50.0, 75.0, 75.0, 50.0, 100.0, 75.0, 75.0],
                        backgroundColor: 'rgba(59, 130, 246, 0.7)',
                        borderRadius: 4
                    },
                    {
                        label: 'Groundedness',
                        data: [40.0, 100.0, 43.8, 40.0, 100.0, 56.0, 30.0, 100.0, 100.0, 58.8],
                        backgroundColor: 'rgba(35, 46, 65, 0.9)',
                        borderRadius: 4
                    },
                    {
                        label: 'Answer Relevance',
                        data: [90.0, 90.0, 70.0, 90.0, 80.0, 70.0, 90.0, 90.0, 90.0, 90.0],
                        backgroundColor: 'rgba(246, 240, 235, 0.7)',
                        borderRadius: 4
                    },
                    {
                        label: 'Faithfulness',
                        data: [40.0, 100.0, 43.8, 40.0, 100.0, 56.0, 30.0, 100.0, 100.0, 58.8],
                        backgroundColor: 'rgba(16, 185, 129, 0.7)',
                        borderRadius: 4
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top',
                        labels: { color: 'rgba(255,255,255,0.85)' }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100,
                        grid: { color: 'rgba(255,255,255,0.08)' },
                        ticks: { color: 'rgba(255,255,255,0.55)' }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { color: 'rgba(255,255,255,0.55)' }
                    }
                }
            }
        });
    </script>
</body>
</html>
