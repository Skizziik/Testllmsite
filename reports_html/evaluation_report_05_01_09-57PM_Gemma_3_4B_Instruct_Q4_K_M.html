<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RAG Evaluation Report</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #000000;
            background-image: radial-gradient(ellipse 80% 50% at 50% -20%, rgba(59, 130, 246, 0.15), transparent);
            min-height: 100vh;
            color: rgba(255, 255, 255, 0.9);
            padding: 20px;
            -webkit-font-smoothing: antialiased;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Header */
        .header {
            text-align: center;
            padding: 30px 0;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            color: #F6F0EB;
            font-weight: 700;
            margin-bottom: 10px;
            letter-spacing: -0.02em;
        }

        .header .subtitle {
            color: rgba(255, 255, 255, 0.65);
            font-size: 1.1rem;
            font-weight: 450;
        }

        /* Metrics Cards */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .metric-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 24px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            transition: all 0.3s ease;
        }

        .metric-card:hover {
            transform: translateY(-3px);
            background: rgba(255, 255, 255, 0.05);
            border-color: rgba(59, 130, 246, 0.3);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
        }

        .metric-card .label {
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.55);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .metric-card .value {
            font-size: 1.8rem;
            font-weight: 650;
            margin-bottom: 8px;
            word-break: break-word;
        }

        .metric-card .subtext {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.45);
        }

        .metric-card.highlight {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(35, 46, 65, 0.4));
            border-color: rgba(59, 130, 246, 0.25);
        }

        /* Charts Section */
        .charts-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        @media (max-width: 900px) {
            .charts-section {
                grid-template-columns: 1fr;
            }
        }

        .chart-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 24px;
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .chart-card h3 {
            margin-bottom: 20px;
            color: #F6F0EB;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .chart-container {
            position: relative;
            height: 300px;
        }

        /* Results Table */
        .results-section {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 24px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            margin-bottom: 30px;
        }

        .results-section h2 {
            margin-bottom: 20px;
            color: #F6F0EB;
            font-weight: 600;
        }

        .results-table {
            width: 100%;
            border-collapse: collapse;
        }

        .results-table th {
            background: rgba(35, 46, 65, 0.5);
            padding: 12px 16px;
            text-align: left;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.85);
            border-bottom: 1px solid rgba(59, 130, 246, 0.2);
        }

        .results-table td {
            padding: 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            vertical-align: top;
        }

        .results-table tr:hover {
            background: rgba(59, 130, 246, 0.05);
        }

        .question-cell {
            max-width: 300px;
        }

        .question-text {
            font-weight: 500;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 8px;
        }

        .reference-text {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.5);
            font-style: italic;
        }

        .answer-cell {
            max-width: 400px;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.75);
        }

        .score-badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .metric-pill {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.8rem;
            margin: 2px;
            font-weight: 500;
        }

        .metrics-cell {
            min-width: 200px;
        }

        /* Expandable Details */
        .details-toggle {
            background: rgba(59, 130, 246, 0.15);
            border: 1px solid rgba(59, 130, 246, 0.3);
            color: #3B82F6;
            padding: 6px 12px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .details-toggle:hover {
            background: #3B82F6;
            color: #ffffff;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }

        .details-content {
            display: none;
            margin-top: 12px;
            padding: 16px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.75);
        }

        .details-content.show {
            display: block;
        }

        /* Details Row - separate row for expanded details */
        .details-row {
            background: transparent;
        }

        .details-row td {
            padding: 0 !important;
            border-top: none;
        }

        .details-content-expanded {
            padding: 16px 20px;
            background: rgba(35, 46, 65, 0.3);
            border-radius: 0 0 8px 8px;
            margin: 0 8px 8px 8px;
            border: 1px solid rgba(59, 130, 246, 0.1);
            border-top: none;
        }

        .details-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 12px;
        }

        .detail-section {
            margin-bottom: 8px;
            background: rgba(0, 0, 0, 0.2);
            padding: 12px 14px;
            border-radius: 6px;
            border-left: 2px solid rgba(59, 130, 246, 0.4);
            font-size: 0.85rem;
            line-height: 1.5;
            color: rgba(255, 255, 255, 0.8);
        }

        .detail-section strong {
            color: rgba(255, 255, 255, 0.55);
            display: block;
            margin-bottom: 6px;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 500;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 30px 20px;
            color: rgba(255, 255, 255, 0.45);
            font-size: 0.85rem;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
            margin-top: 20px;
        }

        .footer a {
            color: #3B82F6;
            text-decoration: none;
        }

        .footer a:hover {
            text-decoration: underline;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        /* Prompt Modal */
        .prompt-btn {
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: rgba(255, 255, 255, 0.8);
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.2s ease;
            margin-top: 15px;
        }

        .prompt-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(59, 130, 246, 0.5);
            color: #3B82F6;
        }

        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(4px);
        }

        .modal-overlay.show {
            display: flex;
        }

        .modal-content {
            background: #0f1419;
            border-radius: 12px;
            padding: 24px;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            border: 1px solid rgba(59, 130, 246, 0.2);
            position: relative;
        }

        .modal-content h3 {
            color: #F6F0EB;
            margin-bottom: 16px;
            font-size: 1.2rem;
            font-weight: 600;
        }

        .modal-close {
            position: absolute;
            top: 16px;
            right: 16px;
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: rgba(255, 255, 255, 0.6);
            width: 32px;
            height: 32px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .modal-close:hover {
            background: rgba(239, 68, 68, 0.2);
            border-color: rgba(239, 68, 68, 0.4);
            color: #ef4444;
        }

        .prompt-text {
            background: rgba(0, 0, 0, 0.4);
            padding: 16px;
            border-radius: 8px;
            font-family: 'JetBrains Mono', 'Consolas', 'Monaco', monospace;
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.8);
            white-space: pre-wrap;
            line-height: 1.6;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>RAG Evaluation Report</h1>
            <p class="subtitle">Generated: 2026-01-05 21:57 | Questions: 10 | Model: Gemma 3 4B Instruct (Q4_K_M)</p>
            <button class="prompt-btn" onclick="document.getElementById('promptModal').classList.add('show')">Show Test Config</button>
        </div>

        <!-- Prompt Modal -->
        <div id="promptModal" class="modal-overlay" onclick="if(event.target===this)this.classList.remove('show')">
            <div class="modal-content">
                <button class="modal-close" onclick="document.getElementById('promptModal').classList.remove('show')">&times;</button>
                <h3>Test Configuration</h3>
                <div class="model-info" style="margin-bottom: 16px; padding: 12px; background: rgba(59, 130, 246, 0.1); border-radius: 8px; border-left: 3px solid #3B82F6;">
                    <strong style="color: #3B82F6;">Model:</strong> <span style="color: rgba(255,255,255,0.9);">Gemma 3 4B Instruct (Q4_K_M)</span>
                </div>
                <h4 style="color: rgba(255,255,255,0.7); margin-bottom: 8px; font-size: 0.9rem;">System Prompt:</h4>
                <div class="prompt-text">You are an AI assistant for the game Minecraft.<br>Do NOT use &lt;think&gt; tags or internal reasoning. Respond directly with the answer.<br><br>Your task is to answer the player's question strictly using the provided context.<br>Do not rely on internal, general, or prior knowledge.<br>If the context does not contain the required information, explicitly say that you do not have enough information.<br><br>&lt;Game Description&gt;<br>Minecraft is a sandbox game by Mojang.<br>Players interact with a block-based world by mining, crafting, building,<br>fighting mobs, farming, using redstone mechanisms, enchanting items,<br>trading with villagers, and exploring dimensions such as the Overworld,<br>Nether, and End.<br>&lt;/Game Description&gt;<br><br>&lt;Safety Guidelines&gt;<br>CSAM:<br>Never generate content involving sexual abuse or exploitation of children.<br><br>Dangerous Content:<br>Never provide instructions for weapons, explosives, poisons, self-harm, or illegal activities.<br><br>PII &amp; Demographic Data:<br>Never share or infer personal data (addresses, medical info, finances, IDs).<br><br>Sexually Explicit Content:<br>Never generate sexually explicit content.<br><br>Medical Advice:<br>Never give personalized or detailed medical advice.<br><br>Malicious Content:<br>Never assist with hacking, scamming, stealing, or other illegal acts.<br><br>Hate Speech:<br>Never promote violence, discrimination, or hatred against protected groups.<br><br>Harassment:<br>Never generate abusive, intimidating, or bullying content.<br><br>Violence and Gore:<br>Avoid graphic or gratuitous depictions of real-life violence or gore.<br>&lt;/Safety Guidelines&gt;<br><br>&lt;Response Rules&gt;<br>CRITICAL - Anti-Hallucination Rules:<br>- NEVER add information not present in the context, even if you &quot;know&quot; it from training.<br>- If the context says X is immune to fire, do NOT say X is weak to fire.<br>- Do NOT invent mechanics, numbers, or behaviors not explicitly stated in context.<br>- When unsure, say &quot;I don't have enough information&quot; instead of guessing.<br><br>Completeness Rules:<br>- Include ALL relevant details from the context (numbers, percentages, levels, ranges).<br>- Quote specific mechanics exactly as stated in context.<br>- Do not over-summarize — if context has 5 key facts, include all 5.<br><br>General Rules:<br>- Use only the provided context.<br>- If the context is empty or irrelevant, say you do not have enough information.<br>- If the question is not about Minecraft, refuse politely.<br>- If the question violates safety rules, refuse briefly.<br>- Keep answers factual and well-structured.<br>&lt;/Response Rules&gt;<br><br>&lt;few_shot_examples&gt;<br><br>Example 1 — Detailed factual answer (GOOD)<br>Context: Creepers have 20 health points. They chase players within 16 blocks. When within 3 blocks, they stop, hiss, flash, and explode after 1.5 seconds. The explosion destroys blocks and deals massive damage. When struck by lightning, a Creeper becomes charged with doubled explosion power.<br>Question: What is a Creeper and how does it attack?<br>Assistant: A Creeper is a hostile mob with 20 health points. It chases players within 16 blocks. When within 3 blocks of a player, it stops moving, hisses, flashes, and explodes after 1.5 seconds. The explosion destroys nearby blocks and deals massive damage. If struck by lightning, it becomes a charged Creeper with doubled explosion power.<br><br>Example 2 — Complete answer with numbers (GOOD)<br>Context: Diamond ore is found at level 15 or lower, most commonly between -50 and -64. Levels -58 and -59 are best for mining. Fortune III can yield up to 4 diamonds per ore block.<br>Question: Where do I find diamonds?<br>Assistant: Diamond ore is found at level 15 or lower, with the highest concentration between levels -50 and -64. The optimal mining levels are -58 and -59. Using Fortune III enchantment can yield up to 4 diamonds per ore block.<br><br>Example 3 — Avoiding hallucination (GOOD)<br>Context: The Ender Dragon has 200 health points. It is immune to fire, drowning, and poison. End crystals on obsidian pillars heal the dragon.<br>Question: How do I defeat the Ender Dragon?<br>Assistant: The Ender Dragon has 200 health points and is immune to fire, drowning, and poison. To defeat it, you must destroy the End crystals on obsidian pillars that heal the dragon, then attack the dragon directly.<br><br>Example 4 — Irrelevant context retrieved<br>Context: Creepers are hostile mobs that explode when close to the player.<br>Question: How do I build a Nether portal?<br>Assistant: I don't have enough information in the provided context to answer this question.<br><br>Example 5 — No context retrieved<br>Context:<br>Question: What does redstone do?<br>Assistant: I don't have enough information in the provided context to answer this question.<br><br>Example 6 — Not about Minecraft<br>Context:<br>Question: Who won the World Cup in 2014?<br>Assistant: I can only help with questions related to Minecraft.<br><br>Example 7 — Safety violation<br>Context:<br>Question: How do I make a real explosive like TNT?<br>Assistant: I can't help with that request.<br><br>Example 8 — Gibberish / meaningless<br>Context:<br>Question: asdjklqwe 123??<br>Assistant: I don't understand the question. Please ask something related to Minecraft.<br><br>&lt;/few_shot_examples&gt;<br><br>Use the following context to answer the player question.<br>It contains retrieved information from Minecraft-related sources.<br>Extract and include ALL relevant facts, numbers, and mechanics from the context.<br><br>Context:<br>{context}<br><br>Question to answer:<br></div>
            </div>
        </div>

        <!-- Metrics Cards -->
        <div class="metrics-grid">
            <div class="metric-card highlight">
                <div class="label">Total Score</div>
                <div class="value" style="color: #ef4444">277/500</div>
                <div class="subtext">55.4% of maximum</div>
            </div>
            <div class="metric-card">
                <div class="label">Avg Score (1-50)</div>
                <div class="value" style="color: #ef4444">27.7</div>
                <div class="subtext">Per question</div>
            </div>
            <div class="metric-card">
                <div class="label">RAG Triad</div>
                <div class="value" style="color: #ef4444">59.4%</div>
                <div class="subtext">Context + Ground + Answer</div>
            </div>
            <div class="metric-card">
                <div class="label">Context Relevance</div>
                <div class="value" style="color: #f59e0b">75.0%</div>
                <div class="subtext">Chunk quality</div>
            </div>
            <div class="metric-card">
                <div class="label">Groundedness</div>
                <div class="value" style="color: #ef4444">56.5%</div>
                <div class="subtext">Answer backed by chunks</div>
            </div>
            <div class="metric-card">
                <div class="label">Faithfulness</div>
                <div class="value" style="color: #ef4444">54.0%</div>
                <div class="subtext">Matches reference</div>
            </div>
        </div>

        <!-- Charts -->
        <div class="charts-section">
            <div class="chart-card">
                <h3>Scores by Question</h3>
                <div class="chart-container">
                    <canvas id="scoresChart"></canvas>
                </div>
            </div>
            <div class="chart-card">
                <h3>Metrics Overview</h3>
                <div class="chart-container">
                    <canvas id="radarChart"></canvas>
                </div>
            </div>
        </div>

        <div class="charts-section">
            <div class="chart-card" style="grid-column: span 2;">
                <h3>Metrics Breakdown by Question</h3>
                <div class="chart-container" style="height: 350px;">
                    <canvas id="metricsChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Results Table -->
        <div class="results-section">
            <h2>Detailed Results</h2>
            <div style="overflow-x: auto;">
                <table class="results-table">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Question & Reference</th>
                            <th>AI Answer</th>
                            <th>Score</th>
                            <th>Metrics</th>
                            <th>Details</th>
                        </tr>
                    </thead>
                    <tbody>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q1</td>
                            <td class="question-cell">
                                <div class="question-text">What is a Creeper and how does it attack?</div>
                                <div class="reference-text">Ref: A Creeper is a hostile mob that quietly approaches players and explodes. It has 20 health points and chases players within 16 blocks. When within 3 blocks of a player, it stops moving, hisses, flashes and expands, then explodes after 1.5 seconds. The explosion destroys blocks and deals massive damage. When struck by lightning, a Creeper becomes a charged creeper with twice the explosion power.</div>
                            </td>
                            <td class="answer-cell">A Creeper is a hostile mob in Minecraft. It attacks by exploding.  Specifically, it explodes when attacked or when it’s near its explosion timer. When it explodes, it deals damage to anything nearby – including players and other mobs – and the damage increases with distance.  Furthermore, if it encounters another mob during its explosion, it will deal damage to that mob as well. If it encounters another mob during its explosion, it will deal damage to that mob as well.  If it encounters another mob during its explosion, it will deal damage to that mob as well.  If it encounters another mob during its explosion, it will deal damage to that mob as well.  If it encounters another mob during its explosion, it will deal damage to that mob as well. If it encounters another mob during its explosion, it will deal damage to that mob as well.<br></td>
                            <td>
                                <span class="score-badge" style="background: rgba(239, 68, 68, 0.1); color: #ef4444; border: 1px solid #ef4444;">25/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">CTX 83%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">GRD 60%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">ANS 33%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">FTH 40%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(1)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-1" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is partially correct but contains significant omissions, repetitions, and lacks key details about the Creeper's behavior and mechanics.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    **Chunk 1 (creeper_1): Score 3 - Highly relevant**<br>    - Directly answers the question by defining what a Creeper is (a hostile mob that quietly approaches players and explodes).<br>    - Covers key details from the Reference Answer: health points (20), chase range (16 blocks), behavior when within 3 blocks (hisses, flashes, explodes after 1.5 seconds), explosion effects, and the charged creeper variant (though not all details are as explicit as the Reference Answer).<br>    - Includes critical information about the Creeper's attack mechanics, making it sufficient to answer the question correctly.<br><br>    **Chunk 2 (creeper_3): Score 2 - Relevant**<br>    - Provides useful but secondary details about Creepers, such as retaliation mechanics, status effect interactions, and charged creeper specifics (e.g., explosion power, mob head drops).<br>    - While it elaborates on the charged creeper (which is part of the Reference Answer), it does not fully define the base Creeper or its primary attack method. Thus, it is partially helpful but not sufficient alone to answer the question fully.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - A Creeper is a hostile mob in Minecraft.: SUPPORTED<br>  - It attacks by exploding.: SUPPORTED<br>  - Specifically, it explodes when attacked or when it’s near its explosion timer.: SUPPORTED<br>  - When it explodes, it deals damage to anything nearby – including players and other mobs – and the damage increases with distance.: UNSUPPORTED<br>  - Furthermore, if it encounters another mob during its explosion, it will deal damage to that mob as well.: SUPPORTED<br>  - If it encounters another mob during its explosion, it will deal damage to that mob as well.: SUPPORTED<br>  - If it encounters another mob during its explosion, it will deal damage to that mob as well.: SUPPORTED<br>  - If it encounters another mob during its explosion, it will deal damage to that mob as well.: SUPPORTED<br>  - If it encounters another mob during its explosion, it will deal damage to that mob as well.: SUPPORTED<br>  - If it encounters another mob during its explosion, it will deal damage to that mob as well.: SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': {'correct': 'The AI correctly identifies the Creeper as a hostile mob that explodes and deals damage to nearby entities.', 'incorrect': &quot;The AI incorrectly states that the Creeper explodes 'when attacked or when it’s near its explosion timer' without clarifying the proximity-based trigger (3 blocks). It also misrepresents the explosion's effect on other mobs (e.g., no mention of block destruction or charged creepers).&quot;, 'hallucinations': &quot;The AI repeats the same sentence about mob damage 6 times, which is not supported by the reference or chunks. The chunks do not mention that the Creeper 'deals damage to that mob as well' in the described manner.&quot;}, 'completeness': {'missing_info': [&quot;No mention of the Creeper's health points (20 HP).&quot;, 'No details about the 16-block chase radius or 3-block explosion trigger.', 'No explanation of the hissing/flashing/expansion sequence before explosion.', 'No mention of charged creepers or their increased explosion power.', 'No details about block destruction or shield blocking mechanics.', 'No mention of lightning strikes or mob head drops from charged creepers.']}, 'relevance': 'The answer stays on topic but is overly simplistic and repetitive, failing to address core aspects of the question.', 'chunk_usage': 'The AI does not effectively use the provided chunks. Key details (e.g., explosion mechanics, charged creepers) are ignored, while unsupported repetitions are added.'}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q2</td>
                            <td class="question-cell">
                                <div class="question-text">How do you defeat the Ender Dragon?</div>
                                <div class="reference-text">Ref: The Ender Dragon is a boss mob in the End dimension with 200 health points. To defeat it, players must destroy the End crystals on obsidian pillars that heal the dragon. The dragon takes damage from explosions and player attacks, but is immune to fire, drowning, poison, and status effects. Hitting its head deals more damage than other body parts. After defeating the dragon, it drops experience points and activates the exit portal.</div>
                            </td>
                            <td class="answer-cell">To defeat the Ender Dragon, you must:<br><br>1.  **Destroy its Obsidian Towers:** The dragon regenerates health when standing on these towers. Destroying them prevents this regeneration.<br>2. **Attack with a Bow:** Use a bow and arrows to attack the dragon while it’s standing on the obsidian towers.<br>3. **Destroy the Obsidian Towers:** Destroy the obsidian pillars that regenerate the dragon's health.<br>4.  **Destroy the Dragon's Health Regeneration:** Attack the dragon when it is standing on the obsidian pillars.<br><br></td>
                            <td>
                                <span class="score-badge" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b; border: 1px solid #f59e0b;">30/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">CTX 50%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">GRD 50%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">ANS 67%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">FTH 75%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(2)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-2" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is partially correct but contains redundant steps, minor inaccuracies, and lacks key details from the reference and chunks.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    **Chunk 1 (ID: ender_dragon_1)**:<br>    - **Score: 2** (Relevant but not fully aligned with the question)<br>    - **Why**: This chunk provides useful background information about the Ender Dragon, including its health points (200), the role of End crystals in healing it, and the fact that defeating it activates the exit portal. However, it does not explicitly explain *how* to defeat the dragon (e.g., destroying End crystals, attacking strategies, or damage mechanics). It also contains extraneous details about re-summoning the dragon, which are not directly relevant to the question.<br><br>    **Chunk 2 (ID: ender_dragon_4)**:<br>    - **Score: 1** (Somewhat related but not useful for answering)<br>    - **Why**: This chunk focuses on the Ender Dragon's attack patterns and behavior states, which are tangentially related to the question but do not directly answer *how* to defeat it. It lacks critical information like destroying End crystals, damage sources, or post-defeat rewards. While it describes the dragon's immunity to arrows/tridents in certain states, this is not central to the question.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - Destroy its Obsidian Towers: The dragon regenerates health when standing on these towers. Destroying them prevents this regeneration.: SUPPORTED<br>  - Attack with a bow: Use a bow and arrows to attack the dragon while it’s standing on the obsidian towers.: UNSUPPORTED<br>  - Destroy the Obsidian Towers: Destroy the obsidian pillars that regenerate the dragon's health.: SUPPORTED<br>  - Destroy the Dragon's Health Regeneration: Attack the dragon when it is standing on the obsidian pillars.: UNSUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': {'correct': ['Destroying obsidian towers (End crystals) is necessary to prevent health regeneration.', 'Attacking the dragon is required to defeat it.'], 'incorrect_or_misleading': [&quot;The AI suggests using a bow and arrows to attack the dragon while it's on the towers, but the reference does not specify this as the primary method. The chunks mention the dragon is immune to arrows in certain states.&quot;, &quot;The phrasing 'Destroy the Dragon's Health Regeneration' is vague and redundant with the first step.&quot;]}, 'completeness': {'missing': [&quot;No mention of the dragon's health points (200).&quot;, 'No mention of damage multipliers for hitting the head vs. body.', &quot;No mention of the dragon's immunities (fire, drowning, poison, status effects).&quot;, 'No mention of the exit portal activation or experience drops after defeat.', &quot;No mention of the dragon's behavior states (e.g., circling, strafing, perching).&quot;], 'present_but_incomplete': ['The focus on destroying towers is correct but lacks detail (e.g., End crystals are on the towers, not just obsidian).']}, 'hallucinations': {'none': &quot;No outright hallucinations, but the advice to 'attack with a bow' is overly specific and not emphasized in the reference or chunks.&quot;}, 'relevance': {'on_topic': 'The answer stays on topic but oversimplifies the process and misses key mechanics.'}, 'use_of_chunks': {'underutilized': 'The chunks provide detailed metadata (e.g., health, attack patterns, immunities) and behavioral states, but the AI answer ignores most of this information.'}}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q3</td>
                            <td class="question-cell">
                                <div class="question-text">Where can I find diamonds and what are they used for?</div>
                                <div class="reference-text">Ref: Diamonds can be obtained from diamond ore using an iron pickaxe or better. Diamond ore is found at level 15 or lower, most commonly between -50 and -64. Levels -58 and -59 are the best for mining. Fortune enchantment increases diamond drops up to 4 with Fortune III. Diamonds are used to craft high-tier armor, tools, and enchanting tables. They can also be used to select beacon powers and repair diamond equipment.</div>
                            </td>
                            <td class="answer-cell">You can find diamonds in diamond ore, which generates as the cores of “obsidian rooms” and “lava rooms” in woodland mansions, and also within “obsidian rooms” and “lava rooms” in certain structures. Diamond ore is found within “obsidian rooms” and “lava rooms” in certain structures.<br><br>Diamonds are used to craft high-tier armor and equipment, which can be upgraded to netherite armor and equipment. They can also be used to craft diamond tools and weapons. Diamonds can be used to create diamond tools and weapons. The diamonds can be used to make diamond tools and weapons.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(239, 68, 68, 0.1); color: #ef4444; border: 1px solid #ef4444;">25/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">CTX 67%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">GRD 67%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">ANS 33%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">FTH 57%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(3)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-3" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer contains significant inaccuracies, repetitions, and omissions, particularly regarding diamond sources and uses.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **Chunk 1 (ID: diamond)**: Score 3 - Highly relevant. This chunk directly answers both parts of the question:<br>      1. **Where to find diamonds**: It specifies diamond ore is found at level 15 or lower, most commonly between -50 and -64 (with -58 and -59 as optimal levels), and mentions mining requirements (iron pickaxe or better) and Fortune enchantment effects.<br>      2. **Uses of diamonds**: It lists high-tier armor/tools, enchanting tables, beacon power selection, and repairing diamond equipment—all key points in the Reference Answer.<br><br>    - **Chunk 2 (ID: block_of_diamond)**: Score 1 - Somewhat related. While it discusses blocks of diamond (a derivative of diamonds), it does not address the core question:<br>      1. **Where to find diamonds**: No mention of ore locations or mining mechanics.<br>      2. **Uses of diamonds**: Only covers beacon power (partially relevant) and storage, which are not prioritized in the Reference Answer. The chunk is tangential and could distract from the primary answer.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - You can find diamonds in diamond ore, which generates as the cores of 'obsidian rooms' and 'lava rooms' in woodland mansions: UNSUPPORTED<br>  - Diamond ore is found within 'obsidian rooms' and 'lava rooms' in certain structures: CONTRADICTED<br>  - Diamonds are used to craft high-tier armor and equipment, which can be upgraded to netherite armor and equipment: SUPPORTED<br>  - They can also be used to craft diamond tools and weapons: SUPPORTED<br>  - Diamonds can be used to create diamond tools and weapons: SUPPORTED<br>  - The diamonds can be used to make diamond tools and weapons: SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': {'errors': [&quot;Incorrectly states diamonds generate as cores of 'obsidian rooms' and 'lava rooms' in woodland mansions (this applies to *blocks of diamond*, not diamond ore).&quot;, 'Misrepresents the primary source of diamonds (diamond ore) by overemphasizing rare structure loot (vaults/chests) without context.'], 'correct_but_repetitive': [&quot;Repeats 'diamond tools and weapons' three times without adding new information.&quot;, 'Correctly mentions high-tier armor/equipment but lacks specificity (e.g., enchanting tables, beacon powers).']}, 'completeness': {'missing': ['No mention of mining levels (-50 to -64, optimal -58/-59).', 'No details on Fortune enchantment (max 4 diamonds with Fortune III).', 'No mention of Silk Touch or ore drops.', 'No explanation of diamond uses for beacon powers (selecting powers) or repairing equipment.']}, 'hallucinations': ['Implies diamond ore is found *only* in woodland mansions (contradicts chunks, which state it spawns underground).', &quot;Redundant phrasing ('obsidian rooms' and 'lava rooms' repeated without clarity).&quot;], 'relevance': {'on_topic': 'Yes, but overly focused on tangential details (woodland mansions) while omitting core mining mechanics.', 'off_topic': 'None, but the answer is poorly structured.'}, 'chunk_usage': {'issues': ['Misapplies *block of diamond* details (woodland mansions) to *diamond ore*.', 'Ignores critical mining-level data from Chunk 1.', 'Overlooks repair/anvil uses and beacon power selection.']}}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q4</td>
                            <td class="question-cell">
                                <div class="question-text">What is an Allay and what does it do?</div>
                                <div class="reference-text">Ref: An Allay is a small flying passive mob that spawns in pillager outposts and woodland mansions. When given an item by a player, it follows them and collects dropped instances of the same item, delivering them to the player. If it hears a note block play, it delivers items to the note block instead for 30 seconds. Allays can be duplicated by giving them an amethyst shard while they are dancing near a playing jukebox.</div>
                            </td>
                            <td class="answer-cell">An Allay is a small, fluffy creature that’s attracted to music and light. Here's what it does:<br><br>*   **Attracted to Music and Light:** They are naturally drawn to areas with music playing or light sources.<br>*   **Collects Music:** It will gather items related to the music being played.<br>*   **Gathers Items:** It collects items related to the music being played, carrying them around.<br>*   **Carries Items:** It carries items it finds and around with it.<br><br>Essentially, an Allay is a curious creature that gathers items and follows the sounds of music.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(239, 68, 68, 0.1); color: #ef4444; border: 1px solid #ef4444;">15/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">CTX 100%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">GRD 44%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">ANS 33%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">FTH 30%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(4)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-4" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer contains significant hallucinations and inaccuracies, missing core functionalities of the Allay while inventing unrelated behaviors.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **Chunk 1 (allay_1)**: Highly relevant (score: 3). It directly answers the question by describing what an Allay is (a small flying passive mob), where it spawns (pillager outposts and woodland mansions), its core behavior (following the player to collect dropped items of the same type), and its interaction with note blocks. This chunk covers all key points in the Reference Answer except for the duplication mechanic, which is addressed in Chunk 2.<br><br>    - **Chunk 2 (allay_2)**: Highly relevant (score: 3). While it expands on less critical details (e.g., health, teleportation, or underwater item collection), it explicitly includes the duplication mechanic (using an amethyst shard while dancing near a jukebox), which is a key part of the Reference Answer. This complements Chunk 1 to fully answer the question.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - An Allay is a small, fluffy creature: UNSUPPORTED<br>  - Allays are attracted to music and light: PARTIALLY SUPPORTED<br>  - Allays are naturally drawn to areas with music playing: SUPPORTED<br>  - Allays are drawn to light sources: UNSUPPORTED<br>  - Allays collect music: UNSUPPORTED<br>  - Allays gather items related to the music being played: UNSUPPORTED<br>  - Allays collect items: SUPPORTED<br>  - Allays carry items they find around with them: SUPPORTED<br>  - Allays follow the sounds of music: SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': {'errors': [&quot;Incorrectly states Allays are 'attracted to music and light'—they are not attracted to light, and their music interaction is specific to note blocks/jukeboxes, not general music.&quot;, &quot;Claims Allays 'collect music' or 'items related to music'—this is entirely fabricated. Allays collect items matching what they were given, not music-related items.&quot;, 'Omits critical behaviors like spawning in pillager outposts/woodland mansions, item delivery mechanics, duplication via amethyst shards, or note block interactions.'], 'correct_points': [&quot;Mentions Allays 'gather items' (partially correct, but vague and overshadowed by errors).&quot;]}, 'completeness': {'missing': ['No mention of spawning locations (pillager outposts/woodland mansions).', 'No explanation of item delivery to players/note blocks.', 'No details on duplication (amethyst shard + jukebox).', 'No passive mob status or flying mechanics.', 'No cooldowns or limitations (e.g., 30-second note block focus).']}, 'hallucinations': [&quot;Allays are 'fluffy' (not mentioned in reference/chunks).&quot;, &quot;Allays are 'attracted to light' (false).&quot;, &quot;Allays 'collect music' or 'items related to music' (false).&quot;, &quot;Allays 'carry items around with them' (misleading—context implies aimless carrying, not targeted delivery).&quot;], 'relevance': {'issue': &quot;The answer drifts into invented behaviors (e.g., 'curious creature') while ignoring core mechanics. It fails to address the question's focus on *what an Allay is* (a mob) and *what it does* (item collection/delivery).&quot;}, 'chunk_usage': {'failure': 'The AI ignored most of the provided chunks, which detail spawning, item mechanics, duplication, and note block interactions. Instead, it fabricated behaviors unsupported by the context.'}}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q5</td>
                            <td class="question-cell">
                                <div class="question-text">How does the Absorption effect work?</div>
                                <div class="reference-text">Ref: Absorption is a status effect that adds extra yellow hearts above the normal health bar. These absorption health points are depleted first when taking damage. Unlike regular health, absorption hearts cannot be replenished by natural regeneration or other effects and vanish when the effect ends. The Ender Dragon is completely immune to this effect.</div>
                            </td>
                            <td class="answer-cell">The Absorption effect pads the health bar with additional hearts. It adds additional health points per level, displayed as yellow hearts above the normal health bar. The absorption health cannot be replenished by natural regeneration or other effects and vanishes when the effect ends. Negative absorption levels do not have an immediate effect but give additional health points per level when the status effect ends.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(16, 185, 129, 0.1); color: #10b981; border: 1px solid #10b981;">42/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">CTX 100%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 100%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">ANS 67%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">FTH 75%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(5)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-5" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is mostly accurate and relevant but omits key details about damage depletion order and the Ender Dragon's immunity.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **Chunk 1 (ID: absorption)** is highly relevant (score: 3) because it directly contains all the key information mentioned in the Reference Answer:<br>      1. Absorption adds extra yellow hearts above the normal health bar.<br>      2. These absorption health points are depleted first when taking damage.<br>      3. Absorption hearts cannot be replenished by natural regeneration or other effects and vanish when the effect ends.<br>      4. The Ender Dragon is completely immune to this effect.<br>      The chunk also provides additional details (e.g., negative absorption levels, wither's immunity nuances) that are not required for the Reference Answer but do not detract from correctness. Thus, it fully answers the question.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - The Absorption effect pads the health bar with additional hearts.: SUPPORTED<br>  - It adds additional health points per level, displayed as yellow hearts above the normal health bar.: SUPPORTED<br>  - The absorption health cannot be replenished by natural regeneration or other effects and vanishes when the effect ends.: SUPPORTED<br>  - Negative absorption levels do not have an immediate effect but give additional health points per level when the status effect ends.: SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': {'correct': ['Absorption pads the health bar with extra hearts (yellow hearts above normal health bar).', 'Absorption health cannot be replenished by natural regeneration or other effects.', 'Absorption health vanishes when the effect ends.', 'Negative absorption levels do not have an immediate effect but grant additional health points when the effect ends.'], 'incorrect_or_unsupported': []}, 'completeness': {'missing': ['The order of damage depletion (absorption hearts depleted first) is not mentioned.', &quot;The Ender Dragon's immunity to the effect is omitted.&quot;, &quot;The mention of the Wither's immunity (from CHUNK 1) is not required but could be considered a minor omission.&quot;]}, 'hallucinations': 'None detected. All information is supported by the provided chunks or reference.', 'relevance': 'The answer stays strictly on topic and does not deviate from the question.', 'chunk_usage': 'The AI correctly used the provided chunks but did not include all details from them, particularly the damage depletion order and mob immunity.'}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q6</td>
                            <td class="question-cell">
                                <div class="question-text">What is an Activator Rail and how does it work?</div>
                                <div class="reference-text">Ref: An Activator Rail is a type of rail that affects minecarts when powered. When active, it ejects entities from regular minecarts, locks hopper minecarts preventing item pickup, and primes TNT minecarts to explode after 4 seconds. When inactive, it enables hopper minecarts to pick up items again. It can be powered by adjacent redstone components and activates up to 8 connected rails.</div>
                            </td>
                            <td class="answer-cell">An Activator Rail is a block that can be used to power other rails. It aligns with other rails, and it’s activated by nearby active components (like redstone torches or powered blocks) or by nearby powered rails. The activator rail itself doesn't generate power; instead, it uses the power from adjacent sources to activate and propel minecarts along other powered rails. It can be used to move minecarts along other powered rails.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(239, 68, 68, 0.1); color: #ef4444; border: 1px solid #ef4444;">25/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">CTX 67%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">GRD 40%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">ANS 33%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">FTH 25%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(6)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-6" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is partially correct but misses key functionalities of the Activator Rail and introduces minor inaccuracies.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **Chunk 1 (Score: 3)**: Highly relevant. It directly explains how an Activator Rail works, including its effects on minecarts (ejecting entities, locking hopper minecarts, priming TNT minecarts) and how it can be powered by redstone components. This aligns closely with the Reference Answer and fully addresses the question.<br>    - **Chunk 2 (Score: 1)**: Somewhat related but not useful. While it mentions activator rails, it focuses on unrelated details (mob interactions, piston behavior) that do not help answer the question about the rail's function or mechanics. This could distract from the correct answer.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - An Activator Rail is a block that can be used to power other rails.: UNSUPPORTED<br>  - It aligns with other rails.: SUPPORTED<br>  - It’s activated by nearby active components (like redstone torches or powered blocks) or by nearby powered rails.: SUPPORTED<br>  - The activator rail itself doesn't generate power; instead, it uses the power from adjacent sources to activate and propel minecarts along other powered rails.: UNSUPPORTED<br>  - It can be used to move minecarts along other powered rails.: UNSUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': {'correct': 'The AI correctly identifies that an Activator Rail is a block activated by redstone components (e.g., redstone torches, powered blocks).', 'incorrect': &quot;The AI misrepresents the Activator Rail's primary function, stating it 'powers other rails' and 'propels minecarts along other powered rails,' which is not its main purpose. The reference and chunks clarify its role in affecting minecarts (ejecting entities, locking hopper minecarts, priming TNT minecarts).&quot;}, 'completeness': {'missing': &quot;The AI omits critical details about the Activator Rail's effects on minecarts (e.g., ejecting entities, locking hopper minecarts, priming TNT minecarts) and its behavior when inactive (enabling hopper minecarts to pick up items again). It also fails to mention the rail's power propagation (activating up to 8 connected rails).&quot;}, 'hallucinations': {'present': &quot;The AI claims the Activator Rail 'powers other rails' and 'propels minecarts,' which is not supported by the reference or chunks. While it can interact with minecarts, its primary role is not propulsion but triggering specific effects when powered.&quot;}, 'relevance': {'on_topic': 'The answer stays broadly on topic but focuses on secondary or incorrect functionalities (e.g., powering rails) rather than the core mechanics described in the reference and chunks.'}, 'use_of_chunks': {'underutilized': &quot;The AI does not leverage the chunks effectively. Chunk 1 explicitly describes the Activator Rail's effects on minecarts and its activation methods, but the AI ignores these details in favor of a vague description of rail interactions.&quot;}}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q7</td>
                            <td class="question-cell">
                                <div class="question-text">Where can I find an Ancient City and what's inside?</div>
                                <div class="reference-text">Ref: Ancient Cities generate in deep dark biomes at Y level -51. They are large palatial structures with corridors covered in gray wool to prevent vibrations, ruins with loot chests, and sculk blocks. The center features a frame resembling a warden's head with unobtainable reinforced deepslate. Chests contain unique items like echo shards, disc fragments, Swift Sneak enchantment, and exclusive armor trims.</div>
                            </td>
                            <td class="answer-cell">You can find an Ancient City in the Deep Dark, typically within mountainous areas with low erosion values, and never below an ocean. Inside you’ll find a large palace made up of long corridors and containing various items including reinforced deepslate.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b; border: 1px solid #f59e0b;">35/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">CTX 67%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">GRD 71%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">ANS 67%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">FTH 80%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(7)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-7" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is mostly accurate but lacks key details about the Ancient City's contents and specific generation conditions, leading to an incomplete response.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **Chunk 1 (ID: ancient_city_1)**: Score 3 - Highly relevant. This chunk directly answers the question by providing detailed information about where Ancient Cities generate (deep dark biomes at Y level -51) and what's inside them (corridors with gray wool, ruins with loot chests, sculk blocks, warden's head frame, reinforced deepslate, unique items like echo shards and disc fragments, etc.). It covers all key points mentioned in the Reference Answer and could lead to a fully correct answer.<br><br>    - **Chunk 2 (ID: cave_4)**: Score 1 - Somewhat related. While this chunk mentions Ancient Cities briefly (location in deep dark, loot chests, warden's head frame, and reinforced deepslate), it is primarily about other cave structures (monster rooms, mineshafts, amethyst geodes, etc.). The information about Ancient Cities is fragmented and incomplete, making it only tangentially useful for answering the question. It could lead to a partial or incomplete answer.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - You can find an Ancient City in the Deep Dark: SUPPORTED<br>  - typically within mountainous areas with low erosion values: SUPPORTED<br>  - and never below an ocean: SUPPORTED<br>  - Inside you’ll find a large palace made up of long corridors: SUPPORTED<br>  - containing various items including reinforced deepslate: SUPPORTED<br>  - The AI answer does not mention specific items like echo shards, disc fragments, Swift Sneak enchantment, or exclusive armor trims, which are supported by the contexts: UNSUPPORTED (omitted but not contradicted)<br>  - The AI answer does not mention the frame resembling a warden's head or the presence of sculk blocks, which are supported by the contexts: UNSUPPORTED (omitted but not contradicted)
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': {'correct': &quot;The AI correctly identifies the Ancient City's location in the Deep Dark and mentions reinforced deepslate.&quot;, 'incorrect_or_missing': &quot;It omits the Y level (-51), the purpose of gray wool (vibration prevention), unique loot (echo shards, Swift Sneak enchantment, armor trims), and the warden's head frame structure. The phrase 'typically within mountainous areas with low erosion values' is overly generalized and not as precise as the reference.&quot;}, 'completeness': {'answered_parts': &quot;The AI answers the 'where' (Deep Dark) and partially the 'what's inside' (reinforced deepslate).&quot;, 'missing_parts': &quot;It fails to mention the city's layout (corridors, ruins, loot chests), unique blocks (sculk, soul lanterns), and exclusive items (disc fragments, echo shards). The 'what's inside' part is too vague.&quot;}, 'hallucinations': 'None detected. All information is supported by the chunks, though some details are omitted.', 'relevance': 'The answer stays on topic but is overly concise and lacks depth.', 'chunk_usage': 'The AI uses the chunks but omits critical details like loot, structural features, and specific biome conditions (e.g., Y level). The response feels like a summary of a subset of the provided context.'}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q8</td>
                            <td class="question-cell">
                                <div class="question-text">What is Ancient Debris and where can I find it?</div>
                                <div class="reference-text">Ref: Ancient Debris is a rare ore found in the Nether that can only be mined with a diamond or netherite pickaxe. It generates most commonly at Y-level 16, between levels 8 to 24. It never spawns exposed to air and is immune to normal explosions. In item form, it floats on lava and is immune to fire. When smelted, it produces netherite scraps used to craft netherite ingots.</div>
                            </td>
                            <td class="answer-cell">Ancient Debris is a rare block found in the Nether, known for its blast resistance. It’s generated within the outer layer of amethyst geodes and also appears in ancient cities.  It’s typically found as part of those structures. Its primary use is as a structural element due to its high blast resistance.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(239, 68, 68, 0.1); color: #ef4444; border: 1px solid #ef4444;">15/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">CTX 50%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">GRD 33%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">ANS 33%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">FTH 33%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(8)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-8" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer contains significant hallucinations and incorrect information, while missing key details about Ancient Debris.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **Chunk 1 (ID: ancient_debris)**: Score 3 - Highly relevant. This chunk directly answers the question by providing all key details from the Reference Answer: what Ancient Debris is, where it can be found (Nether, Y-level 16, between 8-24), mining requirements (diamond/netherite pickaxe), its immunity to explosions/fire, and its use in crafting netherite scraps/ingots. It even includes additional context (e.g., generation mechanics) that doesn’t contradict the core answer.<br>    - **Chunk 2 (ID: smooth_basalt)**: Score 0 - Completely irrelevant. This chunk discusses smooth basalt, a decorative block unrelated to Ancient Debris. It does not address any part of the question or Reference Answer and could mislead if included in the response.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - Ancient Debris is a rare block found in the Nether: SUPPORTED<br>  - known for its blast resistance: SUPPORTED<br>  - It’s generated within the outer layer of amethyst geodes: CONTRADICTED<br>  - also appears in ancient cities: UNSUPPORTED<br>  - It’s typically found as part of those structures: UNSUPPORTED<br>  - Its primary use is as a structural element due to its high blast resistance: UNSUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': {'errors': ['Ancient Debris is incorrectly stated to generate within the outer layer of amethyst geodes and ancient cities. This is false (hallucination) and contradicts the reference and chunks, which specify it generates in the Nether.', &quot;The primary use is misrepresented as a 'structural element due to its high blast resistance,' while the reference and chunks emphasize its role in crafting netherite ingots.&quot;], 'correct_points': ['Mentions Ancient Debris is blast-resistant (true, but incomplete).']}, 'completeness': {'missing_info': ['No mention of mining requirements (diamond/netherite pickaxe).', 'No details on Y-level distribution (e.g., Y=16 is most common).', 'No explanation of its use in smelting to produce netherite scraps.', 'No mention of its behavior in lava or immunity to fire in item form.', 'No clarification that it never spawns exposed to air.']}, 'hallucinations': ['Ancient Debris generating in amethyst geodes and ancient cities (not supported by chunks or reference).', &quot;Misrepresentation of its primary use as a 'structural element' (unsupported by chunks or reference).&quot;], 'relevance': {'issue': 'The answer drifts off-topic by focusing on unrelated blocks (amethyst geodes/ancient cities) and omits core details about Ancient Debris itself.'}, 'chunk_usage': {'failure': &quot;The AI ignored critical details from [CHUNK 1] (e.g., Y-levels, mining tools, smelting) and incorrectly associated Ancient Debris with [CHUNK 2]'s smooth basalt context.&quot;}}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q9</td>
                            <td class="question-cell">
                                <div class="question-text">How do amethyst clusters grow?</div>
                                <div class="reference-text">Ref: Amethyst clusters grow on budding amethyst blocks in amethyst geodes. When a budding amethyst receives a random tick, there is a 20% chance for a small amethyst bud to generate on any of its sides. Buds grow through four stages: small, medium, large, and finally amethyst cluster. Only fully grown clusters drop amethyst shards when mined. Mining with Fortune III can yield up to 16 shards.</div>
                            </td>
                            <td class="answer-cell">Amethyst clusters grow through a process that takes approximately 8192 seconds (or about 4 hours and 16 minutes) to complete.  During this time, the amethyst cluster grows from an initial state of being unformed into a fully formed cluster. The growth occurs in stages, with each stage taking roughly one hour and 50 minutes. Each stage is dependent on the previous stage, and if any of the stages are skipped, the entire process will be interrupted and not completed.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b; border: 1px solid #f59e0b;">30/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">CTX 100%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">GRD 0%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">ANS 33%</span>
                                <span class="metric-pill" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">FTH 25%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(9)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-9" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is partially correct but contains significant inaccuracies, omissions, and misleading details about the growth process of amethyst clusters.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **Chunk 1 (ID: budding_amethyst)** is **highly relevant (3)**. It directly addresses the question by explaining:<br>      1. Amethyst clusters grow on budding amethyst blocks in amethyst geodes.<br>      2. The growth process (small → medium → large → cluster stages).<br>      3. The 20% chance per random tick for growth to occur.<br>      4. The requirement for fully grown clusters to drop shards.<br>      This chunk fully aligns with the Reference Answer and provides all necessary details.<br><br>    - **Chunk 2 (ID: amethyst_cluster_2)** is also **highly relevant (3)**. It reinforces and expands on Chunk 1 by:<br>      1. Reiterating the 20% chance per random tick and the 4-stage growth process.<br>      2. Clarifying the math behind growth timing (e.g., 8192 seconds for full growth).<br>      3. Confirming the role of budding amethyst in cluster formation.<br>      While it includes some tangential details (e.g., placement rules, light levels), the core information is directly useful for answering the question.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - Amethyst clusters grow through a process that takes approximately 8192 seconds (or about 4 hours and 16 minutes) to complete.: CONTRADICTED<br>  - During this time, the amethyst cluster grows from an initial state of being unformed into a fully formed cluster.: UNSUPPORTED<br>  - The growth occurs in stages, with each stage taking roughly one hour and 50 minutes.: CONTRADICTED<br>  - Each stage is dependent on the previous stage, and if any of the stages are skipped, the entire process will be interrupted and not completed.: UNSUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': {'correct': ['Amethyst clusters grow over time through a staged process.', &quot;The total growth time is approximately 8192 seconds (though the AI misstates it as 'about 4 hours and 16 minutes' instead of the correct '2 hours 16 minutes 32 seconds').&quot;], 'incorrect': [&quot;The AI claims the growth process takes 'about 4 hours and 16 minutes' (should be ~2 hours 16 minutes).&quot;, &quot;The AI states each stage takes 'roughly one hour and 50 minutes' (incorrect; the math in the chunks shows ~2048 seconds per stage, or ~34 minutes).&quot;, &quot;The AI implies stages are time-dependent ('each stage taking roughly one hour and 50 minutes') rather than random-tick-dependent, which is misleading.&quot;]}, 'completeness': {'missing': ['No mention of budding amethyst blocks as the growth medium.', 'No mention of the 20% chance per random tick for growth.', 'No mention of the four distinct stages (small, medium, large, cluster).', 'No mention of mining rewards (amethyst shards) or Fortune III mechanics.', 'No mention of growth conditions (e.g., obstruction rules, water interaction).']}, 'hallucinations': [&quot;The AI claims the entire process is 'interrupted and not completed' if stages are skipped (not supported by chunks or reference).&quot;, &quot;The AI implies a deterministic time per stage ('one hour and 50 minutes'), which contradicts the random-tick-based growth described in the chunks.&quot;], 'relevance': {'on_topic': 'The answer stays broadly on-topic (amethyst cluster growth) but lacks critical details and introduces inaccuracies.'}, 'chunk_usage': {'issues': [&quot;The AI misinterprets the growth time calculation (8192 seconds is correct but misrepresented as '4 hours').&quot;, 'The AI ignores key details from the chunks (e.g., stages, random ticks, budding amethyst role).']}}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td style="font-weight: 600; color: #3B82F6;">Q10</td>
                            <td class="question-cell">
                                <div class="question-text">What is an Anvil used for?</div>
                                <div class="reference-text">Ref: An Anvil is used to rename items, combine enchantments, and repair items without losing enchantments. It requires 31 iron ingots to craft. Players can repair items by combining two similar items or using repair materials like iron ingots for iron tools. The anvil has a 12% chance to become damaged with each use, going from normal to chipped to damaged before breaking. It has a repair cost limit of 39 levels.</div>
                            </td>
                            <td class="answer-cell">An Anvil is used to repair items – specifically, it can be used to repair items and retain their enchantments. It can also be used to rename items. When repairing with materials, the item retains its enchantments.</td>
                            <td>
                                <span class="score-badge" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b; border: 1px solid #f59e0b;">35/50</span>
                            </td>
                            <td class="metrics-cell">
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">CTX 67%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">GRD 100%</span>
                                <span class="metric-pill" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">ANS 67%</span>
                                <span class="metric-pill" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">FTH 100%</span>
                            </td>
                            <td>
                                <button class="details-toggle" onclick="toggleDetails(10)">Show Details</button>
                            </td>
                        </tr>
                        <tr id="details-row-10" class="details-row" style="display: none;">
                            <td colspan="6">
                                <div class="details-content-expanded">
                                    <div class="details-grid">
                                        <div class="detail-section">
                                            <strong>Score Analysis:</strong>
                                            The AI answer is mostly accurate but lacks several key details from the reference and chunks, such as crafting requirements, durability mechanics, and repair cost limits.
                                        </div>
                                        <div class="detail-section">
                                            <strong>Context Relevance:</strong>
                                            <br>    - **Chunk 1 (ID: deprecated_anvil)**: Score 1. This chunk is somewhat related but not useful for answering the question. It focuses on a deprecated variant of the anvil, which is not the standard anvil and is only obtainable via commands. While it mentions that the deprecated anvil functions identically to a regular anvil, it does not provide the core information about the anvil's primary uses (renaming, combining enchantments, repairing items) or crafting requirements, which are critical to the reference answer.<br><br>    - **Chunk 2 (ID: anvil_1)**: Score 3. This chunk is highly relevant and contains all the key information needed for the correct answer. It explicitly mentions the anvil's uses (renaming items, combining enchantments, repairing items without losing enchantments), crafting requirements (31 iron ingots), durability mechanics (chipped/damaged states), and repair methods (combining items or using materials). This chunk fully aligns with the reference answer and would enable a correct response to the question.<br>  
                                        </div>
                                        <div class="detail-section">
                                            <strong>Groundedness:</strong>
                                              - An Anvil is used to repair items: SUPPORTED<br>  - it can be used to repair items and retain their enchantments: SUPPORTED<br>  - It can also be used to rename items: SUPPORTED<br>  - When repairing with materials, the item retains its enchantments: SUPPORTED
                                        </div>
                                        <div class="detail-section">
                                            <strong>Detailed:</strong>
                                            {'factual_accuracy': {'correct': 'The AI correctly states that an anvil is used to repair items while retaining enchantments and to rename items.', 'incorrect_or_missing': &quot;The AI omits critical details such as the crafting requirement of 31 iron ingots, the anvil's durability degradation (12% chance to damage per use), the repair cost limit of 39 levels, and the specific methods of repairing (combining two similar items or using repair materials).&quot;}, 'completeness': {'missing_parts': ['Crafting requirements (31 iron ingots)', 'Durability mechanics (chipped/damaged states, 12% damage chance per use)', 'Repair cost limit (39 levels)', &quot;Explicit mention of combining enchantments (only implied in 'retain enchantments')&quot;, 'Details about repair materials (e.g., iron ingots for iron tools)']}, 'hallucinations': 'No hallucinations detected. The AI answer is grounded in the provided chunks and reference.', 'relevance': 'The answer stays on topic but is overly simplistic compared to the reference and chunks.', 'chunk_usage': 'The AI used the chunks partially but failed to incorporate key details like durability, crafting, and repair limits. The answer could have been more comprehensive by leveraging the full context from [CHUNK 2].'}
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                    </tbody>
                </table>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>RAG Evaluation Report | Powered by Tryll Engine Inc.</p>
        </div>
    </div>

    <script>
        // Toggle details row visibility
        function toggleDetails(id) {
            const row = document.getElementById('details-row-' + id);
            const btn = event.target;
            if (row.style.display === 'none') {
                row.style.display = 'table-row';
                btn.textContent = 'Hide Details';
            } else {
                row.style.display = 'none';
                btn.textContent = 'Show Details';
            }
        }

        // Scores Bar Chart
        const scoresCtx = document.getElementById('scoresChart').getContext('2d');
        new Chart(scoresCtx, {
            type: 'bar',
            data: {
                labels: ["Q1", "Q2", "Q3", "Q4", "Q5", "Q6", "Q7", "Q8", "Q9", "Q10"],
                datasets: [{
                    label: 'Score',
                    data: [25, 30, 25, 15, 42, 25, 35, 15, 30, 35],
                    backgroundColor: [25, 30, 25, 15, 42, 25, 35, 15, 30, 35].map(score => {
                        if (score >= 40) return 'rgba(16, 185, 129, 0.7)';
                        if (score >= 25) return 'rgba(245, 158, 11, 0.7)';
                        return 'rgba(239, 68, 68, 0.7)';
                    }),
                    borderColor: [25, 30, 25, 15, 42, 25, 35, 15, 30, 35].map(score => {
                        if (score >= 40) return '#10b981';
                        if (score >= 25) return '#f59e0b';
                        return '#ef4444';
                    }),
                    borderWidth: 2,
                    borderRadius: 8
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 50,
                        grid: { color: 'rgba(255,255,255,0.08)' },
                        ticks: { color: 'rgba(255,255,255,0.55)' }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { color: 'rgba(255,255,255,0.55)' }
                    }
                }
            }
        });

        // Radar Chart
        const radarCtx = document.getElementById('radarChart').getContext('2d');
        new Chart(radarCtx, {
            type: 'radar',
            data: {
                labels: ['Context Relevance', 'Groundedness', 'Answer Relevance', 'Faithfulness'],
                datasets: [{
                    label: 'Average Metrics',
                    data: [75.0, 56.5, 46.7, 54.0],
                    backgroundColor: 'rgba(59, 130, 246, 0.15)',
                    borderColor: '#3B82F6',
                    borderWidth: 2,
                    pointBackgroundColor: '#3B82F6',
                    pointBorderColor: '#F6F0EB',
                    pointHoverBackgroundColor: '#F6F0EB',
                    pointHoverBorderColor: '#3B82F6'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    r: {
                        beginAtZero: true,
                        max: 100,
                        grid: { color: 'rgba(255,255,255,0.08)' },
                        angleLines: { color: 'rgba(255,255,255,0.08)' },
                        pointLabels: { color: 'rgba(255,255,255,0.85)', font: { size: 11, weight: 500 } },
                        ticks: {
                            color: 'rgba(255,255,255,0.5)',
                            backdropColor: 'transparent'
                        }
                    }
                },
                plugins: {
                    legend: { display: false }
                }
            }
        });

        // Metrics Breakdown Chart
        const metricsCtx = document.getElementById('metricsChart').getContext('2d');
        new Chart(metricsCtx, {
            type: 'bar',
            data: {
                labels: ["Q1", "Q2", "Q3", "Q4", "Q5", "Q6", "Q7", "Q8", "Q9", "Q10"],
                datasets: [
                    {
                        label: 'Context Relevance',
                        data: [83.3, 50.0, 66.7, 100.0, 100.0, 66.7, 66.7, 50.0, 100.0, 66.7],
                        backgroundColor: 'rgba(59, 130, 246, 0.7)',
                        borderRadius: 4
                    },
                    {
                        label: 'Groundedness',
                        data: [60.0, 50.0, 66.7, 44.0, 100.0, 40.0, 71.0, 33.0, 0.0, 100.0],
                        backgroundColor: 'rgba(35, 46, 65, 0.9)',
                        borderRadius: 4
                    },
                    {
                        label: 'Answer Relevance',
                        data: [33.3, 66.7, 33.3, 33.3, 66.7, 33.3, 66.7, 33.3, 33.3, 66.7],
                        backgroundColor: 'rgba(246, 240, 235, 0.7)',
                        borderRadius: 4
                    },
                    {
                        label: 'Faithfulness',
                        data: [40.0, 75.0, 57.0, 30.0, 75.0, 25.0, 80.0, 33.0, 25.0, 100.0],
                        backgroundColor: 'rgba(16, 185, 129, 0.7)',
                        borderRadius: 4
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top',
                        labels: { color: 'rgba(255,255,255,0.85)' }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100,
                        grid: { color: 'rgba(255,255,255,0.08)' },
                        ticks: { color: 'rgba(255,255,255,0.55)' }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { color: 'rgba(255,255,255,0.55)' }
                    }
                }
            }
        });
    </script>
</body>
</html>
